2025-10-20 14:55:24.890 +03:00 [INF] Worker running at: "2025-10-20T14:55:24.8903416+03:00"
2025-10-20 14:55:24.896 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 14:55:24.900 +03:00 [DBG] Creating DbConnection.
2025-10-20 14:55:24.901 +03:00 [DBG] Created DbConnection. (1ms).
2025-10-20 14:55:24.903 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:24.904 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:24.908 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 14:55:24.910 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 14:55:24.911 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-10-20 14:55:24.913 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 14:55:24.924 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 14:55:24.927 +03:00 [DBG] Context 'BillingServiceDBContext' started tracking 'OutboxEvent' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 14:55:24.929 +03:00 [DBG] Context 'BillingServiceDBContext' started tracking 'OutboxEvent' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 14:55:24.931 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 14:55:24.932 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 5ms reading results.
2025-10-20 14:55:24.935 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:24.936 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (1ms).
2025-10-20 14:55:24.986 +03:00 [ERR] exception occured Already closed: The AMQP operation was interrupted: AMQP close-reason, initiated by Peer, code=406, text='PRECONDITION_FAILED - inequivalent arg 'x-dead-letter-exchange' for queue 'InvoiceCreatedQueue' in vhost '/': received none but current is the value 'InvoiceCreatedExchange' of type 'longstr'', classId=50, methodId=10 , stackTrace    at RabbitMQ.Client.Impl.SessionBase.ThrowAlreadyClosedException()
   at RabbitMQ.Client.Impl.SessionBase.TransmitAsync[T](T& cmd, CancellationToken cancellationToken)
   at RabbitMQ.Client.Impl.Channel.QueueDeclareAsync(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments, Boolean passive, Boolean noWait, CancellationToken cancellationToken)
   at RabbitMQ.Client.Impl.AutorecoveringChannel.QueueDeclareAsync(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments, Boolean passive, Boolean noWait, CancellationToken cancellationToken)
   at BillingSystem.Infrastructure.Bus.RabbitMqBus.<>c__DisplayClass5_0`1.<<PublishMessageToQueueAsync>b__0>d.MoveNext() in C:\Repositories\Gac-BillingSystem\src\BillingSystem.Infrastructure\Bus\RabbitMqBus.cs:line 33
--- End of stack trace from previous location ---
   at BillingSystem.Infrastructure.Bus.RabbitMqBus.PublishMessageToQueueAsync[T](T message, String queueName) in C:\Repositories\Gac-BillingSystem\src\BillingSystem.Infrastructure\Bus\RabbitMqBus.cs:line 36
   at BillingSystem.OutboxProcessor.Worker.ProcessBulkInvoicesAsync() in C:\Repositories\Gac-BillingSystem\src\BillingSystem.OutboxProcessor\Worker.cs:line 81
2025-10-20 14:55:24.989 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:24.991 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:24.993 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 14:55:24.995 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 14:55:24.997 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-10-20 14:55:24.999 +03:00 [DBG] Executing DbCommand [Parameters=[@__entity_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [o].[Id], [o].[Aggregate_id], [o].[CreatedDate], [o].[ErrorMsg], [o].[Event_type], [o].[Payload], [o].[Processed], [o].[ProcessingStatus]
FROM [Outbox_events] AS [o]
WHERE [o].[Id] = @__entity_Id_0
2025-10-20 14:55:25.003 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__entity_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [o].[Id], [o].[Aggregate_id], [o].[CreatedDate], [o].[ErrorMsg], [o].[Event_type], [o].[Payload], [o].[Processed], [o].[ProcessingStatus]
FROM [Outbox_events] AS [o]
WHERE [o].[Id] = @__entity_Id_0
2025-10-20 14:55:25.007 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 14:55:25.008 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 1ms reading results.
2025-10-20 14:55:25.010 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:25.012 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (1ms).
2025-10-20 14:55:25.014 +03:00 [DBG] SaveChanges starting for 'BillingServiceDBContext'.
2025-10-20 14:55:25.016 +03:00 [DBG] DetectChanges starting for 'BillingServiceDBContext'.
2025-10-20 14:55:25.017 +03:00 [DBG] DetectChanges completed for 'BillingServiceDBContext'.
2025-10-20 14:55:25.018 +03:00 [DBG] SaveChanges completed for 'BillingServiceDBContext' with 0 entities written to the database.
2025-10-20 14:55:25.036 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 14:55:25.038 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:25.041 +03:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-10-20 14:55:25.060 +03:00 [ERR] exception occured Already closed: The AMQP operation was interrupted: AMQP close-reason, initiated by Peer, code=406, text='PRECONDITION_FAILED - inequivalent arg 'x-dead-letter-exchange' for queue 'InvoiceCreatedQueue' in vhost '/': received none but current is the value 'InvoiceCreatedExchange' of type 'longstr'', classId=50, methodId=10 , stackTrace    at RabbitMQ.Client.Impl.SessionBase.ThrowAlreadyClosedException()
   at RabbitMQ.Client.Impl.SessionBase.TransmitAsync[T](T& cmd, CancellationToken cancellationToken)
   at RabbitMQ.Client.Impl.Channel.QueueDeclareAsync(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments, Boolean passive, Boolean noWait, CancellationToken cancellationToken)
   at RabbitMQ.Client.Impl.AutorecoveringChannel.QueueDeclareAsync(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments, Boolean passive, Boolean noWait, CancellationToken cancellationToken)
   at BillingSystem.Infrastructure.Bus.RabbitMqBus.<>c__DisplayClass5_0`1.<<PublishMessageToQueueAsync>b__0>d.MoveNext() in C:\Repositories\Gac-BillingSystem\src\BillingSystem.Infrastructure\Bus\RabbitMqBus.cs:line 33
--- End of stack trace from previous location ---
   at BillingSystem.Infrastructure.Bus.RabbitMqBus.PublishMessageToQueueAsync[T](T message, String queueName) in C:\Repositories\Gac-BillingSystem\src\BillingSystem.Infrastructure\Bus\RabbitMqBus.cs:line 36
   at BillingSystem.OutboxProcessor.Worker.ProcessBulkInvoicesAsync() in C:\Repositories\Gac-BillingSystem\src\BillingSystem.OutboxProcessor\Worker.cs:line 81
   at BillingSystem.OutboxProcessor.Worker.ProcessBulkInvoicesAsync() in C:\Repositories\Gac-BillingSystem\src\BillingSystem.OutboxProcessor\Worker.cs:line 91
   at BillingSystem.OutboxProcessor.Worker.ExecuteAsync(CancellationToken stoppingToken) in C:\Repositories\Gac-BillingSystem\src\BillingSystem.OutboxProcessor\Worker.cs:line 53
2025-10-20 14:55:25.062 +03:00 [INF] Worker running at: "2025-10-20T14:55:25.0624066+03:00"
2025-10-20 14:55:25.064 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 14:55:25.067 +03:00 [DBG] Creating DbConnection.
2025-10-20 14:55:25.068 +03:00 [DBG] Created DbConnection. (0ms).
2025-10-20 14:55:25.069 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:25.071 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:25.073 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 14:55:25.075 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 14:55:25.077 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-10-20 14:55:25.078 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 14:55:25.091 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 14:55:25.094 +03:00 [DBG] Context 'BillingServiceDBContext' started tracking 'OutboxEvent' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 14:55:25.096 +03:00 [DBG] Context 'BillingServiceDBContext' started tracking 'OutboxEvent' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 14:55:25.098 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 14:55:25.099 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 5ms reading results.
2025-10-20 14:55:25.102 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:25.103 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (1ms).
2025-10-20 14:55:25.161 +03:00 [ERR] exception occured Already closed: The AMQP operation was interrupted: AMQP close-reason, initiated by Peer, code=406, text='PRECONDITION_FAILED - inequivalent arg 'x-dead-letter-exchange' for queue 'InvoiceCreatedQueue' in vhost '/': received none but current is the value 'InvoiceCreatedExchange' of type 'longstr'', classId=50, methodId=10 , stackTrace    at RabbitMQ.Client.Impl.SessionBase.ThrowAlreadyClosedException()
   at RabbitMQ.Client.Impl.SessionBase.TransmitAsync[T](T& cmd, CancellationToken cancellationToken)
   at RabbitMQ.Client.Impl.Channel.QueueDeclareAsync(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments, Boolean passive, Boolean noWait, CancellationToken cancellationToken)
   at RabbitMQ.Client.Impl.AutorecoveringChannel.QueueDeclareAsync(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments, Boolean passive, Boolean noWait, CancellationToken cancellationToken)
   at BillingSystem.Infrastructure.Bus.RabbitMqBus.<>c__DisplayClass5_0`1.<<PublishMessageToQueueAsync>b__0>d.MoveNext() in C:\Repositories\Gac-BillingSystem\src\BillingSystem.Infrastructure\Bus\RabbitMqBus.cs:line 33
--- End of stack trace from previous location ---
   at BillingSystem.Infrastructure.Bus.RabbitMqBus.PublishMessageToQueueAsync[T](T message, String queueName) in C:\Repositories\Gac-BillingSystem\src\BillingSystem.Infrastructure\Bus\RabbitMqBus.cs:line 36
   at BillingSystem.OutboxProcessor.Worker.ProcessBulkInvoicesAsync() in C:\Repositories\Gac-BillingSystem\src\BillingSystem.OutboxProcessor\Worker.cs:line 81
2025-10-20 14:55:25.165 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:25.168 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:25.171 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 14:55:25.173 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 14:55:25.176 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-10-20 14:55:25.179 +03:00 [DBG] Executing DbCommand [Parameters=[@__entity_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [o].[Id], [o].[Aggregate_id], [o].[CreatedDate], [o].[ErrorMsg], [o].[Event_type], [o].[Payload], [o].[Processed], [o].[ProcessingStatus]
FROM [Outbox_events] AS [o]
WHERE [o].[Id] = @__entity_Id_0
2025-10-20 14:55:25.188 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__entity_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [o].[Id], [o].[Aggregate_id], [o].[CreatedDate], [o].[ErrorMsg], [o].[Event_type], [o].[Payload], [o].[Processed], [o].[ProcessingStatus]
FROM [Outbox_events] AS [o]
WHERE [o].[Id] = @__entity_Id_0
2025-10-20 14:55:25.192 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 14:55:25.195 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 3ms reading results.
2025-10-20 14:55:25.199 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:25.201 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (2ms).
2025-10-20 14:55:25.204 +03:00 [DBG] SaveChanges starting for 'BillingServiceDBContext'.
2025-10-20 14:55:25.206 +03:00 [DBG] DetectChanges starting for 'BillingServiceDBContext'.
2025-10-20 14:55:25.207 +03:00 [DBG] DetectChanges completed for 'BillingServiceDBContext'.
2025-10-20 14:55:25.209 +03:00 [DBG] SaveChanges completed for 'BillingServiceDBContext' with 0 entities written to the database.
2025-10-20 14:55:25.230 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 14:55:25.233 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:25.235 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-10-20 14:55:25.257 +03:00 [ERR] exception occured Already closed: The AMQP operation was interrupted: AMQP close-reason, initiated by Peer, code=406, text='PRECONDITION_FAILED - inequivalent arg 'x-dead-letter-exchange' for queue 'InvoiceCreatedQueue' in vhost '/': received none but current is the value 'InvoiceCreatedExchange' of type 'longstr'', classId=50, methodId=10 , stackTrace    at RabbitMQ.Client.Impl.SessionBase.ThrowAlreadyClosedException()
   at RabbitMQ.Client.Impl.SessionBase.TransmitAsync[T](T& cmd, CancellationToken cancellationToken)
   at RabbitMQ.Client.Impl.Channel.QueueDeclareAsync(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments, Boolean passive, Boolean noWait, CancellationToken cancellationToken)
   at RabbitMQ.Client.Impl.AutorecoveringChannel.QueueDeclareAsync(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments, Boolean passive, Boolean noWait, CancellationToken cancellationToken)
   at BillingSystem.Infrastructure.Bus.RabbitMqBus.<>c__DisplayClass5_0`1.<<PublishMessageToQueueAsync>b__0>d.MoveNext() in C:\Repositories\Gac-BillingSystem\src\BillingSystem.Infrastructure\Bus\RabbitMqBus.cs:line 33
--- End of stack trace from previous location ---
   at BillingSystem.Infrastructure.Bus.RabbitMqBus.PublishMessageToQueueAsync[T](T message, String queueName) in C:\Repositories\Gac-BillingSystem\src\BillingSystem.Infrastructure\Bus\RabbitMqBus.cs:line 36
   at BillingSystem.OutboxProcessor.Worker.ProcessBulkInvoicesAsync() in C:\Repositories\Gac-BillingSystem\src\BillingSystem.OutboxProcessor\Worker.cs:line 81
   at BillingSystem.OutboxProcessor.Worker.ProcessBulkInvoicesAsync() in C:\Repositories\Gac-BillingSystem\src\BillingSystem.OutboxProcessor\Worker.cs:line 91
   at BillingSystem.OutboxProcessor.Worker.ExecuteAsync(CancellationToken stoppingToken) in C:\Repositories\Gac-BillingSystem\src\BillingSystem.OutboxProcessor\Worker.cs:line 53
2025-10-20 14:55:25.260 +03:00 [INF] Worker running at: "2025-10-20T14:55:25.2606361+03:00"
2025-10-20 14:55:25.263 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 14:55:25.266 +03:00 [DBG] Creating DbConnection.
2025-10-20 14:55:25.267 +03:00 [DBG] Created DbConnection. (1ms).
2025-10-20 14:55:25.269 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:25.273 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:25.276 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 14:55:25.278 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 14:55:25.280 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-10-20 14:55:25.283 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 14:55:25.296 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 14:55:25.299 +03:00 [DBG] Context 'BillingServiceDBContext' started tracking 'OutboxEvent' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 14:55:25.301 +03:00 [DBG] Context 'BillingServiceDBContext' started tracking 'OutboxEvent' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 14:55:25.303 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 14:55:25.305 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 5ms reading results.
2025-10-20 14:55:25.308 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:25.311 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (2ms).
2025-10-20 14:55:25.379 +03:00 [ERR] exception occured Already closed: The AMQP operation was interrupted: AMQP close-reason, initiated by Peer, code=406, text='PRECONDITION_FAILED - inequivalent arg 'x-dead-letter-exchange' for queue 'InvoiceCreatedQueue' in vhost '/': received none but current is the value 'InvoiceCreatedExchange' of type 'longstr'', classId=50, methodId=10 , stackTrace    at RabbitMQ.Client.Impl.SessionBase.ThrowAlreadyClosedException()
   at RabbitMQ.Client.Impl.SessionBase.TransmitAsync[T](T& cmd, CancellationToken cancellationToken)
   at RabbitMQ.Client.Impl.Channel.QueueDeclareAsync(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments, Boolean passive, Boolean noWait, CancellationToken cancellationToken)
   at RabbitMQ.Client.Impl.AutorecoveringChannel.QueueDeclareAsync(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments, Boolean passive, Boolean noWait, CancellationToken cancellationToken)
   at BillingSystem.Infrastructure.Bus.RabbitMqBus.<>c__DisplayClass5_0`1.<<PublishMessageToQueueAsync>b__0>d.MoveNext() in C:\Repositories\Gac-BillingSystem\src\BillingSystem.Infrastructure\Bus\RabbitMqBus.cs:line 33
--- End of stack trace from previous location ---
   at BillingSystem.Infrastructure.Bus.RabbitMqBus.PublishMessageToQueueAsync[T](T message, String queueName) in C:\Repositories\Gac-BillingSystem\src\BillingSystem.Infrastructure\Bus\RabbitMqBus.cs:line 36
   at BillingSystem.OutboxProcessor.Worker.ProcessBulkInvoicesAsync() in C:\Repositories\Gac-BillingSystem\src\BillingSystem.OutboxProcessor\Worker.cs:line 81
2025-10-20 14:55:25.381 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:25.384 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:25.386 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 14:55:25.388 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 14:55:25.390 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-10-20 14:55:25.392 +03:00 [DBG] Executing DbCommand [Parameters=[@__entity_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [o].[Id], [o].[Aggregate_id], [o].[CreatedDate], [o].[ErrorMsg], [o].[Event_type], [o].[Payload], [o].[Processed], [o].[ProcessingStatus]
FROM [Outbox_events] AS [o]
WHERE [o].[Id] = @__entity_Id_0
2025-10-20 14:55:25.397 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__entity_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [o].[Id], [o].[Aggregate_id], [o].[CreatedDate], [o].[ErrorMsg], [o].[Event_type], [o].[Payload], [o].[Processed], [o].[ProcessingStatus]
FROM [Outbox_events] AS [o]
WHERE [o].[Id] = @__entity_Id_0
2025-10-20 14:55:25.400 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 14:55:25.402 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 1ms reading results.
2025-10-20 14:55:25.404 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:25.406 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (2ms).
2025-10-20 14:55:25.409 +03:00 [DBG] SaveChanges starting for 'BillingServiceDBContext'.
2025-10-20 14:55:25.411 +03:00 [DBG] DetectChanges starting for 'BillingServiceDBContext'.
2025-10-20 14:55:25.413 +03:00 [DBG] DetectChanges completed for 'BillingServiceDBContext'.
2025-10-20 14:55:25.415 +03:00 [DBG] SaveChanges completed for 'BillingServiceDBContext' with 0 entities written to the database.
2025-10-20 14:55:25.434 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 14:55:25.436 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:25.437 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-20 14:55:25.460 +03:00 [ERR] exception occured Already closed: The AMQP operation was interrupted: AMQP close-reason, initiated by Peer, code=406, text='PRECONDITION_FAILED - inequivalent arg 'x-dead-letter-exchange' for queue 'InvoiceCreatedQueue' in vhost '/': received none but current is the value 'InvoiceCreatedExchange' of type 'longstr'', classId=50, methodId=10 , stackTrace    at RabbitMQ.Client.Impl.SessionBase.ThrowAlreadyClosedException()
   at RabbitMQ.Client.Impl.SessionBase.TransmitAsync[T](T& cmd, CancellationToken cancellationToken)
   at RabbitMQ.Client.Impl.Channel.QueueDeclareAsync(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments, Boolean passive, Boolean noWait, CancellationToken cancellationToken)
   at RabbitMQ.Client.Impl.AutorecoveringChannel.QueueDeclareAsync(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments, Boolean passive, Boolean noWait, CancellationToken cancellationToken)
   at BillingSystem.Infrastructure.Bus.RabbitMqBus.<>c__DisplayClass5_0`1.<<PublishMessageToQueueAsync>b__0>d.MoveNext() in C:\Repositories\Gac-BillingSystem\src\BillingSystem.Infrastructure\Bus\RabbitMqBus.cs:line 33
--- End of stack trace from previous location ---
   at BillingSystem.Infrastructure.Bus.RabbitMqBus.PublishMessageToQueueAsync[T](T message, String queueName) in C:\Repositories\Gac-BillingSystem\src\BillingSystem.Infrastructure\Bus\RabbitMqBus.cs:line 36
   at BillingSystem.OutboxProcessor.Worker.ProcessBulkInvoicesAsync() in C:\Repositories\Gac-BillingSystem\src\BillingSystem.OutboxProcessor\Worker.cs:line 81
   at BillingSystem.OutboxProcessor.Worker.ProcessBulkInvoicesAsync() in C:\Repositories\Gac-BillingSystem\src\BillingSystem.OutboxProcessor\Worker.cs:line 91
   at BillingSystem.OutboxProcessor.Worker.ExecuteAsync(CancellationToken stoppingToken) in C:\Repositories\Gac-BillingSystem\src\BillingSystem.OutboxProcessor\Worker.cs:line 53
2025-10-20 14:55:25.462 +03:00 [INF] Worker running at: "2025-10-20T14:55:25.4622813+03:00"
2025-10-20 14:55:25.464 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 14:55:25.466 +03:00 [DBG] Creating DbConnection.
2025-10-20 14:55:25.468 +03:00 [DBG] Created DbConnection. (1ms).
2025-10-20 14:55:25.469 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:25.471 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:25.474 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 14:55:25.476 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 14:55:25.478 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-10-20 14:55:25.481 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 14:55:25.494 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 14:55:25.496 +03:00 [DBG] Context 'BillingServiceDBContext' started tracking 'OutboxEvent' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 14:55:25.498 +03:00 [DBG] Context 'BillingServiceDBContext' started tracking 'OutboxEvent' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 14:55:25.499 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 14:55:25.501 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 5ms reading results.
2025-10-20 14:55:25.504 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:25.506 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (2ms).
2025-10-20 14:55:25.565 +03:00 [ERR] exception occured Already closed: The AMQP operation was interrupted: AMQP close-reason, initiated by Peer, code=406, text='PRECONDITION_FAILED - inequivalent arg 'x-dead-letter-exchange' for queue 'InvoiceCreatedQueue' in vhost '/': received none but current is the value 'InvoiceCreatedExchange' of type 'longstr'', classId=50, methodId=10 , stackTrace    at RabbitMQ.Client.Impl.SessionBase.ThrowAlreadyClosedException()
   at RabbitMQ.Client.Impl.SessionBase.TransmitAsync[T](T& cmd, CancellationToken cancellationToken)
   at RabbitMQ.Client.Impl.Channel.QueueDeclareAsync(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments, Boolean passive, Boolean noWait, CancellationToken cancellationToken)
   at RabbitMQ.Client.Impl.AutorecoveringChannel.QueueDeclareAsync(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments, Boolean passive, Boolean noWait, CancellationToken cancellationToken)
   at BillingSystem.Infrastructure.Bus.RabbitMqBus.<>c__DisplayClass5_0`1.<<PublishMessageToQueueAsync>b__0>d.MoveNext() in C:\Repositories\Gac-BillingSystem\src\BillingSystem.Infrastructure\Bus\RabbitMqBus.cs:line 33
--- End of stack trace from previous location ---
   at BillingSystem.Infrastructure.Bus.RabbitMqBus.PublishMessageToQueueAsync[T](T message, String queueName) in C:\Repositories\Gac-BillingSystem\src\BillingSystem.Infrastructure\Bus\RabbitMqBus.cs:line 36
   at BillingSystem.OutboxProcessor.Worker.ProcessBulkInvoicesAsync() in C:\Repositories\Gac-BillingSystem\src\BillingSystem.OutboxProcessor\Worker.cs:line 81
2025-10-20 14:55:25.568 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:25.570 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:25.573 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 14:55:25.575 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 14:55:25.577 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-10-20 14:55:25.579 +03:00 [DBG] Executing DbCommand [Parameters=[@__entity_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [o].[Id], [o].[Aggregate_id], [o].[CreatedDate], [o].[ErrorMsg], [o].[Event_type], [o].[Payload], [o].[Processed], [o].[ProcessingStatus]
FROM [Outbox_events] AS [o]
WHERE [o].[Id] = @__entity_Id_0
2025-10-20 14:55:25.584 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__entity_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [o].[Id], [o].[Aggregate_id], [o].[CreatedDate], [o].[ErrorMsg], [o].[Event_type], [o].[Payload], [o].[Processed], [o].[ProcessingStatus]
FROM [Outbox_events] AS [o]
WHERE [o].[Id] = @__entity_Id_0
2025-10-20 14:55:25.586 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 14:55:25.588 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 1ms reading results.
2025-10-20 14:55:25.591 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:25.593 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (2ms).
2025-10-20 14:55:25.595 +03:00 [DBG] SaveChanges starting for 'BillingServiceDBContext'.
2025-10-20 14:55:25.596 +03:00 [DBG] DetectChanges starting for 'BillingServiceDBContext'.
2025-10-20 14:55:25.598 +03:00 [DBG] DetectChanges completed for 'BillingServiceDBContext'.
2025-10-20 14:55:25.599 +03:00 [DBG] SaveChanges completed for 'BillingServiceDBContext' with 0 entities written to the database.
2025-10-20 14:55:25.619 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 14:55:25.620 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:25.624 +03:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-10-20 14:55:25.648 +03:00 [ERR] exception occured Already closed: The AMQP operation was interrupted: AMQP close-reason, initiated by Peer, code=406, text='PRECONDITION_FAILED - inequivalent arg 'x-dead-letter-exchange' for queue 'InvoiceCreatedQueue' in vhost '/': received none but current is the value 'InvoiceCreatedExchange' of type 'longstr'', classId=50, methodId=10 , stackTrace    at RabbitMQ.Client.Impl.SessionBase.ThrowAlreadyClosedException()
   at RabbitMQ.Client.Impl.SessionBase.TransmitAsync[T](T& cmd, CancellationToken cancellationToken)
   at RabbitMQ.Client.Impl.Channel.QueueDeclareAsync(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments, Boolean passive, Boolean noWait, CancellationToken cancellationToken)
   at RabbitMQ.Client.Impl.AutorecoveringChannel.QueueDeclareAsync(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments, Boolean passive, Boolean noWait, CancellationToken cancellationToken)
   at BillingSystem.Infrastructure.Bus.RabbitMqBus.<>c__DisplayClass5_0`1.<<PublishMessageToQueueAsync>b__0>d.MoveNext() in C:\Repositories\Gac-BillingSystem\src\BillingSystem.Infrastructure\Bus\RabbitMqBus.cs:line 33
--- End of stack trace from previous location ---
   at BillingSystem.Infrastructure.Bus.RabbitMqBus.PublishMessageToQueueAsync[T](T message, String queueName) in C:\Repositories\Gac-BillingSystem\src\BillingSystem.Infrastructure\Bus\RabbitMqBus.cs:line 36
   at BillingSystem.OutboxProcessor.Worker.ProcessBulkInvoicesAsync() in C:\Repositories\Gac-BillingSystem\src\BillingSystem.OutboxProcessor\Worker.cs:line 81
   at BillingSystem.OutboxProcessor.Worker.ProcessBulkInvoicesAsync() in C:\Repositories\Gac-BillingSystem\src\BillingSystem.OutboxProcessor\Worker.cs:line 91
   at BillingSystem.OutboxProcessor.Worker.ExecuteAsync(CancellationToken stoppingToken) in C:\Repositories\Gac-BillingSystem\src\BillingSystem.OutboxProcessor\Worker.cs:line 53
2025-10-20 14:55:25.649 +03:00 [INF] Worker running at: "2025-10-20T14:55:25.6498072+03:00"
2025-10-20 14:55:25.652 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 14:55:25.656 +03:00 [DBG] Creating DbConnection.
2025-10-20 14:55:25.657 +03:00 [DBG] Created DbConnection. (1ms).
2025-10-20 14:55:25.658 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:25.660 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:25.662 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 14:55:25.664 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 14:55:25.666 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-10-20 14:55:25.668 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 14:55:25.680 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 14:55:25.682 +03:00 [DBG] Context 'BillingServiceDBContext' started tracking 'OutboxEvent' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 14:55:25.686 +03:00 [DBG] Context 'BillingServiceDBContext' started tracking 'OutboxEvent' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 14:55:25.688 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 14:55:25.691 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 8ms reading results.
2025-10-20 14:55:25.694 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:25.695 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (1ms).
2025-10-20 14:55:25.761 +03:00 [ERR] exception occured Already closed: The AMQP operation was interrupted: AMQP close-reason, initiated by Peer, code=406, text='PRECONDITION_FAILED - inequivalent arg 'x-dead-letter-exchange' for queue 'InvoiceCreatedQueue' in vhost '/': received none but current is the value 'InvoiceCreatedExchange' of type 'longstr'', classId=50, methodId=10 , stackTrace    at RabbitMQ.Client.Impl.SessionBase.ThrowAlreadyClosedException()
   at RabbitMQ.Client.Impl.SessionBase.TransmitAsync[T](T& cmd, CancellationToken cancellationToken)
   at RabbitMQ.Client.Impl.Channel.QueueDeclareAsync(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments, Boolean passive, Boolean noWait, CancellationToken cancellationToken)
   at RabbitMQ.Client.Impl.AutorecoveringChannel.QueueDeclareAsync(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments, Boolean passive, Boolean noWait, CancellationToken cancellationToken)
   at BillingSystem.Infrastructure.Bus.RabbitMqBus.<>c__DisplayClass5_0`1.<<PublishMessageToQueueAsync>b__0>d.MoveNext() in C:\Repositories\Gac-BillingSystem\src\BillingSystem.Infrastructure\Bus\RabbitMqBus.cs:line 33
--- End of stack trace from previous location ---
   at BillingSystem.Infrastructure.Bus.RabbitMqBus.PublishMessageToQueueAsync[T](T message, String queueName) in C:\Repositories\Gac-BillingSystem\src\BillingSystem.Infrastructure\Bus\RabbitMqBus.cs:line 36
   at BillingSystem.OutboxProcessor.Worker.ProcessBulkInvoicesAsync() in C:\Repositories\Gac-BillingSystem\src\BillingSystem.OutboxProcessor\Worker.cs:line 81
2025-10-20 14:55:25.763 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:25.765 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:25.767 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 14:55:25.768 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 14:55:25.770 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-10-20 14:55:25.774 +03:00 [DBG] Executing DbCommand [Parameters=[@__entity_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [o].[Id], [o].[Aggregate_id], [o].[CreatedDate], [o].[ErrorMsg], [o].[Event_type], [o].[Payload], [o].[Processed], [o].[ProcessingStatus]
FROM [Outbox_events] AS [o]
WHERE [o].[Id] = @__entity_Id_0
2025-10-20 14:55:25.778 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__entity_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [o].[Id], [o].[Aggregate_id], [o].[CreatedDate], [o].[ErrorMsg], [o].[Event_type], [o].[Payload], [o].[Processed], [o].[ProcessingStatus]
FROM [Outbox_events] AS [o]
WHERE [o].[Id] = @__entity_Id_0
2025-10-20 14:55:25.782 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 14:55:25.784 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 1ms reading results.
2025-10-20 14:55:25.786 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:25.788 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (1ms).
2025-10-20 14:55:25.790 +03:00 [DBG] SaveChanges starting for 'BillingServiceDBContext'.
2025-10-20 14:55:25.791 +03:00 [DBG] DetectChanges starting for 'BillingServiceDBContext'.
2025-10-20 14:55:25.793 +03:00 [DBG] DetectChanges completed for 'BillingServiceDBContext'.
2025-10-20 14:55:25.794 +03:00 [DBG] SaveChanges completed for 'BillingServiceDBContext' with 0 entities written to the database.
2025-10-20 14:55:25.817 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 14:55:25.820 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:25.823 +03:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-10-20 14:55:25.845 +03:00 [ERR] exception occured Already closed: The AMQP operation was interrupted: AMQP close-reason, initiated by Peer, code=406, text='PRECONDITION_FAILED - inequivalent arg 'x-dead-letter-exchange' for queue 'InvoiceCreatedQueue' in vhost '/': received none but current is the value 'InvoiceCreatedExchange' of type 'longstr'', classId=50, methodId=10 , stackTrace    at RabbitMQ.Client.Impl.SessionBase.ThrowAlreadyClosedException()
   at RabbitMQ.Client.Impl.SessionBase.TransmitAsync[T](T& cmd, CancellationToken cancellationToken)
   at RabbitMQ.Client.Impl.Channel.QueueDeclareAsync(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments, Boolean passive, Boolean noWait, CancellationToken cancellationToken)
   at RabbitMQ.Client.Impl.AutorecoveringChannel.QueueDeclareAsync(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments, Boolean passive, Boolean noWait, CancellationToken cancellationToken)
   at BillingSystem.Infrastructure.Bus.RabbitMqBus.<>c__DisplayClass5_0`1.<<PublishMessageToQueueAsync>b__0>d.MoveNext() in C:\Repositories\Gac-BillingSystem\src\BillingSystem.Infrastructure\Bus\RabbitMqBus.cs:line 33
--- End of stack trace from previous location ---
   at BillingSystem.Infrastructure.Bus.RabbitMqBus.PublishMessageToQueueAsync[T](T message, String queueName) in C:\Repositories\Gac-BillingSystem\src\BillingSystem.Infrastructure\Bus\RabbitMqBus.cs:line 36
   at BillingSystem.OutboxProcessor.Worker.ProcessBulkInvoicesAsync() in C:\Repositories\Gac-BillingSystem\src\BillingSystem.OutboxProcessor\Worker.cs:line 81
   at BillingSystem.OutboxProcessor.Worker.ProcessBulkInvoicesAsync() in C:\Repositories\Gac-BillingSystem\src\BillingSystem.OutboxProcessor\Worker.cs:line 91
   at BillingSystem.OutboxProcessor.Worker.ExecuteAsync(CancellationToken stoppingToken) in C:\Repositories\Gac-BillingSystem\src\BillingSystem.OutboxProcessor\Worker.cs:line 53
2025-10-20 14:55:25.847 +03:00 [INF] Worker running at: "2025-10-20T14:55:25.8476777+03:00"
2025-10-20 14:55:25.849 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 14:55:25.852 +03:00 [DBG] Creating DbConnection.
2025-10-20 14:55:25.852 +03:00 [DBG] Created DbConnection. (0ms).
2025-10-20 14:55:25.854 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:25.856 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:25.858 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 14:55:25.859 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 14:55:25.861 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-10-20 14:55:25.862 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 14:55:25.872 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 14:55:25.876 +03:00 [DBG] Context 'BillingServiceDBContext' started tracking 'OutboxEvent' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 14:55:25.878 +03:00 [DBG] Context 'BillingServiceDBContext' started tracking 'OutboxEvent' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 14:55:25.880 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 14:55:25.881 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 5ms reading results.
2025-10-20 14:55:25.884 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:25.886 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (1ms).
2025-10-20 14:55:25.938 +03:00 [ERR] exception occured Already closed: The AMQP operation was interrupted: AMQP close-reason, initiated by Peer, code=406, text='PRECONDITION_FAILED - inequivalent arg 'x-dead-letter-exchange' for queue 'InvoiceCreatedQueue' in vhost '/': received none but current is the value 'InvoiceCreatedExchange' of type 'longstr'', classId=50, methodId=10 , stackTrace    at RabbitMQ.Client.Impl.SessionBase.ThrowAlreadyClosedException()
   at RabbitMQ.Client.Impl.SessionBase.TransmitAsync[T](T& cmd, CancellationToken cancellationToken)
   at RabbitMQ.Client.Impl.Channel.QueueDeclareAsync(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments, Boolean passive, Boolean noWait, CancellationToken cancellationToken)
   at RabbitMQ.Client.Impl.AutorecoveringChannel.QueueDeclareAsync(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments, Boolean passive, Boolean noWait, CancellationToken cancellationToken)
   at BillingSystem.Infrastructure.Bus.RabbitMqBus.<>c__DisplayClass5_0`1.<<PublishMessageToQueueAsync>b__0>d.MoveNext() in C:\Repositories\Gac-BillingSystem\src\BillingSystem.Infrastructure\Bus\RabbitMqBus.cs:line 33
--- End of stack trace from previous location ---
   at BillingSystem.Infrastructure.Bus.RabbitMqBus.PublishMessageToQueueAsync[T](T message, String queueName) in C:\Repositories\Gac-BillingSystem\src\BillingSystem.Infrastructure\Bus\RabbitMqBus.cs:line 36
   at BillingSystem.OutboxProcessor.Worker.ProcessBulkInvoicesAsync() in C:\Repositories\Gac-BillingSystem\src\BillingSystem.OutboxProcessor\Worker.cs:line 81
2025-10-20 14:55:25.940 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:25.942 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:25.944 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 14:55:25.945 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 14:55:25.947 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-10-20 14:55:25.948 +03:00 [DBG] Executing DbCommand [Parameters=[@__entity_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [o].[Id], [o].[Aggregate_id], [o].[CreatedDate], [o].[ErrorMsg], [o].[Event_type], [o].[Payload], [o].[Processed], [o].[ProcessingStatus]
FROM [Outbox_events] AS [o]
WHERE [o].[Id] = @__entity_Id_0
2025-10-20 14:55:25.953 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__entity_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [o].[Id], [o].[Aggregate_id], [o].[CreatedDate], [o].[ErrorMsg], [o].[Event_type], [o].[Payload], [o].[Processed], [o].[ProcessingStatus]
FROM [Outbox_events] AS [o]
WHERE [o].[Id] = @__entity_Id_0
2025-10-20 14:55:25.957 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 14:55:25.958 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 1ms reading results.
2025-10-20 14:55:25.960 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:25.962 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (1ms).
2025-10-20 14:55:25.964 +03:00 [DBG] SaveChanges starting for 'BillingServiceDBContext'.
2025-10-20 14:55:25.966 +03:00 [DBG] DetectChanges starting for 'BillingServiceDBContext'.
2025-10-20 14:55:25.969 +03:00 [DBG] DetectChanges completed for 'BillingServiceDBContext'.
2025-10-20 14:55:25.970 +03:00 [DBG] SaveChanges completed for 'BillingServiceDBContext' with 0 entities written to the database.
2025-10-20 14:55:25.988 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 14:55:25.990 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:25.991 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-20 14:55:26.010 +03:00 [ERR] exception occured Already closed: The AMQP operation was interrupted: AMQP close-reason, initiated by Peer, code=406, text='PRECONDITION_FAILED - inequivalent arg 'x-dead-letter-exchange' for queue 'InvoiceCreatedQueue' in vhost '/': received none but current is the value 'InvoiceCreatedExchange' of type 'longstr'', classId=50, methodId=10 , stackTrace    at RabbitMQ.Client.Impl.SessionBase.ThrowAlreadyClosedException()
   at RabbitMQ.Client.Impl.SessionBase.TransmitAsync[T](T& cmd, CancellationToken cancellationToken)
   at RabbitMQ.Client.Impl.Channel.QueueDeclareAsync(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments, Boolean passive, Boolean noWait, CancellationToken cancellationToken)
   at RabbitMQ.Client.Impl.AutorecoveringChannel.QueueDeclareAsync(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments, Boolean passive, Boolean noWait, CancellationToken cancellationToken)
   at BillingSystem.Infrastructure.Bus.RabbitMqBus.<>c__DisplayClass5_0`1.<<PublishMessageToQueueAsync>b__0>d.MoveNext() in C:\Repositories\Gac-BillingSystem\src\BillingSystem.Infrastructure\Bus\RabbitMqBus.cs:line 33
--- End of stack trace from previous location ---
   at BillingSystem.Infrastructure.Bus.RabbitMqBus.PublishMessageToQueueAsync[T](T message, String queueName) in C:\Repositories\Gac-BillingSystem\src\BillingSystem.Infrastructure\Bus\RabbitMqBus.cs:line 36
   at BillingSystem.OutboxProcessor.Worker.ProcessBulkInvoicesAsync() in C:\Repositories\Gac-BillingSystem\src\BillingSystem.OutboxProcessor\Worker.cs:line 81
   at BillingSystem.OutboxProcessor.Worker.ProcessBulkInvoicesAsync() in C:\Repositories\Gac-BillingSystem\src\BillingSystem.OutboxProcessor\Worker.cs:line 91
   at BillingSystem.OutboxProcessor.Worker.ExecuteAsync(CancellationToken stoppingToken) in C:\Repositories\Gac-BillingSystem\src\BillingSystem.OutboxProcessor\Worker.cs:line 53
2025-10-20 14:55:26.012 +03:00 [INF] Worker running at: "2025-10-20T14:55:26.0123635+03:00"
2025-10-20 14:55:26.014 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 14:55:26.017 +03:00 [DBG] Creating DbConnection.
2025-10-20 14:55:26.019 +03:00 [DBG] Created DbConnection. (1ms).
2025-10-20 14:55:26.021 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:26.023 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:26.025 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 14:55:26.026 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 14:55:26.028 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-10-20 14:55:26.029 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 14:55:26.042 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 14:55:26.045 +03:00 [DBG] Context 'BillingServiceDBContext' started tracking 'OutboxEvent' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 14:55:26.047 +03:00 [DBG] Context 'BillingServiceDBContext' started tracking 'OutboxEvent' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 14:55:26.049 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 14:55:26.051 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 6ms reading results.
2025-10-20 14:55:26.054 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:26.056 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (1ms).
2025-10-20 14:55:26.113 +03:00 [ERR] exception occured Already closed: The AMQP operation was interrupted: AMQP close-reason, initiated by Peer, code=406, text='PRECONDITION_FAILED - inequivalent arg 'x-dead-letter-exchange' for queue 'InvoiceCreatedQueue' in vhost '/': received none but current is the value 'InvoiceCreatedExchange' of type 'longstr'', classId=50, methodId=10 , stackTrace    at RabbitMQ.Client.Impl.SessionBase.ThrowAlreadyClosedException()
   at RabbitMQ.Client.Impl.SessionBase.TransmitAsync[T](T& cmd, CancellationToken cancellationToken)
   at RabbitMQ.Client.Impl.Channel.QueueDeclareAsync(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments, Boolean passive, Boolean noWait, CancellationToken cancellationToken)
   at RabbitMQ.Client.Impl.AutorecoveringChannel.QueueDeclareAsync(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments, Boolean passive, Boolean noWait, CancellationToken cancellationToken)
   at BillingSystem.Infrastructure.Bus.RabbitMqBus.<>c__DisplayClass5_0`1.<<PublishMessageToQueueAsync>b__0>d.MoveNext() in C:\Repositories\Gac-BillingSystem\src\BillingSystem.Infrastructure\Bus\RabbitMqBus.cs:line 33
--- End of stack trace from previous location ---
   at BillingSystem.Infrastructure.Bus.RabbitMqBus.PublishMessageToQueueAsync[T](T message, String queueName) in C:\Repositories\Gac-BillingSystem\src\BillingSystem.Infrastructure\Bus\RabbitMqBus.cs:line 36
   at BillingSystem.OutboxProcessor.Worker.ProcessBulkInvoicesAsync() in C:\Repositories\Gac-BillingSystem\src\BillingSystem.OutboxProcessor\Worker.cs:line 81
2025-10-20 14:55:26.116 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:26.118 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:26.121 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 14:55:26.123 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-10-20 14:55:26.125 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-10-20 14:55:26.127 +03:00 [DBG] Executing DbCommand [Parameters=[@__entity_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [o].[Id], [o].[Aggregate_id], [o].[CreatedDate], [o].[ErrorMsg], [o].[Event_type], [o].[Payload], [o].[Processed], [o].[ProcessingStatus]
FROM [Outbox_events] AS [o]
WHERE [o].[Id] = @__entity_Id_0
2025-10-20 14:55:26.132 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__entity_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [o].[Id], [o].[Aggregate_id], [o].[CreatedDate], [o].[ErrorMsg], [o].[Event_type], [o].[Payload], [o].[Processed], [o].[ProcessingStatus]
FROM [Outbox_events] AS [o]
WHERE [o].[Id] = @__entity_Id_0
2025-10-20 14:55:26.135 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 14:55:26.137 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 2ms reading results.
2025-10-20 14:55:26.141 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:26.143 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (1ms).
2025-10-20 14:55:26.145 +03:00 [DBG] SaveChanges starting for 'BillingServiceDBContext'.
2025-10-20 14:55:26.146 +03:00 [DBG] DetectChanges starting for 'BillingServiceDBContext'.
2025-10-20 14:55:26.148 +03:00 [DBG] DetectChanges completed for 'BillingServiceDBContext'.
2025-10-20 14:55:26.149 +03:00 [DBG] SaveChanges completed for 'BillingServiceDBContext' with 0 entities written to the database.
2025-10-20 14:55:26.172 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 14:55:26.174 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:26.176 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-10-20 14:55:26.199 +03:00 [ERR] exception occured Already closed: The AMQP operation was interrupted: AMQP close-reason, initiated by Peer, code=406, text='PRECONDITION_FAILED - inequivalent arg 'x-dead-letter-exchange' for queue 'InvoiceCreatedQueue' in vhost '/': received none but current is the value 'InvoiceCreatedExchange' of type 'longstr'', classId=50, methodId=10 , stackTrace    at RabbitMQ.Client.Impl.SessionBase.ThrowAlreadyClosedException()
   at RabbitMQ.Client.Impl.SessionBase.TransmitAsync[T](T& cmd, CancellationToken cancellationToken)
   at RabbitMQ.Client.Impl.Channel.QueueDeclareAsync(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments, Boolean passive, Boolean noWait, CancellationToken cancellationToken)
   at RabbitMQ.Client.Impl.AutorecoveringChannel.QueueDeclareAsync(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments, Boolean passive, Boolean noWait, CancellationToken cancellationToken)
   at BillingSystem.Infrastructure.Bus.RabbitMqBus.<>c__DisplayClass5_0`1.<<PublishMessageToQueueAsync>b__0>d.MoveNext() in C:\Repositories\Gac-BillingSystem\src\BillingSystem.Infrastructure\Bus\RabbitMqBus.cs:line 33
--- End of stack trace from previous location ---
   at BillingSystem.Infrastructure.Bus.RabbitMqBus.PublishMessageToQueueAsync[T](T message, String queueName) in C:\Repositories\Gac-BillingSystem\src\BillingSystem.Infrastructure\Bus\RabbitMqBus.cs:line 36
   at BillingSystem.OutboxProcessor.Worker.ProcessBulkInvoicesAsync() in C:\Repositories\Gac-BillingSystem\src\BillingSystem.OutboxProcessor\Worker.cs:line 81
   at BillingSystem.OutboxProcessor.Worker.ProcessBulkInvoicesAsync() in C:\Repositories\Gac-BillingSystem\src\BillingSystem.OutboxProcessor\Worker.cs:line 91
   at BillingSystem.OutboxProcessor.Worker.ExecuteAsync(CancellationToken stoppingToken) in C:\Repositories\Gac-BillingSystem\src\BillingSystem.OutboxProcessor\Worker.cs:line 53
2025-10-20 14:55:26.201 +03:00 [INF] Worker running at: "2025-10-20T14:55:26.2010981+03:00"
2025-10-20 14:55:26.202 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 14:55:26.207 +03:00 [DBG] Creating DbConnection.
2025-10-20 14:55:26.208 +03:00 [DBG] Created DbConnection. (1ms).
2025-10-20 14:55:26.210 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:26.212 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:26.214 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 14:55:26.216 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 14:55:26.217 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-10-20 14:55:26.219 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 14:55:26.230 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 14:55:26.234 +03:00 [DBG] Context 'BillingServiceDBContext' started tracking 'OutboxEvent' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 14:55:26.236 +03:00 [DBG] Context 'BillingServiceDBContext' started tracking 'OutboxEvent' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 14:55:26.238 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 14:55:26.240 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 6ms reading results.
2025-10-20 14:55:26.243 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:26.245 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (1ms).
2025-10-20 14:55:26.299 +03:00 [ERR] exception occured Already closed: The AMQP operation was interrupted: AMQP close-reason, initiated by Peer, code=406, text='PRECONDITION_FAILED - inequivalent arg 'x-dead-letter-exchange' for queue 'InvoiceCreatedQueue' in vhost '/': received none but current is the value 'InvoiceCreatedExchange' of type 'longstr'', classId=50, methodId=10 , stackTrace    at RabbitMQ.Client.Impl.SessionBase.ThrowAlreadyClosedException()
   at RabbitMQ.Client.Impl.SessionBase.TransmitAsync[T](T& cmd, CancellationToken cancellationToken)
   at RabbitMQ.Client.Impl.Channel.QueueDeclareAsync(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments, Boolean passive, Boolean noWait, CancellationToken cancellationToken)
   at RabbitMQ.Client.Impl.AutorecoveringChannel.QueueDeclareAsync(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments, Boolean passive, Boolean noWait, CancellationToken cancellationToken)
   at BillingSystem.Infrastructure.Bus.RabbitMqBus.<>c__DisplayClass5_0`1.<<PublishMessageToQueueAsync>b__0>d.MoveNext() in C:\Repositories\Gac-BillingSystem\src\BillingSystem.Infrastructure\Bus\RabbitMqBus.cs:line 33
--- End of stack trace from previous location ---
   at BillingSystem.Infrastructure.Bus.RabbitMqBus.PublishMessageToQueueAsync[T](T message, String queueName) in C:\Repositories\Gac-BillingSystem\src\BillingSystem.Infrastructure\Bus\RabbitMqBus.cs:line 36
   at BillingSystem.OutboxProcessor.Worker.ProcessBulkInvoicesAsync() in C:\Repositories\Gac-BillingSystem\src\BillingSystem.OutboxProcessor\Worker.cs:line 81
2025-10-20 14:55:26.302 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:26.303 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:26.306 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 14:55:26.307 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 14:55:26.309 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-10-20 14:55:26.311 +03:00 [DBG] Executing DbCommand [Parameters=[@__entity_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [o].[Id], [o].[Aggregate_id], [o].[CreatedDate], [o].[ErrorMsg], [o].[Event_type], [o].[Payload], [o].[Processed], [o].[ProcessingStatus]
FROM [Outbox_events] AS [o]
WHERE [o].[Id] = @__entity_Id_0
2025-10-20 14:55:26.315 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__entity_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [o].[Id], [o].[Aggregate_id], [o].[CreatedDate], [o].[ErrorMsg], [o].[Event_type], [o].[Payload], [o].[Processed], [o].[ProcessingStatus]
FROM [Outbox_events] AS [o]
WHERE [o].[Id] = @__entity_Id_0
2025-10-20 14:55:26.318 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 14:55:26.320 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 1ms reading results.
2025-10-20 14:55:26.322 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:26.324 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (1ms).
2025-10-20 14:55:26.326 +03:00 [DBG] SaveChanges starting for 'BillingServiceDBContext'.
2025-10-20 14:55:26.327 +03:00 [DBG] DetectChanges starting for 'BillingServiceDBContext'.
2025-10-20 14:55:26.329 +03:00 [DBG] DetectChanges completed for 'BillingServiceDBContext'.
2025-10-20 14:55:26.330 +03:00 [DBG] SaveChanges completed for 'BillingServiceDBContext' with 0 entities written to the database.
2025-10-20 14:55:26.349 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 14:55:26.350 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:26.352 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-20 14:55:26.373 +03:00 [ERR] exception occured Already closed: The AMQP operation was interrupted: AMQP close-reason, initiated by Peer, code=406, text='PRECONDITION_FAILED - inequivalent arg 'x-dead-letter-exchange' for queue 'InvoiceCreatedQueue' in vhost '/': received none but current is the value 'InvoiceCreatedExchange' of type 'longstr'', classId=50, methodId=10 , stackTrace    at RabbitMQ.Client.Impl.SessionBase.ThrowAlreadyClosedException()
   at RabbitMQ.Client.Impl.SessionBase.TransmitAsync[T](T& cmd, CancellationToken cancellationToken)
   at RabbitMQ.Client.Impl.Channel.QueueDeclareAsync(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments, Boolean passive, Boolean noWait, CancellationToken cancellationToken)
   at RabbitMQ.Client.Impl.AutorecoveringChannel.QueueDeclareAsync(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments, Boolean passive, Boolean noWait, CancellationToken cancellationToken)
   at BillingSystem.Infrastructure.Bus.RabbitMqBus.<>c__DisplayClass5_0`1.<<PublishMessageToQueueAsync>b__0>d.MoveNext() in C:\Repositories\Gac-BillingSystem\src\BillingSystem.Infrastructure\Bus\RabbitMqBus.cs:line 33
--- End of stack trace from previous location ---
   at BillingSystem.Infrastructure.Bus.RabbitMqBus.PublishMessageToQueueAsync[T](T message, String queueName) in C:\Repositories\Gac-BillingSystem\src\BillingSystem.Infrastructure\Bus\RabbitMqBus.cs:line 36
   at BillingSystem.OutboxProcessor.Worker.ProcessBulkInvoicesAsync() in C:\Repositories\Gac-BillingSystem\src\BillingSystem.OutboxProcessor\Worker.cs:line 81
   at BillingSystem.OutboxProcessor.Worker.ProcessBulkInvoicesAsync() in C:\Repositories\Gac-BillingSystem\src\BillingSystem.OutboxProcessor\Worker.cs:line 91
   at BillingSystem.OutboxProcessor.Worker.ExecuteAsync(CancellationToken stoppingToken) in C:\Repositories\Gac-BillingSystem\src\BillingSystem.OutboxProcessor\Worker.cs:line 53
2025-10-20 14:55:26.376 +03:00 [INF] Worker running at: "2025-10-20T14:55:26.3761110+03:00"
2025-10-20 14:55:26.377 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 14:55:26.381 +03:00 [DBG] Creating DbConnection.
2025-10-20 14:55:26.382 +03:00 [DBG] Created DbConnection. (0ms).
2025-10-20 14:55:26.384 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:26.386 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:26.388 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 14:55:26.390 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-10-20 14:55:26.393 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-10-20 14:55:26.394 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 14:55:26.408 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 14:55:26.412 +03:00 [DBG] Context 'BillingServiceDBContext' started tracking 'OutboxEvent' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 14:55:26.414 +03:00 [DBG] Context 'BillingServiceDBContext' started tracking 'OutboxEvent' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 14:55:26.416 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 14:55:26.418 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 6ms reading results.
2025-10-20 14:55:26.420 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:26.422 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (2ms).
2025-10-20 14:55:26.475 +03:00 [ERR] exception occured Already closed: The AMQP operation was interrupted: AMQP close-reason, initiated by Peer, code=406, text='PRECONDITION_FAILED - inequivalent arg 'x-dead-letter-exchange' for queue 'InvoiceCreatedQueue' in vhost '/': received none but current is the value 'InvoiceCreatedExchange' of type 'longstr'', classId=50, methodId=10 , stackTrace    at RabbitMQ.Client.Impl.SessionBase.ThrowAlreadyClosedException()
   at RabbitMQ.Client.Impl.SessionBase.TransmitAsync[T](T& cmd, CancellationToken cancellationToken)
   at RabbitMQ.Client.Impl.Channel.QueueDeclareAsync(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments, Boolean passive, Boolean noWait, CancellationToken cancellationToken)
   at RabbitMQ.Client.Impl.AutorecoveringChannel.QueueDeclareAsync(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments, Boolean passive, Boolean noWait, CancellationToken cancellationToken)
   at BillingSystem.Infrastructure.Bus.RabbitMqBus.<>c__DisplayClass5_0`1.<<PublishMessageToQueueAsync>b__0>d.MoveNext() in C:\Repositories\Gac-BillingSystem\src\BillingSystem.Infrastructure\Bus\RabbitMqBus.cs:line 33
--- End of stack trace from previous location ---
   at BillingSystem.Infrastructure.Bus.RabbitMqBus.PublishMessageToQueueAsync[T](T message, String queueName) in C:\Repositories\Gac-BillingSystem\src\BillingSystem.Infrastructure\Bus\RabbitMqBus.cs:line 36
   at BillingSystem.OutboxProcessor.Worker.ProcessBulkInvoicesAsync() in C:\Repositories\Gac-BillingSystem\src\BillingSystem.OutboxProcessor\Worker.cs:line 81
2025-10-20 14:55:26.478 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:26.480 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:26.481 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 14:55:26.483 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 14:55:26.485 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-10-20 14:55:26.487 +03:00 [DBG] Executing DbCommand [Parameters=[@__entity_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [o].[Id], [o].[Aggregate_id], [o].[CreatedDate], [o].[ErrorMsg], [o].[Event_type], [o].[Payload], [o].[Processed], [o].[ProcessingStatus]
FROM [Outbox_events] AS [o]
WHERE [o].[Id] = @__entity_Id_0
2025-10-20 14:55:26.493 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__entity_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [o].[Id], [o].[Aggregate_id], [o].[CreatedDate], [o].[ErrorMsg], [o].[Event_type], [o].[Payload], [o].[Processed], [o].[ProcessingStatus]
FROM [Outbox_events] AS [o]
WHERE [o].[Id] = @__entity_Id_0
2025-10-20 14:55:26.496 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 14:55:26.498 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 1ms reading results.
2025-10-20 14:55:26.501 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:26.502 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (1ms).
2025-10-20 14:55:26.504 +03:00 [DBG] SaveChanges starting for 'BillingServiceDBContext'.
2025-10-20 14:55:26.508 +03:00 [DBG] DetectChanges starting for 'BillingServiceDBContext'.
2025-10-20 14:55:26.510 +03:00 [DBG] DetectChanges completed for 'BillingServiceDBContext'.
2025-10-20 14:55:26.511 +03:00 [DBG] SaveChanges completed for 'BillingServiceDBContext' with 0 entities written to the database.
2025-10-20 14:55:26.530 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 14:55:26.531 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:26.533 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-10-20 14:55:26.553 +03:00 [ERR] exception occured Already closed: The AMQP operation was interrupted: AMQP close-reason, initiated by Peer, code=406, text='PRECONDITION_FAILED - inequivalent arg 'x-dead-letter-exchange' for queue 'InvoiceCreatedQueue' in vhost '/': received none but current is the value 'InvoiceCreatedExchange' of type 'longstr'', classId=50, methodId=10 , stackTrace    at RabbitMQ.Client.Impl.SessionBase.ThrowAlreadyClosedException()
   at RabbitMQ.Client.Impl.SessionBase.TransmitAsync[T](T& cmd, CancellationToken cancellationToken)
   at RabbitMQ.Client.Impl.Channel.QueueDeclareAsync(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments, Boolean passive, Boolean noWait, CancellationToken cancellationToken)
   at RabbitMQ.Client.Impl.AutorecoveringChannel.QueueDeclareAsync(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments, Boolean passive, Boolean noWait, CancellationToken cancellationToken)
   at BillingSystem.Infrastructure.Bus.RabbitMqBus.<>c__DisplayClass5_0`1.<<PublishMessageToQueueAsync>b__0>d.MoveNext() in C:\Repositories\Gac-BillingSystem\src\BillingSystem.Infrastructure\Bus\RabbitMqBus.cs:line 33
--- End of stack trace from previous location ---
   at BillingSystem.Infrastructure.Bus.RabbitMqBus.PublishMessageToQueueAsync[T](T message, String queueName) in C:\Repositories\Gac-BillingSystem\src\BillingSystem.Infrastructure\Bus\RabbitMqBus.cs:line 36
   at BillingSystem.OutboxProcessor.Worker.ProcessBulkInvoicesAsync() in C:\Repositories\Gac-BillingSystem\src\BillingSystem.OutboxProcessor\Worker.cs:line 81
   at BillingSystem.OutboxProcessor.Worker.ProcessBulkInvoicesAsync() in C:\Repositories\Gac-BillingSystem\src\BillingSystem.OutboxProcessor\Worker.cs:line 91
   at BillingSystem.OutboxProcessor.Worker.ExecuteAsync(CancellationToken stoppingToken) in C:\Repositories\Gac-BillingSystem\src\BillingSystem.OutboxProcessor\Worker.cs:line 53
2025-10-20 14:55:26.555 +03:00 [INF] Worker running at: "2025-10-20T14:55:26.5559872+03:00"
2025-10-20 14:55:26.559 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 14:55:26.561 +03:00 [DBG] Creating DbConnection.
2025-10-20 14:55:26.562 +03:00 [DBG] Created DbConnection. (1ms).
2025-10-20 14:55:26.564 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:26.566 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:26.568 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 14:55:26.570 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 14:55:26.571 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-10-20 14:55:26.574 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 14:55:26.586 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 14:55:26.591 +03:00 [DBG] Context 'BillingServiceDBContext' started tracking 'OutboxEvent' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 14:55:26.593 +03:00 [DBG] Context 'BillingServiceDBContext' started tracking 'OutboxEvent' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 14:55:26.595 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 14:55:26.597 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 6ms reading results.
2025-10-20 14:55:26.600 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:26.603 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (2ms).
2025-10-20 14:55:26.676 +03:00 [ERR] exception occured Already closed: The AMQP operation was interrupted: AMQP close-reason, initiated by Peer, code=406, text='PRECONDITION_FAILED - inequivalent arg 'x-dead-letter-exchange' for queue 'InvoiceCreatedQueue' in vhost '/': received none but current is the value 'InvoiceCreatedExchange' of type 'longstr'', classId=50, methodId=10 , stackTrace    at RabbitMQ.Client.Impl.SessionBase.ThrowAlreadyClosedException()
   at RabbitMQ.Client.Impl.SessionBase.TransmitAsync[T](T& cmd, CancellationToken cancellationToken)
   at RabbitMQ.Client.Impl.Channel.QueueDeclareAsync(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments, Boolean passive, Boolean noWait, CancellationToken cancellationToken)
   at RabbitMQ.Client.Impl.AutorecoveringChannel.QueueDeclareAsync(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments, Boolean passive, Boolean noWait, CancellationToken cancellationToken)
   at BillingSystem.Infrastructure.Bus.RabbitMqBus.<>c__DisplayClass5_0`1.<<PublishMessageToQueueAsync>b__0>d.MoveNext() in C:\Repositories\Gac-BillingSystem\src\BillingSystem.Infrastructure\Bus\RabbitMqBus.cs:line 33
--- End of stack trace from previous location ---
   at BillingSystem.Infrastructure.Bus.RabbitMqBus.PublishMessageToQueueAsync[T](T message, String queueName) in C:\Repositories\Gac-BillingSystem\src\BillingSystem.Infrastructure\Bus\RabbitMqBus.cs:line 36
   at BillingSystem.OutboxProcessor.Worker.ProcessBulkInvoicesAsync() in C:\Repositories\Gac-BillingSystem\src\BillingSystem.OutboxProcessor\Worker.cs:line 81
2025-10-20 14:55:26.679 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:26.681 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:26.683 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 14:55:26.685 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-10-20 14:55:26.688 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-10-20 14:55:26.692 +03:00 [DBG] Executing DbCommand [Parameters=[@__entity_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [o].[Id], [o].[Aggregate_id], [o].[CreatedDate], [o].[ErrorMsg], [o].[Event_type], [o].[Payload], [o].[Processed], [o].[ProcessingStatus]
FROM [Outbox_events] AS [o]
WHERE [o].[Id] = @__entity_Id_0
2025-10-20 14:55:26.699 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__entity_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [o].[Id], [o].[Aggregate_id], [o].[CreatedDate], [o].[ErrorMsg], [o].[Event_type], [o].[Payload], [o].[Processed], [o].[ProcessingStatus]
FROM [Outbox_events] AS [o]
WHERE [o].[Id] = @__entity_Id_0
2025-10-20 14:55:26.703 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 14:55:26.706 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 3ms reading results.
2025-10-20 14:55:26.709 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:26.711 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (1ms).
2025-10-20 14:55:26.713 +03:00 [DBG] SaveChanges starting for 'BillingServiceDBContext'.
2025-10-20 14:55:26.714 +03:00 [DBG] DetectChanges starting for 'BillingServiceDBContext'.
2025-10-20 14:55:26.716 +03:00 [DBG] DetectChanges completed for 'BillingServiceDBContext'.
2025-10-20 14:55:26.717 +03:00 [DBG] SaveChanges completed for 'BillingServiceDBContext' with 0 entities written to the database.
2025-10-20 14:55:26.741 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 14:55:26.743 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:26.745 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-20 14:55:26.772 +03:00 [ERR] exception occured Already closed: The AMQP operation was interrupted: AMQP close-reason, initiated by Peer, code=406, text='PRECONDITION_FAILED - inequivalent arg 'x-dead-letter-exchange' for queue 'InvoiceCreatedQueue' in vhost '/': received none but current is the value 'InvoiceCreatedExchange' of type 'longstr'', classId=50, methodId=10 , stackTrace    at RabbitMQ.Client.Impl.SessionBase.ThrowAlreadyClosedException()
   at RabbitMQ.Client.Impl.SessionBase.TransmitAsync[T](T& cmd, CancellationToken cancellationToken)
   at RabbitMQ.Client.Impl.Channel.QueueDeclareAsync(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments, Boolean passive, Boolean noWait, CancellationToken cancellationToken)
   at RabbitMQ.Client.Impl.AutorecoveringChannel.QueueDeclareAsync(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments, Boolean passive, Boolean noWait, CancellationToken cancellationToken)
   at BillingSystem.Infrastructure.Bus.RabbitMqBus.<>c__DisplayClass5_0`1.<<PublishMessageToQueueAsync>b__0>d.MoveNext() in C:\Repositories\Gac-BillingSystem\src\BillingSystem.Infrastructure\Bus\RabbitMqBus.cs:line 33
--- End of stack trace from previous location ---
   at BillingSystem.Infrastructure.Bus.RabbitMqBus.PublishMessageToQueueAsync[T](T message, String queueName) in C:\Repositories\Gac-BillingSystem\src\BillingSystem.Infrastructure\Bus\RabbitMqBus.cs:line 36
   at BillingSystem.OutboxProcessor.Worker.ProcessBulkInvoicesAsync() in C:\Repositories\Gac-BillingSystem\src\BillingSystem.OutboxProcessor\Worker.cs:line 81
   at BillingSystem.OutboxProcessor.Worker.ProcessBulkInvoicesAsync() in C:\Repositories\Gac-BillingSystem\src\BillingSystem.OutboxProcessor\Worker.cs:line 91
   at BillingSystem.OutboxProcessor.Worker.ExecuteAsync(CancellationToken stoppingToken) in C:\Repositories\Gac-BillingSystem\src\BillingSystem.OutboxProcessor\Worker.cs:line 53
2025-10-20 14:55:26.775 +03:00 [INF] Worker running at: "2025-10-20T14:55:26.7752308+03:00"
2025-10-20 14:55:26.777 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 14:55:26.780 +03:00 [DBG] Creating DbConnection.
2025-10-20 14:55:26.781 +03:00 [DBG] Created DbConnection. (1ms).
2025-10-20 14:55:26.783 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:26.785 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:26.787 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 14:55:26.789 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 14:55:26.791 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-10-20 14:55:26.793 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 14:55:26.804 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 14:55:26.808 +03:00 [DBG] Context 'BillingServiceDBContext' started tracking 'OutboxEvent' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 14:55:26.810 +03:00 [DBG] Context 'BillingServiceDBContext' started tracking 'OutboxEvent' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 14:55:26.812 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 14:55:26.814 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 5ms reading results.
2025-10-20 14:55:26.817 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:26.819 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (2ms).
2025-10-20 14:55:26.867 +03:00 [ERR] exception occured Already closed: The AMQP operation was interrupted: AMQP close-reason, initiated by Peer, code=406, text='PRECONDITION_FAILED - inequivalent arg 'x-dead-letter-exchange' for queue 'InvoiceCreatedQueue' in vhost '/': received none but current is the value 'InvoiceCreatedExchange' of type 'longstr'', classId=50, methodId=10 , stackTrace    at RabbitMQ.Client.Impl.SessionBase.ThrowAlreadyClosedException()
   at RabbitMQ.Client.Impl.SessionBase.TransmitAsync[T](T& cmd, CancellationToken cancellationToken)
   at RabbitMQ.Client.Impl.Channel.QueueDeclareAsync(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments, Boolean passive, Boolean noWait, CancellationToken cancellationToken)
   at RabbitMQ.Client.Impl.AutorecoveringChannel.QueueDeclareAsync(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments, Boolean passive, Boolean noWait, CancellationToken cancellationToken)
   at BillingSystem.Infrastructure.Bus.RabbitMqBus.<>c__DisplayClass5_0`1.<<PublishMessageToQueueAsync>b__0>d.MoveNext() in C:\Repositories\Gac-BillingSystem\src\BillingSystem.Infrastructure\Bus\RabbitMqBus.cs:line 33
--- End of stack trace from previous location ---
   at BillingSystem.Infrastructure.Bus.RabbitMqBus.PublishMessageToQueueAsync[T](T message, String queueName) in C:\Repositories\Gac-BillingSystem\src\BillingSystem.Infrastructure\Bus\RabbitMqBus.cs:line 36
   at BillingSystem.OutboxProcessor.Worker.ProcessBulkInvoicesAsync() in C:\Repositories\Gac-BillingSystem\src\BillingSystem.OutboxProcessor\Worker.cs:line 81
2025-10-20 14:55:26.869 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:26.871 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:26.874 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 14:55:26.876 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 14:55:26.877 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-10-20 14:55:26.879 +03:00 [DBG] Executing DbCommand [Parameters=[@__entity_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [o].[Id], [o].[Aggregate_id], [o].[CreatedDate], [o].[ErrorMsg], [o].[Event_type], [o].[Payload], [o].[Processed], [o].[ProcessingStatus]
FROM [Outbox_events] AS [o]
WHERE [o].[Id] = @__entity_Id_0
2025-10-20 14:55:26.883 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__entity_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [o].[Id], [o].[Aggregate_id], [o].[CreatedDate], [o].[ErrorMsg], [o].[Event_type], [o].[Payload], [o].[Processed], [o].[ProcessingStatus]
FROM [Outbox_events] AS [o]
WHERE [o].[Id] = @__entity_Id_0
2025-10-20 14:55:26.886 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 14:55:26.888 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 1ms reading results.
2025-10-20 14:55:26.891 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:26.893 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (1ms).
2025-10-20 14:55:26.895 +03:00 [DBG] SaveChanges starting for 'BillingServiceDBContext'.
2025-10-20 14:55:26.897 +03:00 [DBG] DetectChanges starting for 'BillingServiceDBContext'.
2025-10-20 14:55:26.898 +03:00 [DBG] DetectChanges completed for 'BillingServiceDBContext'.
2025-10-20 14:55:26.900 +03:00 [DBG] SaveChanges completed for 'BillingServiceDBContext' with 0 entities written to the database.
2025-10-20 14:55:26.916 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 14:55:26.917 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:26.919 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-20 14:55:26.939 +03:00 [ERR] exception occured Already closed: The AMQP operation was interrupted: AMQP close-reason, initiated by Peer, code=406, text='PRECONDITION_FAILED - inequivalent arg 'x-dead-letter-exchange' for queue 'InvoiceCreatedQueue' in vhost '/': received none but current is the value 'InvoiceCreatedExchange' of type 'longstr'', classId=50, methodId=10 , stackTrace    at RabbitMQ.Client.Impl.SessionBase.ThrowAlreadyClosedException()
   at RabbitMQ.Client.Impl.SessionBase.TransmitAsync[T](T& cmd, CancellationToken cancellationToken)
   at RabbitMQ.Client.Impl.Channel.QueueDeclareAsync(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments, Boolean passive, Boolean noWait, CancellationToken cancellationToken)
   at RabbitMQ.Client.Impl.AutorecoveringChannel.QueueDeclareAsync(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments, Boolean passive, Boolean noWait, CancellationToken cancellationToken)
   at BillingSystem.Infrastructure.Bus.RabbitMqBus.<>c__DisplayClass5_0`1.<<PublishMessageToQueueAsync>b__0>d.MoveNext() in C:\Repositories\Gac-BillingSystem\src\BillingSystem.Infrastructure\Bus\RabbitMqBus.cs:line 33
--- End of stack trace from previous location ---
   at BillingSystem.Infrastructure.Bus.RabbitMqBus.PublishMessageToQueueAsync[T](T message, String queueName) in C:\Repositories\Gac-BillingSystem\src\BillingSystem.Infrastructure\Bus\RabbitMqBus.cs:line 36
   at BillingSystem.OutboxProcessor.Worker.ProcessBulkInvoicesAsync() in C:\Repositories\Gac-BillingSystem\src\BillingSystem.OutboxProcessor\Worker.cs:line 81
   at BillingSystem.OutboxProcessor.Worker.ProcessBulkInvoicesAsync() in C:\Repositories\Gac-BillingSystem\src\BillingSystem.OutboxProcessor\Worker.cs:line 91
   at BillingSystem.OutboxProcessor.Worker.ExecuteAsync(CancellationToken stoppingToken) in C:\Repositories\Gac-BillingSystem\src\BillingSystem.OutboxProcessor\Worker.cs:line 53
2025-10-20 14:55:26.941 +03:00 [INF] Worker running at: "2025-10-20T14:55:26.9419001+03:00"
2025-10-20 14:55:26.944 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 14:55:26.948 +03:00 [DBG] Creating DbConnection.
2025-10-20 14:55:26.949 +03:00 [DBG] Created DbConnection. (1ms).
2025-10-20 14:55:26.951 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:26.953 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:26.954 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 14:55:26.956 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 14:55:26.958 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-10-20 14:55:26.960 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 14:55:26.973 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 14:55:26.977 +03:00 [DBG] Context 'BillingServiceDBContext' started tracking 'OutboxEvent' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 14:55:26.980 +03:00 [DBG] Context 'BillingServiceDBContext' started tracking 'OutboxEvent' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 14:55:26.982 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 14:55:26.984 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 7ms reading results.
2025-10-20 14:55:26.985 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:26.987 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (1ms).
2025-10-20 14:55:27.063 +03:00 [ERR] exception occured Already closed: The AMQP operation was interrupted: AMQP close-reason, initiated by Peer, code=406, text='PRECONDITION_FAILED - inequivalent arg 'x-dead-letter-exchange' for queue 'InvoiceCreatedQueue' in vhost '/': received none but current is the value 'InvoiceCreatedExchange' of type 'longstr'', classId=50, methodId=10 , stackTrace    at RabbitMQ.Client.Impl.SessionBase.ThrowAlreadyClosedException()
   at RabbitMQ.Client.Impl.SessionBase.TransmitAsync[T](T& cmd, CancellationToken cancellationToken)
   at RabbitMQ.Client.Impl.Channel.QueueDeclareAsync(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments, Boolean passive, Boolean noWait, CancellationToken cancellationToken)
   at RabbitMQ.Client.Impl.AutorecoveringChannel.QueueDeclareAsync(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments, Boolean passive, Boolean noWait, CancellationToken cancellationToken)
   at BillingSystem.Infrastructure.Bus.RabbitMqBus.<>c__DisplayClass5_0`1.<<PublishMessageToQueueAsync>b__0>d.MoveNext() in C:\Repositories\Gac-BillingSystem\src\BillingSystem.Infrastructure\Bus\RabbitMqBus.cs:line 33
--- End of stack trace from previous location ---
   at BillingSystem.Infrastructure.Bus.RabbitMqBus.PublishMessageToQueueAsync[T](T message, String queueName) in C:\Repositories\Gac-BillingSystem\src\BillingSystem.Infrastructure\Bus\RabbitMqBus.cs:line 36
   at BillingSystem.OutboxProcessor.Worker.ProcessBulkInvoicesAsync() in C:\Repositories\Gac-BillingSystem\src\BillingSystem.OutboxProcessor\Worker.cs:line 81
2025-10-20 14:55:27.067 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:27.069 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:27.071 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 14:55:27.072 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 14:55:27.074 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-10-20 14:55:27.076 +03:00 [DBG] Executing DbCommand [Parameters=[@__entity_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [o].[Id], [o].[Aggregate_id], [o].[CreatedDate], [o].[ErrorMsg], [o].[Event_type], [o].[Payload], [o].[Processed], [o].[ProcessingStatus]
FROM [Outbox_events] AS [o]
WHERE [o].[Id] = @__entity_Id_0
2025-10-20 14:55:27.080 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__entity_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [o].[Id], [o].[Aggregate_id], [o].[CreatedDate], [o].[ErrorMsg], [o].[Event_type], [o].[Payload], [o].[Processed], [o].[ProcessingStatus]
FROM [Outbox_events] AS [o]
WHERE [o].[Id] = @__entity_Id_0
2025-10-20 14:55:27.083 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 14:55:27.085 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 1ms reading results.
2025-10-20 14:55:27.087 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:27.089 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (2ms).
2025-10-20 14:55:27.092 +03:00 [DBG] SaveChanges starting for 'BillingServiceDBContext'.
2025-10-20 14:55:27.094 +03:00 [DBG] DetectChanges starting for 'BillingServiceDBContext'.
2025-10-20 14:55:27.095 +03:00 [DBG] DetectChanges completed for 'BillingServiceDBContext'.
2025-10-20 14:55:27.097 +03:00 [DBG] SaveChanges completed for 'BillingServiceDBContext' with 0 entities written to the database.
2025-10-20 14:55:27.124 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 14:55:27.126 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:27.128 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-10-20 14:55:27.158 +03:00 [ERR] exception occured Already closed: The AMQP operation was interrupted: AMQP close-reason, initiated by Peer, code=406, text='PRECONDITION_FAILED - inequivalent arg 'x-dead-letter-exchange' for queue 'InvoiceCreatedQueue' in vhost '/': received none but current is the value 'InvoiceCreatedExchange' of type 'longstr'', classId=50, methodId=10 , stackTrace    at RabbitMQ.Client.Impl.SessionBase.ThrowAlreadyClosedException()
   at RabbitMQ.Client.Impl.SessionBase.TransmitAsync[T](T& cmd, CancellationToken cancellationToken)
   at RabbitMQ.Client.Impl.Channel.QueueDeclareAsync(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments, Boolean passive, Boolean noWait, CancellationToken cancellationToken)
   at RabbitMQ.Client.Impl.AutorecoveringChannel.QueueDeclareAsync(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments, Boolean passive, Boolean noWait, CancellationToken cancellationToken)
   at BillingSystem.Infrastructure.Bus.RabbitMqBus.<>c__DisplayClass5_0`1.<<PublishMessageToQueueAsync>b__0>d.MoveNext() in C:\Repositories\Gac-BillingSystem\src\BillingSystem.Infrastructure\Bus\RabbitMqBus.cs:line 33
--- End of stack trace from previous location ---
   at BillingSystem.Infrastructure.Bus.RabbitMqBus.PublishMessageToQueueAsync[T](T message, String queueName) in C:\Repositories\Gac-BillingSystem\src\BillingSystem.Infrastructure\Bus\RabbitMqBus.cs:line 36
   at BillingSystem.OutboxProcessor.Worker.ProcessBulkInvoicesAsync() in C:\Repositories\Gac-BillingSystem\src\BillingSystem.OutboxProcessor\Worker.cs:line 81
   at BillingSystem.OutboxProcessor.Worker.ProcessBulkInvoicesAsync() in C:\Repositories\Gac-BillingSystem\src\BillingSystem.OutboxProcessor\Worker.cs:line 91
   at BillingSystem.OutboxProcessor.Worker.ExecuteAsync(CancellationToken stoppingToken) in C:\Repositories\Gac-BillingSystem\src\BillingSystem.OutboxProcessor\Worker.cs:line 53
2025-10-20 14:55:27.160 +03:00 [INF] Worker running at: "2025-10-20T14:55:27.1607762+03:00"
2025-10-20 14:55:27.162 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 14:55:27.165 +03:00 [DBG] Creating DbConnection.
2025-10-20 14:55:27.166 +03:00 [DBG] Created DbConnection. (1ms).
2025-10-20 14:55:27.168 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:27.169 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:27.171 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 14:55:27.172 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 14:55:27.174 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-10-20 14:55:27.176 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 14:55:27.188 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 14:55:27.191 +03:00 [DBG] Context 'BillingServiceDBContext' started tracking 'OutboxEvent' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 14:55:27.193 +03:00 [DBG] Context 'BillingServiceDBContext' started tracking 'OutboxEvent' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 14:55:27.195 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 14:55:27.197 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 5ms reading results.
2025-10-20 14:55:27.199 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:27.201 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (1ms).
2025-10-20 14:55:27.290 +03:00 [ERR] exception occured Already closed: The AMQP operation was interrupted: AMQP close-reason, initiated by Peer, code=406, text='PRECONDITION_FAILED - inequivalent arg 'x-dead-letter-exchange' for queue 'InvoiceCreatedQueue' in vhost '/': received none but current is the value 'InvoiceCreatedExchange' of type 'longstr'', classId=50, methodId=10 , stackTrace    at RabbitMQ.Client.Impl.SessionBase.ThrowAlreadyClosedException()
   at RabbitMQ.Client.Impl.SessionBase.TransmitAsync[T](T& cmd, CancellationToken cancellationToken)
   at RabbitMQ.Client.Impl.Channel.QueueDeclareAsync(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments, Boolean passive, Boolean noWait, CancellationToken cancellationToken)
   at RabbitMQ.Client.Impl.AutorecoveringChannel.QueueDeclareAsync(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments, Boolean passive, Boolean noWait, CancellationToken cancellationToken)
   at BillingSystem.Infrastructure.Bus.RabbitMqBus.<>c__DisplayClass5_0`1.<<PublishMessageToQueueAsync>b__0>d.MoveNext() in C:\Repositories\Gac-BillingSystem\src\BillingSystem.Infrastructure\Bus\RabbitMqBus.cs:line 33
--- End of stack trace from previous location ---
   at BillingSystem.Infrastructure.Bus.RabbitMqBus.PublishMessageToQueueAsync[T](T message, String queueName) in C:\Repositories\Gac-BillingSystem\src\BillingSystem.Infrastructure\Bus\RabbitMqBus.cs:line 36
   at BillingSystem.OutboxProcessor.Worker.ProcessBulkInvoicesAsync() in C:\Repositories\Gac-BillingSystem\src\BillingSystem.OutboxProcessor\Worker.cs:line 81
2025-10-20 14:55:27.292 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:27.294 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:27.296 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 14:55:27.297 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 14:55:27.299 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-10-20 14:55:27.300 +03:00 [DBG] Executing DbCommand [Parameters=[@__entity_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [o].[Id], [o].[Aggregate_id], [o].[CreatedDate], [o].[ErrorMsg], [o].[Event_type], [o].[Payload], [o].[Processed], [o].[ProcessingStatus]
FROM [Outbox_events] AS [o]
WHERE [o].[Id] = @__entity_Id_0
2025-10-20 14:55:27.305 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__entity_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [o].[Id], [o].[Aggregate_id], [o].[CreatedDate], [o].[ErrorMsg], [o].[Event_type], [o].[Payload], [o].[Processed], [o].[ProcessingStatus]
FROM [Outbox_events] AS [o]
WHERE [o].[Id] = @__entity_Id_0
2025-10-20 14:55:27.307 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 14:55:27.309 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 1ms reading results.
2025-10-20 14:55:27.311 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:27.313 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (2ms).
2025-10-20 14:55:27.315 +03:00 [DBG] SaveChanges starting for 'BillingServiceDBContext'.
2025-10-20 14:55:27.317 +03:00 [DBG] DetectChanges starting for 'BillingServiceDBContext'.
2025-10-20 14:55:27.318 +03:00 [DBG] DetectChanges completed for 'BillingServiceDBContext'.
2025-10-20 14:55:27.320 +03:00 [DBG] SaveChanges completed for 'BillingServiceDBContext' with 0 entities written to the database.
2025-10-20 14:55:27.349 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 14:55:27.352 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:27.354 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-20 14:55:27.385 +03:00 [ERR] exception occured Already closed: The AMQP operation was interrupted: AMQP close-reason, initiated by Peer, code=406, text='PRECONDITION_FAILED - inequivalent arg 'x-dead-letter-exchange' for queue 'InvoiceCreatedQueue' in vhost '/': received none but current is the value 'InvoiceCreatedExchange' of type 'longstr'', classId=50, methodId=10 , stackTrace    at RabbitMQ.Client.Impl.SessionBase.ThrowAlreadyClosedException()
   at RabbitMQ.Client.Impl.SessionBase.TransmitAsync[T](T& cmd, CancellationToken cancellationToken)
   at RabbitMQ.Client.Impl.Channel.QueueDeclareAsync(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments, Boolean passive, Boolean noWait, CancellationToken cancellationToken)
   at RabbitMQ.Client.Impl.AutorecoveringChannel.QueueDeclareAsync(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments, Boolean passive, Boolean noWait, CancellationToken cancellationToken)
   at BillingSystem.Infrastructure.Bus.RabbitMqBus.<>c__DisplayClass5_0`1.<<PublishMessageToQueueAsync>b__0>d.MoveNext() in C:\Repositories\Gac-BillingSystem\src\BillingSystem.Infrastructure\Bus\RabbitMqBus.cs:line 33
--- End of stack trace from previous location ---
   at BillingSystem.Infrastructure.Bus.RabbitMqBus.PublishMessageToQueueAsync[T](T message, String queueName) in C:\Repositories\Gac-BillingSystem\src\BillingSystem.Infrastructure\Bus\RabbitMqBus.cs:line 36
   at BillingSystem.OutboxProcessor.Worker.ProcessBulkInvoicesAsync() in C:\Repositories\Gac-BillingSystem\src\BillingSystem.OutboxProcessor\Worker.cs:line 81
   at BillingSystem.OutboxProcessor.Worker.ProcessBulkInvoicesAsync() in C:\Repositories\Gac-BillingSystem\src\BillingSystem.OutboxProcessor\Worker.cs:line 91
   at BillingSystem.OutboxProcessor.Worker.ExecuteAsync(CancellationToken stoppingToken) in C:\Repositories\Gac-BillingSystem\src\BillingSystem.OutboxProcessor\Worker.cs:line 53
2025-10-20 14:55:27.389 +03:00 [INF] Worker running at: "2025-10-20T14:55:27.3892805+03:00"
2025-10-20 14:55:27.392 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 14:55:27.394 +03:00 [DBG] Creating DbConnection.
2025-10-20 14:55:27.395 +03:00 [DBG] Created DbConnection. (0ms).
2025-10-20 14:55:27.397 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:27.398 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:27.400 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 14:55:27.402 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 14:55:27.403 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-10-20 14:55:27.405 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 14:55:27.418 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 14:55:27.420 +03:00 [DBG] Context 'BillingServiceDBContext' started tracking 'OutboxEvent' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 14:55:27.422 +03:00 [DBG] Context 'BillingServiceDBContext' started tracking 'OutboxEvent' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 14:55:27.424 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 14:55:27.426 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 6ms reading results.
2025-10-20 14:55:27.428 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:27.430 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (1ms).
2025-10-20 14:55:27.512 +03:00 [ERR] exception occured Already closed: The AMQP operation was interrupted: AMQP close-reason, initiated by Peer, code=406, text='PRECONDITION_FAILED - inequivalent arg 'x-dead-letter-exchange' for queue 'InvoiceCreatedQueue' in vhost '/': received none but current is the value 'InvoiceCreatedExchange' of type 'longstr'', classId=50, methodId=10 , stackTrace    at RabbitMQ.Client.Impl.SessionBase.ThrowAlreadyClosedException()
   at RabbitMQ.Client.Impl.SessionBase.TransmitAsync[T](T& cmd, CancellationToken cancellationToken)
   at RabbitMQ.Client.Impl.Channel.QueueDeclareAsync(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments, Boolean passive, Boolean noWait, CancellationToken cancellationToken)
   at RabbitMQ.Client.Impl.AutorecoveringChannel.QueueDeclareAsync(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments, Boolean passive, Boolean noWait, CancellationToken cancellationToken)
   at BillingSystem.Infrastructure.Bus.RabbitMqBus.<>c__DisplayClass5_0`1.<<PublishMessageToQueueAsync>b__0>d.MoveNext() in C:\Repositories\Gac-BillingSystem\src\BillingSystem.Infrastructure\Bus\RabbitMqBus.cs:line 33
--- End of stack trace from previous location ---
   at BillingSystem.Infrastructure.Bus.RabbitMqBus.PublishMessageToQueueAsync[T](T message, String queueName) in C:\Repositories\Gac-BillingSystem\src\BillingSystem.Infrastructure\Bus\RabbitMqBus.cs:line 36
   at BillingSystem.OutboxProcessor.Worker.ProcessBulkInvoicesAsync() in C:\Repositories\Gac-BillingSystem\src\BillingSystem.OutboxProcessor\Worker.cs:line 81
2025-10-20 14:55:27.516 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:27.518 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:27.520 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 14:55:27.521 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 14:55:27.523 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-10-20 14:55:27.525 +03:00 [DBG] Executing DbCommand [Parameters=[@__entity_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [o].[Id], [o].[Aggregate_id], [o].[CreatedDate], [o].[ErrorMsg], [o].[Event_type], [o].[Payload], [o].[Processed], [o].[ProcessingStatus]
FROM [Outbox_events] AS [o]
WHERE [o].[Id] = @__entity_Id_0
2025-10-20 14:55:27.529 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__entity_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [o].[Id], [o].[Aggregate_id], [o].[CreatedDate], [o].[ErrorMsg], [o].[Event_type], [o].[Payload], [o].[Processed], [o].[ProcessingStatus]
FROM [Outbox_events] AS [o]
WHERE [o].[Id] = @__entity_Id_0
2025-10-20 14:55:27.532 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 14:55:27.535 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 2ms reading results.
2025-10-20 14:55:27.537 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:27.539 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (1ms).
2025-10-20 14:55:27.541 +03:00 [DBG] SaveChanges starting for 'BillingServiceDBContext'.
2025-10-20 14:55:27.543 +03:00 [DBG] DetectChanges starting for 'BillingServiceDBContext'.
2025-10-20 14:55:27.544 +03:00 [DBG] DetectChanges completed for 'BillingServiceDBContext'.
2025-10-20 14:55:27.545 +03:00 [DBG] SaveChanges completed for 'BillingServiceDBContext' with 0 entities written to the database.
2025-10-20 14:55:27.573 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 14:55:27.576 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:27.578 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-10-20 14:55:27.609 +03:00 [ERR] exception occured Already closed: The AMQP operation was interrupted: AMQP close-reason, initiated by Peer, code=406, text='PRECONDITION_FAILED - inequivalent arg 'x-dead-letter-exchange' for queue 'InvoiceCreatedQueue' in vhost '/': received none but current is the value 'InvoiceCreatedExchange' of type 'longstr'', classId=50, methodId=10 , stackTrace    at RabbitMQ.Client.Impl.SessionBase.ThrowAlreadyClosedException()
   at RabbitMQ.Client.Impl.SessionBase.TransmitAsync[T](T& cmd, CancellationToken cancellationToken)
   at RabbitMQ.Client.Impl.Channel.QueueDeclareAsync(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments, Boolean passive, Boolean noWait, CancellationToken cancellationToken)
   at RabbitMQ.Client.Impl.AutorecoveringChannel.QueueDeclareAsync(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments, Boolean passive, Boolean noWait, CancellationToken cancellationToken)
   at BillingSystem.Infrastructure.Bus.RabbitMqBus.<>c__DisplayClass5_0`1.<<PublishMessageToQueueAsync>b__0>d.MoveNext() in C:\Repositories\Gac-BillingSystem\src\BillingSystem.Infrastructure\Bus\RabbitMqBus.cs:line 33
--- End of stack trace from previous location ---
   at BillingSystem.Infrastructure.Bus.RabbitMqBus.PublishMessageToQueueAsync[T](T message, String queueName) in C:\Repositories\Gac-BillingSystem\src\BillingSystem.Infrastructure\Bus\RabbitMqBus.cs:line 36
   at BillingSystem.OutboxProcessor.Worker.ProcessBulkInvoicesAsync() in C:\Repositories\Gac-BillingSystem\src\BillingSystem.OutboxProcessor\Worker.cs:line 81
   at BillingSystem.OutboxProcessor.Worker.ProcessBulkInvoicesAsync() in C:\Repositories\Gac-BillingSystem\src\BillingSystem.OutboxProcessor\Worker.cs:line 91
   at BillingSystem.OutboxProcessor.Worker.ExecuteAsync(CancellationToken stoppingToken) in C:\Repositories\Gac-BillingSystem\src\BillingSystem.OutboxProcessor\Worker.cs:line 53
2025-10-20 14:55:27.611 +03:00 [INF] Worker running at: "2025-10-20T14:55:27.6112478+03:00"
2025-10-20 14:55:27.612 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 14:55:27.615 +03:00 [DBG] Creating DbConnection.
2025-10-20 14:55:27.616 +03:00 [DBG] Created DbConnection. (1ms).
2025-10-20 14:55:27.618 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:27.619 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:27.621 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 14:55:27.623 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 14:55:27.625 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-10-20 14:55:27.626 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 14:55:27.638 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 14:55:27.642 +03:00 [DBG] Context 'BillingServiceDBContext' started tracking 'OutboxEvent' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 14:55:27.644 +03:00 [DBG] Context 'BillingServiceDBContext' started tracking 'OutboxEvent' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 14:55:27.647 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 14:55:27.650 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 9ms reading results.
2025-10-20 14:55:27.653 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:27.655 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (1ms).
2025-10-20 14:55:27.744 +03:00 [ERR] exception occured Already closed: The AMQP operation was interrupted: AMQP close-reason, initiated by Peer, code=406, text='PRECONDITION_FAILED - inequivalent arg 'x-dead-letter-exchange' for queue 'InvoiceCreatedQueue' in vhost '/': received none but current is the value 'InvoiceCreatedExchange' of type 'longstr'', classId=50, methodId=10 , stackTrace    at RabbitMQ.Client.Impl.SessionBase.ThrowAlreadyClosedException()
   at RabbitMQ.Client.Impl.SessionBase.TransmitAsync[T](T& cmd, CancellationToken cancellationToken)
   at RabbitMQ.Client.Impl.Channel.QueueDeclareAsync(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments, Boolean passive, Boolean noWait, CancellationToken cancellationToken)
   at RabbitMQ.Client.Impl.AutorecoveringChannel.QueueDeclareAsync(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments, Boolean passive, Boolean noWait, CancellationToken cancellationToken)
   at BillingSystem.Infrastructure.Bus.RabbitMqBus.<>c__DisplayClass5_0`1.<<PublishMessageToQueueAsync>b__0>d.MoveNext() in C:\Repositories\Gac-BillingSystem\src\BillingSystem.Infrastructure\Bus\RabbitMqBus.cs:line 33
--- End of stack trace from previous location ---
   at BillingSystem.Infrastructure.Bus.RabbitMqBus.PublishMessageToQueueAsync[T](T message, String queueName) in C:\Repositories\Gac-BillingSystem\src\BillingSystem.Infrastructure\Bus\RabbitMqBus.cs:line 36
   at BillingSystem.OutboxProcessor.Worker.ProcessBulkInvoicesAsync() in C:\Repositories\Gac-BillingSystem\src\BillingSystem.OutboxProcessor\Worker.cs:line 81
2025-10-20 14:55:27.749 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:27.751 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:27.753 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 14:55:27.754 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 14:55:27.756 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-10-20 14:55:27.758 +03:00 [DBG] Executing DbCommand [Parameters=[@__entity_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [o].[Id], [o].[Aggregate_id], [o].[CreatedDate], [o].[ErrorMsg], [o].[Event_type], [o].[Payload], [o].[Processed], [o].[ProcessingStatus]
FROM [Outbox_events] AS [o]
WHERE [o].[Id] = @__entity_Id_0
2025-10-20 14:55:27.763 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__entity_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [o].[Id], [o].[Aggregate_id], [o].[CreatedDate], [o].[ErrorMsg], [o].[Event_type], [o].[Payload], [o].[Processed], [o].[ProcessingStatus]
FROM [Outbox_events] AS [o]
WHERE [o].[Id] = @__entity_Id_0
2025-10-20 14:55:27.766 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 14:55:27.769 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 3ms reading results.
2025-10-20 14:55:27.774 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:27.777 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (3ms).
2025-10-20 14:55:27.780 +03:00 [DBG] SaveChanges starting for 'BillingServiceDBContext'.
2025-10-20 14:55:27.782 +03:00 [DBG] DetectChanges starting for 'BillingServiceDBContext'.
2025-10-20 14:55:27.783 +03:00 [DBG] DetectChanges completed for 'BillingServiceDBContext'.
2025-10-20 14:55:27.785 +03:00 [DBG] SaveChanges completed for 'BillingServiceDBContext' with 0 entities written to the database.
2025-10-20 14:55:27.815 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 14:55:27.817 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:27.819 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-20 14:55:27.850 +03:00 [ERR] exception occured Already closed: The AMQP operation was interrupted: AMQP close-reason, initiated by Peer, code=406, text='PRECONDITION_FAILED - inequivalent arg 'x-dead-letter-exchange' for queue 'InvoiceCreatedQueue' in vhost '/': received none but current is the value 'InvoiceCreatedExchange' of type 'longstr'', classId=50, methodId=10 , stackTrace    at RabbitMQ.Client.Impl.SessionBase.ThrowAlreadyClosedException()
   at RabbitMQ.Client.Impl.SessionBase.TransmitAsync[T](T& cmd, CancellationToken cancellationToken)
   at RabbitMQ.Client.Impl.Channel.QueueDeclareAsync(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments, Boolean passive, Boolean noWait, CancellationToken cancellationToken)
   at RabbitMQ.Client.Impl.AutorecoveringChannel.QueueDeclareAsync(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments, Boolean passive, Boolean noWait, CancellationToken cancellationToken)
   at BillingSystem.Infrastructure.Bus.RabbitMqBus.<>c__DisplayClass5_0`1.<<PublishMessageToQueueAsync>b__0>d.MoveNext() in C:\Repositories\Gac-BillingSystem\src\BillingSystem.Infrastructure\Bus\RabbitMqBus.cs:line 33
--- End of stack trace from previous location ---
   at BillingSystem.Infrastructure.Bus.RabbitMqBus.PublishMessageToQueueAsync[T](T message, String queueName) in C:\Repositories\Gac-BillingSystem\src\BillingSystem.Infrastructure\Bus\RabbitMqBus.cs:line 36
   at BillingSystem.OutboxProcessor.Worker.ProcessBulkInvoicesAsync() in C:\Repositories\Gac-BillingSystem\src\BillingSystem.OutboxProcessor\Worker.cs:line 81
   at BillingSystem.OutboxProcessor.Worker.ProcessBulkInvoicesAsync() in C:\Repositories\Gac-BillingSystem\src\BillingSystem.OutboxProcessor\Worker.cs:line 91
   at BillingSystem.OutboxProcessor.Worker.ExecuteAsync(CancellationToken stoppingToken) in C:\Repositories\Gac-BillingSystem\src\BillingSystem.OutboxProcessor\Worker.cs:line 53
2025-10-20 14:55:27.855 +03:00 [INF] Worker running at: "2025-10-20T14:55:27.8553034+03:00"
2025-10-20 14:55:27.867 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 14:55:27.882 +03:00 [DBG] Creating DbConnection.
2025-10-20 14:55:27.885 +03:00 [DBG] Created DbConnection. (3ms).
2025-10-20 14:55:27.894 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:27.897 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:27.900 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 14:55:27.903 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-10-20 14:55:27.907 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-10-20 14:55:27.910 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 14:55:27.923 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 14:55:27.928 +03:00 [DBG] Context 'BillingServiceDBContext' started tracking 'OutboxEvent' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 14:55:27.931 +03:00 [DBG] Context 'BillingServiceDBContext' started tracking 'OutboxEvent' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 14:55:27.933 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 14:55:27.936 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 8ms reading results.
2025-10-20 14:55:27.940 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 14:55:27.944 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (3ms).
2025-10-20 15:21:32.958 +03:00 [DBG] Hosting starting
2025-10-20 15:21:33.470 +03:00 [DBG] Starting bus instances: IBus
2025-10-20 15:21:33.479 +03:00 [DBG] Starting bus: "rabbitmq://localhost/"
2025-10-20 15:21:33.505 +03:00 [INF] Worker running at: "2025-10-20T15:21:33.5050712+03:00"
2025-10-20 15:21:33.534 +03:00 [DBG] Connect: guest@localhost:5672/
2025-10-20 15:21:33.557 +03:00 [DBG] Connected: guest@localhost:5672/ (address: amqp://localhost:5672, local: 58804)
2025-10-20 15:21:33.657 +03:00 [DBG] Endpoint Ready: "rabbitmq://localhost/ECHGHANNAMLP1_BillingSystemO_bus_jbzyyyyh3bcsyiiybdxy9w3wgt?temporary=true"
2025-10-20 15:21:33.659 +03:00 [INF] Bus started: "rabbitmq://localhost/"
2025-10-20 15:21:33.751 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-10-20 15:21:39.312 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 15:21:39.358 +03:00 [DBG] Compiling query expression: 
'DbSet<OutboxEvent>().FromSql(EXECUTE dbo.GetNextPendingRowsForProcessing {0}, __p_0)
'
2025-10-20 15:21:39.517 +03:00 [DBG] Generated query execution expression: 
'queryContext => FromSqlQueryingEnumerable.Create<OutboxEvent>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: OutboxEvent.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: OutboxEvent.AggregateId (long) Required, 1], [Property: OutboxEvent.CreatedDate (DateTime) Required, 2], [Property: OutboxEvent.ErrorMsg (string), 3], [Property: OutboxEvent.EventType (string) Required MaxLength(300), 4], [Property: OutboxEvent.Payload (string), 5], [Property: OutboxEvent.Processed (bool) Required, 6], [Property: OutboxEvent.ProcessingStatus (string), 7] }
        SELECT b.Id, b.Aggregate_id, b.CreatedDate, b.ErrorMsg, b.Event_type, b.Payload, b.Processed, b.ProcessingStatus
        FROM EXECUTE dbo.GetNextPendingRowsForProcessing {0}) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: OutboxEvent.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: OutboxEvent.AggregateId (long) Required, 1], [Property: OutboxEvent.CreatedDate (DateTime) Required, 2], [Property: OutboxEvent.ErrorMsg (string), 3], [Property: OutboxEvent.EventType (string) Required MaxLength(300), 4], [Property: OutboxEvent.Payload (string), 5], [Property: OutboxEvent.Processed (bool) Required, 6], [Property: OutboxEvent.ProcessingStatus (string), 7] }
        SELECT b.Id, b.Aggregate_id, b.CreatedDate, b.ErrorMsg, b.Event_type, b.Payload, b.Processed, b.ProcessingStatus
        FROM EXECUTE dbo.GetNextPendingRowsForProcessing {0}, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    columnNames: [LIFTABLE Constant: string[] { "Id", "Aggregate_id", "CreatedDate", "ErrorMsg", "Event_type", "Payload", "Processed", "ProcessingStatus" } | Resolver: _ => new string[]
    { 
        "Id", 
        "Aggregate_id", 
        "CreatedDate", 
        "ErrorMsg", 
        "Event_type", 
        "Payload", 
        "Processed", 
        "ProcessingStatus" 
    }], 
    shaper: (queryContext, dataReader, indexMap) => 
    {
        OutboxEvent entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            OutboxEvent instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(OutboxEvent);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: OutboxEvent.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("BillingSystem.Domain.Entities.OutboxEvent").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt64(indexMap[0]) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (OutboxEvent)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: OutboxEvent | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("BillingSystem.Domain.Entities.OutboxEvent")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: OutboxEvent | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("BillingSystem.Domain.Entities.OutboxEvent")]: 
                        {
                            return 
                            {
                                OutboxEvent instance;
                                instance = new OutboxEvent();
                                instance.<Id>k__BackingField = dataReader.GetInt64(indexMap[0]);
                                instance.<AggregateId>k__BackingField = dataReader.GetInt64(indexMap[1]);
                                instance.<CreatedDate>k__BackingField = dataReader.GetDateTime(indexMap[2]);
                                instance.<ErrorMsg>k__BackingField = dataReader.IsDBNull(indexMap[3]) ? default(string) : dataReader.GetString(indexMap[3]);
                                instance.<EventType>k__BackingField = dataReader.GetString(indexMap[4]);
                                instance.<Payload>k__BackingField = dataReader.IsDBNull(indexMap[5]) ? default(string) : dataReader.GetString(indexMap[5]);
                                instance.<Processed>k__BackingField = dataReader.GetBoolean(indexMap[6]);
                                instance.<ProcessingStatus>k__BackingField = dataReader.IsDBNull(indexMap[7]) ? default(string) : dataReader.GetString(indexMap[7]);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: OutboxEvent | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("BillingSystem.Domain.Entities.OutboxEvent")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(OutboxEvent)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: BillingSystem.Infrastructure.EF.BillingServiceDBContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-10-20 15:21:39.544 +03:00 [DBG] Creating DbConnection.
2025-10-20 15:21:39.557 +03:00 [DBG] Created DbConnection. (12ms).
2025-10-20 15:21:39.561 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:21:39.664 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-20 15:21:39.666 +03:00 [INF] Hosting environment: Development
2025-10-20 15:21:39.673 +03:00 [INF] Content root path: C:\Repositories\Gac-BillingSystem\src\BillingSystem.OutboxProcessor
2025-10-20 15:21:39.674 +03:00 [DBG] Hosting started
2025-10-20 15:21:39.748 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:21:39.753 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:21:39.760 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-10-20 15:21:39.766 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (13ms).
2025-10-20 15:21:39.775 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 15:21:39.838 +03:00 [INF] Executed DbCommand (64ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 15:21:39.872 +03:00 [DBG] Context 'BillingServiceDBContext' started tracking 'OutboxEvent' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 15:21:39.898 +03:00 [DBG] Context 'BillingServiceDBContext' started tracking 'OutboxEvent' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 15:21:39.905 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 15:21:39.915 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 67ms reading results.
2025-10-20 15:21:39.919 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:21:39.925 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (6ms).
2025-10-20 15:21:40.013 +03:00 [DBG] Compiling query expression: 
'DbSet<OutboxEvent>()
    .SingleOrDefault(p => p.Id == __entity_Id_0)'
2025-10-20 15:21:40.062 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<OutboxEvent>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: OutboxEvent.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: OutboxEvent.AggregateId (long) Required, 1], [Property: OutboxEvent.CreatedDate (DateTime) Required, 2], [Property: OutboxEvent.ErrorMsg (string), 3], [Property: OutboxEvent.EventType (string) Required MaxLength(300), 4], [Property: OutboxEvent.Payload (string), 5], [Property: OutboxEvent.Processed (bool) Required, 6], [Property: OutboxEvent.ProcessingStatus (string), 7] }
        SELECT TOP(2) o.Id, o.Aggregate_id, o.CreatedDate, o.ErrorMsg, o.Event_type, o.Payload, o.Processed, o.ProcessingStatus
        FROM Outbox_events AS o
        WHERE o.Id == @__entity_Id_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: OutboxEvent.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: OutboxEvent.AggregateId (long) Required, 1], [Property: OutboxEvent.CreatedDate (DateTime) Required, 2], [Property: OutboxEvent.ErrorMsg (string), 3], [Property: OutboxEvent.EventType (string) Required MaxLength(300), 4], [Property: OutboxEvent.Payload (string), 5], [Property: OutboxEvent.Processed (bool) Required, 6], [Property: OutboxEvent.ProcessingStatus (string), 7] }
        SELECT TOP(2) o.Id, o.Aggregate_id, o.CreatedDate, o.ErrorMsg, o.Event_type, o.Payload, o.Processed, o.ProcessingStatus
        FROM Outbox_events AS o
        WHERE o.Id == @__entity_Id_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        OutboxEvent entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            OutboxEvent instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(OutboxEvent);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: OutboxEvent.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("BillingSystem.Domain.Entities.OutboxEvent").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt64(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (OutboxEvent)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: OutboxEvent | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("BillingSystem.Domain.Entities.OutboxEvent")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: OutboxEvent | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("BillingSystem.Domain.Entities.OutboxEvent")]: 
                        {
                            return 
                            {
                                OutboxEvent instance;
                                instance = new OutboxEvent();
                                instance.<Id>k__BackingField = dataReader.GetInt64(0);
                                instance.<AggregateId>k__BackingField = dataReader.GetInt64(1);
                                instance.<CreatedDate>k__BackingField = dataReader.GetDateTime(2);
                                instance.<ErrorMsg>k__BackingField = dataReader.IsDBNull(3) ? default(string) : dataReader.GetString(3);
                                instance.<EventType>k__BackingField = dataReader.GetString(4);
                                instance.<Payload>k__BackingField = dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5);
                                instance.<Processed>k__BackingField = dataReader.GetBoolean(6);
                                instance.<ProcessingStatus>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: OutboxEvent | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("BillingSystem.Domain.Entities.OutboxEvent")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(OutboxEvent)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: BillingSystem.Infrastructure.EF.BillingServiceDBContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)
    .SingleOrDefault()'
2025-10-20 15:21:40.076 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:21:40.080 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:21:40.083 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:21:40.084 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 15:21:40.087 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-10-20 15:21:40.089 +03:00 [DBG] Executing DbCommand [Parameters=[@__entity_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [o].[Id], [o].[Aggregate_id], [o].[CreatedDate], [o].[ErrorMsg], [o].[Event_type], [o].[Payload], [o].[Processed], [o].[ProcessingStatus]
FROM [Outbox_events] AS [o]
WHERE [o].[Id] = @__entity_Id_0
2025-10-20 15:21:40.099 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__entity_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [o].[Id], [o].[Aggregate_id], [o].[CreatedDate], [o].[ErrorMsg], [o].[Event_type], [o].[Payload], [o].[Processed], [o].[ProcessingStatus]
FROM [Outbox_events] AS [o]
WHERE [o].[Id] = @__entity_Id_0
2025-10-20 15:21:40.106 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 15:21:40.108 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 5ms reading results.
2025-10-20 15:21:40.112 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:21:40.115 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (2ms).
2025-10-20 15:21:40.132 +03:00 [DBG] The unchanged property 'OutboxEvent.Processed' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-10-20 15:21:40.140 +03:00 [DBG] An entity of type 'OutboxEvent' tracked by 'BillingServiceDBContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 15:21:40.147 +03:00 [DBG] SaveChanges starting for 'BillingServiceDBContext'.
2025-10-20 15:21:40.151 +03:00 [DBG] DetectChanges starting for 'BillingServiceDBContext'.
2025-10-20 15:21:40.157 +03:00 [DBG] DetectChanges completed for 'BillingServiceDBContext'.
2025-10-20 15:21:40.193 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:21:40.196 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:21:40.202 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:21:40.205 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-10-20 15:21:40.208 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-10-20 15:21:40.211 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int64), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Outbox_events] SET [Processed] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-10-20 15:21:40.229 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@p1='?' (DbType = Int64), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Outbox_events] SET [Processed] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-10-20 15:21:40.239 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 15:21:40.241 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 7ms reading results.
2025-10-20 15:21:40.245 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:21:40.247 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (2ms).
2025-10-20 15:21:40.255 +03:00 [DBG] An entity of type 'OutboxEvent' tracked by 'BillingServiceDBContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 15:21:40.260 +03:00 [DBG] SaveChanges completed for 'BillingServiceDBContext' with 1 entities written to the database.
2025-10-20 15:21:40.278 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:21:40.281 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:21:40.283 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:21:40.285 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 15:21:40.288 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-10-20 15:21:40.291 +03:00 [DBG] Executing DbCommand [Parameters=[@__entity_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [o].[Id], [o].[Aggregate_id], [o].[CreatedDate], [o].[ErrorMsg], [o].[Event_type], [o].[Payload], [o].[Processed], [o].[ProcessingStatus]
FROM [Outbox_events] AS [o]
WHERE [o].[Id] = @__entity_Id_0
2025-10-20 15:21:40.296 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__entity_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [o].[Id], [o].[Aggregate_id], [o].[CreatedDate], [o].[ErrorMsg], [o].[Event_type], [o].[Payload], [o].[Processed], [o].[ProcessingStatus]
FROM [Outbox_events] AS [o]
WHERE [o].[Id] = @__entity_Id_0
2025-10-20 15:21:40.300 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 15:21:40.302 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 2ms reading results.
2025-10-20 15:21:40.305 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:21:40.307 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (2ms).
2025-10-20 15:21:40.310 +03:00 [DBG] The unchanged property 'OutboxEvent.Processed' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-10-20 15:21:40.312 +03:00 [DBG] An entity of type 'OutboxEvent' tracked by 'BillingServiceDBContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 15:21:40.314 +03:00 [DBG] SaveChanges starting for 'BillingServiceDBContext'.
2025-10-20 15:21:40.316 +03:00 [DBG] DetectChanges starting for 'BillingServiceDBContext'.
2025-10-20 15:21:40.318 +03:00 [DBG] DetectChanges completed for 'BillingServiceDBContext'.
2025-10-20 15:21:40.320 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:21:40.322 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:21:40.324 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:21:40.325 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 15:21:40.328 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-10-20 15:21:40.330 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int64), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Outbox_events] SET [Processed] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-10-20 15:21:40.343 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@p1='?' (DbType = Int64), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Outbox_events] SET [Processed] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-10-20 15:21:40.346 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 15:21:40.348 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 1ms reading results.
2025-10-20 15:21:40.350 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:21:40.352 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (1ms).
2025-10-20 15:21:40.355 +03:00 [DBG] An entity of type 'OutboxEvent' tracked by 'BillingServiceDBContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 15:21:40.360 +03:00 [DBG] SaveChanges completed for 'BillingServiceDBContext' with 1 entities written to the database.
2025-10-20 15:21:40.364 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 15:21:40.367 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:21:40.371 +03:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-10-20 15:22:10.374 +03:00 [INF] Worker running at: "2025-10-20T15:22:10.3746686+03:00"
2025-10-20 15:22:10.393 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 15:22:10.403 +03:00 [DBG] Creating DbConnection.
2025-10-20 15:22:10.405 +03:00 [DBG] Created DbConnection. (2ms).
2025-10-20 15:22:10.409 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:22:10.412 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:22:10.413 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:22:10.415 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-10-20 15:22:10.417 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-10-20 15:22:10.420 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 15:22:10.424 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 15:22:10.428 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 15:22:10.430 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 2ms reading results.
2025-10-20 15:22:10.432 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:22:10.435 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (2ms).
2025-10-20 15:22:10.438 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 15:22:10.439 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:22:10.442 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-10-20 15:22:40.453 +03:00 [INF] Worker running at: "2025-10-20T15:22:40.4537930+03:00"
2025-10-20 15:22:40.504 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 15:22:40.512 +03:00 [DBG] Creating DbConnection.
2025-10-20 15:22:40.515 +03:00 [DBG] Created DbConnection. (2ms).
2025-10-20 15:22:40.517 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:22:40.519 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:22:40.521 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:22:40.523 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 15:22:40.524 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-10-20 15:22:40.525 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 15:22:40.531 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 15:22:40.536 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 15:22:40.538 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 2ms reading results.
2025-10-20 15:22:40.541 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:22:40.543 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (2ms).
2025-10-20 15:22:40.545 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 15:22:40.547 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:22:40.549 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-10-20 15:23:10.560 +03:00 [INF] Worker running at: "2025-10-20T15:23:10.5605715+03:00"
2025-10-20 15:23:10.566 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 15:23:10.569 +03:00 [DBG] Creating DbConnection.
2025-10-20 15:23:10.571 +03:00 [DBG] Created DbConnection. (2ms).
2025-10-20 15:23:10.572 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:23:10.575 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:23:10.577 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:23:10.580 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-10-20 15:23:10.582 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-10-20 15:23:10.585 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 15:23:10.590 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 15:23:10.593 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 15:23:10.596 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 2ms reading results.
2025-10-20 15:23:10.599 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:23:10.601 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (2ms).
2025-10-20 15:23:10.603 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 15:23:10.605 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:23:10.607 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-20 15:23:40.620 +03:00 [INF] Worker running at: "2025-10-20T15:23:40.6207955+03:00"
2025-10-20 15:23:40.625 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 15:23:40.630 +03:00 [DBG] Creating DbConnection.
2025-10-20 15:23:40.632 +03:00 [DBG] Created DbConnection. (1ms).
2025-10-20 15:23:40.634 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:23:40.636 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:23:40.638 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:23:40.640 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-10-20 15:23:40.643 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-10-20 15:23:40.645 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 15:23:40.651 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 15:23:40.656 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 15:23:40.659 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 3ms reading results.
2025-10-20 15:23:40.661 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:23:40.664 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (2ms).
2025-10-20 15:23:40.666 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 15:23:40.669 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:23:40.672 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-10-20 15:24:10.674 +03:00 [INF] Worker running at: "2025-10-20T15:24:10.6740963+03:00"
2025-10-20 15:24:10.680 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 15:24:10.682 +03:00 [DBG] Creating DbConnection.
2025-10-20 15:24:10.684 +03:00 [DBG] Created DbConnection. (1ms).
2025-10-20 15:24:10.685 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:24:10.688 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:24:10.690 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:24:10.692 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-10-20 15:24:10.693 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-10-20 15:24:10.695 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 15:24:10.700 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 15:24:10.704 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 15:24:10.706 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 1ms reading results.
2025-10-20 15:24:10.708 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:24:10.710 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (1ms).
2025-10-20 15:24:10.711 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 15:24:10.713 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:24:10.714 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-20 15:24:40.722 +03:00 [INF] Worker running at: "2025-10-20T15:24:40.7224294+03:00"
2025-10-20 15:24:40.727 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 15:24:40.732 +03:00 [DBG] Creating DbConnection.
2025-10-20 15:24:40.734 +03:00 [DBG] Created DbConnection. (1ms).
2025-10-20 15:24:40.735 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:24:40.738 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:24:40.740 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:24:40.742 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 15:24:40.744 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-10-20 15:24:40.746 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 15:24:40.751 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 15:24:40.756 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 15:24:40.758 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 2ms reading results.
2025-10-20 15:24:40.761 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:24:40.764 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (2ms).
2025-10-20 15:24:40.766 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 15:24:40.767 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:24:40.770 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-10-20 15:25:10.775 +03:00 [INF] Worker running at: "2025-10-20T15:25:10.7755520+03:00"
2025-10-20 15:25:10.780 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 15:25:10.783 +03:00 [DBG] Creating DbConnection.
2025-10-20 15:25:10.785 +03:00 [DBG] Created DbConnection. (1ms).
2025-10-20 15:25:10.787 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:25:10.789 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:25:10.791 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:25:10.793 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 15:25:10.794 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-10-20 15:25:10.796 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 15:25:10.801 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 15:25:10.806 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 15:25:10.808 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 2ms reading results.
2025-10-20 15:25:10.810 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:25:10.813 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (2ms).
2025-10-20 15:25:10.815 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 15:25:10.817 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:25:10.819 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-20 15:25:40.820 +03:00 [INF] Worker running at: "2025-10-20T15:25:40.8207999+03:00"
2025-10-20 15:25:40.825 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 15:25:40.829 +03:00 [DBG] Creating DbConnection.
2025-10-20 15:25:40.830 +03:00 [DBG] Created DbConnection. (0ms).
2025-10-20 15:25:40.831 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:25:40.833 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:25:40.835 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:25:40.836 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 15:25:40.838 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-10-20 15:25:40.840 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 15:25:40.845 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 15:25:40.847 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 15:25:40.849 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 1ms reading results.
2025-10-20 15:25:40.851 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:25:40.852 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (1ms).
2025-10-20 15:25:40.855 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 15:25:40.856 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:25:40.858 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-20 15:26:10.871 +03:00 [INF] Worker running at: "2025-10-20T15:26:10.8714912+03:00"
2025-10-20 15:26:10.878 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 15:26:10.884 +03:00 [DBG] Creating DbConnection.
2025-10-20 15:26:10.888 +03:00 [DBG] Created DbConnection. (3ms).
2025-10-20 15:26:10.889 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:26:10.891 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:26:10.893 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:26:10.894 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 15:26:10.896 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-10-20 15:26:10.898 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 15:26:10.902 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 15:26:10.906 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 15:26:10.908 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 1ms reading results.
2025-10-20 15:26:10.910 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:26:10.911 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (1ms).
2025-10-20 15:26:10.913 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 15:26:10.914 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:26:10.915 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-20 15:26:40.927 +03:00 [INF] Worker running at: "2025-10-20T15:26:40.9271868+03:00"
2025-10-20 15:26:40.935 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 15:26:40.940 +03:00 [DBG] Creating DbConnection.
2025-10-20 15:26:40.941 +03:00 [DBG] Created DbConnection. (0ms).
2025-10-20 15:26:40.943 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:26:40.945 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:26:40.948 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:26:40.949 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 15:26:40.951 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-10-20 15:26:40.953 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 15:26:40.958 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 15:26:40.961 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 15:26:40.963 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 1ms reading results.
2025-10-20 15:26:40.965 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:26:40.967 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (1ms).
2025-10-20 15:26:40.970 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 15:26:40.973 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:26:40.975 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-10-20 15:27:10.982 +03:00 [INF] Worker running at: "2025-10-20T15:27:10.9822835+03:00"
2025-10-20 15:27:10.989 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 15:27:10.995 +03:00 [DBG] Creating DbConnection.
2025-10-20 15:27:10.997 +03:00 [DBG] Created DbConnection. (1ms).
2025-10-20 15:27:10.999 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:27:11.002 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:27:11.004 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:27:11.005 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 15:27:11.008 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-10-20 15:27:11.010 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 15:27:11.015 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 15:27:11.020 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 15:27:11.023 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 2ms reading results.
2025-10-20 15:27:11.025 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:27:11.028 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (2ms).
2025-10-20 15:27:11.030 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 15:27:11.032 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:27:11.034 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-10-20 15:27:41.052 +03:00 [INF] Worker running at: "2025-10-20T15:27:41.0522681+03:00"
2025-10-20 15:27:41.058 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 15:27:41.061 +03:00 [DBG] Creating DbConnection.
2025-10-20 15:27:41.062 +03:00 [DBG] Created DbConnection. (1ms).
2025-10-20 15:27:41.068 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:27:41.073 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:27:41.078 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:27:41.081 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-10-20 15:27:41.084 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-10-20 15:27:41.087 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 15:27:41.097 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 15:27:41.106 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 15:27:41.109 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 4ms reading results.
2025-10-20 15:27:41.112 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:27:41.115 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (3ms).
2025-10-20 15:27:41.118 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 15:27:41.119 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:27:41.122 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-10-20 15:28:11.127 +03:00 [INF] Worker running at: "2025-10-20T15:28:11.1276176+03:00"
2025-10-20 15:28:11.138 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 15:28:11.149 +03:00 [DBG] Creating DbConnection.
2025-10-20 15:28:11.153 +03:00 [DBG] Created DbConnection. (3ms).
2025-10-20 15:28:11.156 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:28:11.163 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:28:11.167 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:28:11.170 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-10-20 15:28:11.174 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-10-20 15:28:11.179 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 15:28:11.189 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 15:28:11.196 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 15:28:11.200 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 4ms reading results.
2025-10-20 15:28:11.204 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:28:11.208 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (4ms).
2025-10-20 15:28:11.213 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 15:28:11.215 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:28:11.218 +03:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-10-20 15:28:41.232 +03:00 [INF] Worker running at: "2025-10-20T15:28:41.2323034+03:00"
2025-10-20 15:28:41.239 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 15:28:41.245 +03:00 [DBG] Creating DbConnection.
2025-10-20 15:28:41.248 +03:00 [DBG] Created DbConnection. (2ms).
2025-10-20 15:28:41.252 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:28:41.255 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:28:41.258 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:28:41.261 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-10-20 15:28:41.265 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-10-20 15:28:41.269 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 15:28:41.278 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 15:28:41.284 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 15:28:41.286 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 2ms reading results.
2025-10-20 15:28:41.289 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:28:41.293 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (3ms).
2025-10-20 15:28:41.297 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 15:28:41.300 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:28:41.303 +03:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-10-20 15:29:11.314 +03:00 [INF] Worker running at: "2025-10-20T15:29:11.3141353+03:00"
2025-10-20 15:29:11.325 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 15:29:11.334 +03:00 [DBG] Creating DbConnection.
2025-10-20 15:29:11.337 +03:00 [DBG] Created DbConnection. (3ms).
2025-10-20 15:29:11.340 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:29:11.344 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:29:11.349 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:29:11.351 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-10-20 15:29:11.355 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-10-20 15:29:11.358 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 15:29:11.367 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 15:29:11.373 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 15:29:11.379 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 5ms reading results.
2025-10-20 15:29:11.382 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:29:11.384 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (2ms).
2025-10-20 15:29:11.387 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 15:29:11.388 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:29:11.390 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-10-20 15:29:41.397 +03:00 [INF] Worker running at: "2025-10-20T15:29:41.3974943+03:00"
2025-10-20 15:29:41.404 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 15:29:41.410 +03:00 [DBG] Creating DbConnection.
2025-10-20 15:29:41.414 +03:00 [DBG] Created DbConnection. (4ms).
2025-10-20 15:29:41.416 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:29:41.418 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:29:41.420 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:29:41.421 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 15:29:41.423 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-10-20 15:29:41.427 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 15:29:41.434 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 15:29:41.436 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 15:29:41.438 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 1ms reading results.
2025-10-20 15:29:41.441 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:29:41.444 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (3ms).
2025-10-20 15:29:41.447 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 15:29:41.449 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:29:41.451 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-10-20 15:30:11.456 +03:00 [INF] Worker running at: "2025-10-20T15:30:11.4566745+03:00"
2025-10-20 15:30:11.462 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 15:30:11.467 +03:00 [DBG] Creating DbConnection.
2025-10-20 15:30:11.469 +03:00 [DBG] Created DbConnection. (1ms).
2025-10-20 15:30:11.470 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:30:11.473 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:30:11.476 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:30:11.478 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 15:30:11.481 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-10-20 15:30:11.483 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 15:30:11.490 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 15:30:11.494 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 15:30:11.497 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 2ms reading results.
2025-10-20 15:30:11.500 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:30:11.502 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (2ms).
2025-10-20 15:30:11.505 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 15:30:11.507 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:30:11.509 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-10-20 15:30:41.520 +03:00 [INF] Worker running at: "2025-10-20T15:30:41.5209079+03:00"
2025-10-20 15:30:41.526 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 15:30:41.530 +03:00 [DBG] Creating DbConnection.
2025-10-20 15:30:41.531 +03:00 [DBG] Created DbConnection. (1ms).
2025-10-20 15:30:41.532 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:30:41.535 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:30:41.537 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:30:41.538 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 15:30:41.541 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-10-20 15:30:41.543 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 15:30:41.548 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 15:30:41.552 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 15:30:41.554 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 2ms reading results.
2025-10-20 15:30:41.557 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:30:41.560 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (2ms).
2025-10-20 15:30:41.562 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 15:30:41.564 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:30:41.566 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-10-20 15:31:11.569 +03:00 [INF] Worker running at: "2025-10-20T15:31:11.5695089+03:00"
2025-10-20 15:31:11.577 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 15:31:11.585 +03:00 [DBG] Creating DbConnection.
2025-10-20 15:31:11.587 +03:00 [DBG] Created DbConnection. (2ms).
2025-10-20 15:31:11.589 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:31:11.592 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:31:11.594 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:31:11.596 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-10-20 15:31:11.599 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-10-20 15:31:11.601 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 15:31:11.606 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 15:31:11.610 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 15:31:11.612 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 2ms reading results.
2025-10-20 15:31:11.615 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:31:11.618 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (2ms).
2025-10-20 15:31:11.620 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 15:31:11.621 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:31:11.624 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-10-20 15:31:41.638 +03:00 [INF] Worker running at: "2025-10-20T15:31:41.6385326+03:00"
2025-10-20 15:31:41.647 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 15:31:41.653 +03:00 [DBG] Creating DbConnection.
2025-10-20 15:31:41.657 +03:00 [DBG] Created DbConnection. (4ms).
2025-10-20 15:31:41.660 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:31:41.665 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:31:41.669 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:31:41.672 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-10-20 15:31:41.676 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-10-20 15:31:41.679 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 15:31:41.690 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 15:31:41.694 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 15:31:41.697 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 3ms reading results.
2025-10-20 15:31:41.700 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:31:41.703 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (3ms).
2025-10-20 15:31:41.707 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 15:31:41.709 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:31:41.711 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-10-20 15:32:11.728 +03:00 [INF] Worker running at: "2025-10-20T15:32:11.7282971+03:00"
2025-10-20 15:32:11.737 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 15:32:11.745 +03:00 [DBG] Creating DbConnection.
2025-10-20 15:32:11.749 +03:00 [DBG] Created DbConnection. (3ms).
2025-10-20 15:32:11.753 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:32:11.757 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:32:11.762 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:32:11.765 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-10-20 15:32:11.767 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-10-20 15:32:11.770 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 15:32:11.779 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 15:32:11.782 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 15:32:11.786 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 3ms reading results.
2025-10-20 15:32:11.792 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:32:11.796 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (4ms).
2025-10-20 15:32:11.799 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 15:32:11.801 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:32:11.804 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-10-20 15:32:41.822 +03:00 [INF] Worker running at: "2025-10-20T15:32:41.8222469+03:00"
2025-10-20 15:32:41.826 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 15:32:41.834 +03:00 [DBG] Creating DbConnection.
2025-10-20 15:32:41.836 +03:00 [DBG] Created DbConnection. (2ms).
2025-10-20 15:32:41.840 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:32:41.843 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:32:41.845 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:32:41.847 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 15:32:41.849 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-10-20 15:32:41.852 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 15:32:41.859 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 15:32:41.865 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 15:32:41.868 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 3ms reading results.
2025-10-20 15:32:41.871 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:32:41.873 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (2ms).
2025-10-20 15:32:41.876 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 15:32:41.879 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:32:41.882 +03:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-10-20 15:33:11.890 +03:00 [INF] Worker running at: "2025-10-20T15:33:11.8904911+03:00"
2025-10-20 15:33:11.901 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 15:33:11.908 +03:00 [DBG] Creating DbConnection.
2025-10-20 15:33:11.910 +03:00 [DBG] Created DbConnection. (2ms).
2025-10-20 15:33:11.912 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:33:11.915 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:33:11.918 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:33:11.920 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 15:33:11.922 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-10-20 15:33:11.924 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 15:33:11.930 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 15:33:11.933 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 15:33:11.935 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 2ms reading results.
2025-10-20 15:33:11.937 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:33:11.939 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (2ms).
2025-10-20 15:33:11.942 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 15:33:11.943 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:33:11.945 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-20 15:33:41.954 +03:00 [INF] Worker running at: "2025-10-20T15:33:41.9546335+03:00"
2025-10-20 15:33:41.960 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 15:33:41.965 +03:00 [DBG] Creating DbConnection.
2025-10-20 15:33:41.967 +03:00 [DBG] Created DbConnection. (1ms).
2025-10-20 15:33:41.971 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:33:41.975 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:33:41.977 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:33:41.980 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-10-20 15:33:41.983 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-10-20 15:33:41.987 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 15:33:41.993 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 15:33:41.996 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 15:33:41.999 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 2ms reading results.
2025-10-20 15:33:42.001 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:33:42.003 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (2ms).
2025-10-20 15:33:42.005 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 15:33:42.008 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:33:42.011 +03:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-10-20 15:34:12.015 +03:00 [INF] Worker running at: "2025-10-20T15:34:12.0156624+03:00"
2025-10-20 15:34:12.025 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 15:34:12.034 +03:00 [DBG] Creating DbConnection.
2025-10-20 15:34:12.036 +03:00 [DBG] Created DbConnection. (2ms).
2025-10-20 15:34:12.041 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:34:12.044 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:34:12.047 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:34:12.049 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-10-20 15:34:12.052 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-10-20 15:34:12.054 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 15:34:12.060 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 15:34:12.065 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 15:34:12.068 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 2ms reading results.
2025-10-20 15:34:12.070 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:34:12.073 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (2ms).
2025-10-20 15:34:12.076 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 15:34:12.078 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:34:12.081 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-10-20 15:34:42.096 +03:00 [INF] Worker running at: "2025-10-20T15:34:42.0961230+03:00"
2025-10-20 15:34:42.102 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 15:34:42.108 +03:00 [DBG] Creating DbConnection.
2025-10-20 15:34:42.111 +03:00 [DBG] Created DbConnection. (3ms).
2025-10-20 15:34:42.114 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:34:42.116 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:34:42.118 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:34:42.121 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-10-20 15:34:42.126 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-10-20 15:34:42.128 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 15:34:42.145 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 15:34:42.151 +03:00 [DBG] Context 'BillingServiceDBContext' started tracking 'OutboxEvent' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 15:34:42.155 +03:00 [DBG] Context 'BillingServiceDBContext' started tracking 'OutboxEvent' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 15:34:42.157 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 15:34:42.159 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 8ms reading results.
2025-10-20 15:34:42.161 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:34:42.164 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (1ms).
2025-10-20 15:34:42.172 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:34:42.175 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:34:42.177 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:34:42.179 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-10-20 15:34:47.652 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5474ms).
2025-10-20 15:34:47.666 +03:00 [DBG] Executing DbCommand [Parameters=[@__entity_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [o].[Id], [o].[Aggregate_id], [o].[CreatedDate], [o].[ErrorMsg], [o].[Event_type], [o].[Payload], [o].[Processed], [o].[ProcessingStatus]
FROM [Outbox_events] AS [o]
WHERE [o].[Id] = @__entity_Id_0
2025-10-20 15:34:47.675 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__entity_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [o].[Id], [o].[Aggregate_id], [o].[CreatedDate], [o].[ErrorMsg], [o].[Event_type], [o].[Payload], [o].[Processed], [o].[ProcessingStatus]
FROM [Outbox_events] AS [o]
WHERE [o].[Id] = @__entity_Id_0
2025-10-20 15:34:47.680 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 15:34:47.685 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 4ms reading results.
2025-10-20 15:34:47.689 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:34:47.692 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (2ms).
2025-10-20 15:34:47.695 +03:00 [DBG] The unchanged property 'OutboxEvent.Processed' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-10-20 15:34:47.698 +03:00 [DBG] An entity of type 'OutboxEvent' tracked by 'BillingServiceDBContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 15:34:47.701 +03:00 [DBG] SaveChanges starting for 'BillingServiceDBContext'.
2025-10-20 15:34:51.081 +03:00 [DBG] DetectChanges starting for 'BillingServiceDBContext'.
2025-10-20 15:34:51.084 +03:00 [DBG] DetectChanges completed for 'BillingServiceDBContext'.
2025-10-20 15:34:51.086 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:34:51.088 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:34:51.090 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:34:51.092 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 15:34:51.095 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-10-20 15:34:51.098 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int64), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Outbox_events] SET [Processed] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-10-20 15:34:51.113 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@p1='?' (DbType = Int64), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Outbox_events] SET [Processed] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-10-20 15:34:51.116 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 15:34:51.118 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 2ms reading results.
2025-10-20 15:34:51.121 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:34:51.124 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (2ms).
2025-10-20 15:34:51.126 +03:00 [DBG] An entity of type 'OutboxEvent' tracked by 'BillingServiceDBContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 15:34:51.129 +03:00 [DBG] SaveChanges completed for 'BillingServiceDBContext' with 1 entities written to the database.
2025-10-20 15:34:51.136 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:34:51.138 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:34:51.141 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:34:51.142 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 15:34:51.146 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-10-20 15:34:51.148 +03:00 [DBG] Executing DbCommand [Parameters=[@__entity_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [o].[Id], [o].[Aggregate_id], [o].[CreatedDate], [o].[ErrorMsg], [o].[Event_type], [o].[Payload], [o].[Processed], [o].[ProcessingStatus]
FROM [Outbox_events] AS [o]
WHERE [o].[Id] = @__entity_Id_0
2025-10-20 15:34:51.153 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__entity_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [o].[Id], [o].[Aggregate_id], [o].[CreatedDate], [o].[ErrorMsg], [o].[Event_type], [o].[Payload], [o].[Processed], [o].[ProcessingStatus]
FROM [Outbox_events] AS [o]
WHERE [o].[Id] = @__entity_Id_0
2025-10-20 15:34:51.156 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 15:34:51.159 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 2ms reading results.
2025-10-20 15:34:51.163 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:34:51.165 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (2ms).
2025-10-20 15:34:51.169 +03:00 [DBG] The unchanged property 'OutboxEvent.Processed' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-10-20 15:34:51.173 +03:00 [DBG] An entity of type 'OutboxEvent' tracked by 'BillingServiceDBContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 15:34:51.177 +03:00 [DBG] SaveChanges starting for 'BillingServiceDBContext'.
2025-10-20 15:34:51.179 +03:00 [DBG] DetectChanges starting for 'BillingServiceDBContext'.
2025-10-20 15:34:51.182 +03:00 [DBG] DetectChanges completed for 'BillingServiceDBContext'.
2025-10-20 15:34:51.185 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:34:51.188 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:34:51.189 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:34:51.191 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 15:34:51.193 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-10-20 15:34:51.196 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int64), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Outbox_events] SET [Processed] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-10-20 15:34:51.209 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@p1='?' (DbType = Int64), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Outbox_events] SET [Processed] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-10-20 15:34:51.218 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 15:34:51.221 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 3ms reading results.
2025-10-20 15:34:51.222 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:34:51.227 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (3ms).
2025-10-20 15:34:51.231 +03:00 [DBG] An entity of type 'OutboxEvent' tracked by 'BillingServiceDBContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 15:34:51.234 +03:00 [DBG] SaveChanges completed for 'BillingServiceDBContext' with 1 entities written to the database.
2025-10-20 15:34:51.236 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 15:34:51.238 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:34:51.242 +03:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-10-20 15:35:21.248 +03:00 [INF] Worker running at: "2025-10-20T15:35:21.2485580+03:00"
2025-10-20 15:35:21.255 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 15:35:21.261 +03:00 [DBG] Creating DbConnection.
2025-10-20 15:35:21.264 +03:00 [DBG] Created DbConnection. (3ms).
2025-10-20 15:35:21.268 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:35:21.271 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:35:21.274 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:35:21.277 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-10-20 15:35:21.282 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-10-20 15:35:21.284 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 15:35:21.308 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 15:35:21.318 +03:00 [DBG] Context 'BillingServiceDBContext' started tracking 'OutboxEvent' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 15:35:21.321 +03:00 [DBG] Context 'BillingServiceDBContext' started tracking 'OutboxEvent' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 15:35:21.323 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 15:35:21.328 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 10ms reading results.
2025-10-20 15:35:21.331 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:35:21.334 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (2ms).
2025-10-20 15:35:21.344 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:35:21.346 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:35:21.348 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:35:24.911 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3563ms).
2025-10-20 15:35:24.919 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3570ms).
2025-10-20 15:35:24.921 +03:00 [DBG] Executing DbCommand [Parameters=[@__entity_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [o].[Id], [o].[Aggregate_id], [o].[CreatedDate], [o].[ErrorMsg], [o].[Event_type], [o].[Payload], [o].[Processed], [o].[ProcessingStatus]
FROM [Outbox_events] AS [o]
WHERE [o].[Id] = @__entity_Id_0
2025-10-20 15:35:24.930 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__entity_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [o].[Id], [o].[Aggregate_id], [o].[CreatedDate], [o].[ErrorMsg], [o].[Event_type], [o].[Payload], [o].[Processed], [o].[ProcessingStatus]
FROM [Outbox_events] AS [o]
WHERE [o].[Id] = @__entity_Id_0
2025-10-20 15:35:24.936 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 15:35:24.939 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 2ms reading results.
2025-10-20 15:35:24.941 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:35:27.757 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (2815ms).
2025-10-20 15:35:27.760 +03:00 [DBG] The unchanged property 'OutboxEvent.Processed' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-10-20 15:35:27.762 +03:00 [DBG] An entity of type 'OutboxEvent' tracked by 'BillingServiceDBContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 15:35:27.767 +03:00 [DBG] SaveChanges starting for 'BillingServiceDBContext'.
2025-10-20 15:35:27.768 +03:00 [DBG] DetectChanges starting for 'BillingServiceDBContext'.
2025-10-20 15:35:27.771 +03:00 [DBG] DetectChanges completed for 'BillingServiceDBContext'.
2025-10-20 15:35:27.773 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:35:27.776 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:35:27.779 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:35:27.781 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-10-20 15:36:14.401 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (46621ms).
2025-10-20 15:36:14.433 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int64), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Outbox_events] SET [Processed] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-10-20 15:53:05.444 +03:00 [DBG] Hosting starting
2025-10-20 15:53:05.933 +03:00 [DBG] Starting bus instances: IBus
2025-10-20 15:53:05.939 +03:00 [DBG] Starting bus: "rabbitmq://localhost/"
2025-10-20 15:53:05.961 +03:00 [INF] Worker running at: "2025-10-20T15:53:05.9605674+03:00"
2025-10-20 15:53:05.990 +03:00 [DBG] Connect: guest@localhost:5672/
2025-10-20 15:53:06.040 +03:00 [DBG] Connected: guest@localhost:5672/ (address: amqp://localhost:5672, local: 64405)
2025-10-20 15:53:06.118 +03:00 [DBG] Endpoint Ready: "rabbitmq://localhost/ECHGHANNAMLP1_BillingSystemO_bus_mnjoyyyh3bcsbkunbdxy9ihhgh?temporary=true"
2025-10-20 15:53:06.121 +03:00 [INF] Bus started: "rabbitmq://localhost/"
2025-10-20 15:53:06.187 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-10-20 15:53:14.880 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 15:53:14.959 +03:00 [DBG] Compiling query expression: 
'DbSet<OutboxEvent>().FromSql(EXECUTE dbo.GetNextPendingRowsForProcessing {0}, __p_0)
'
2025-10-20 15:53:15.260 +03:00 [DBG] Generated query execution expression: 
'queryContext => FromSqlQueryingEnumerable.Create<OutboxEvent>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: OutboxEvent.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: OutboxEvent.AggregateId (long) Required, 1], [Property: OutboxEvent.CreatedDate (DateTime) Required, 2], [Property: OutboxEvent.ErrorMsg (string), 3], [Property: OutboxEvent.EventType (string) Required MaxLength(300), 4], [Property: OutboxEvent.Payload (string), 5], [Property: OutboxEvent.Processed (bool) Required, 6], [Property: OutboxEvent.ProcessingStatus (string), 7] }
        SELECT b.Id, b.Aggregate_id, b.CreatedDate, b.ErrorMsg, b.Event_type, b.Payload, b.Processed, b.ProcessingStatus
        FROM EXECUTE dbo.GetNextPendingRowsForProcessing {0}) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: OutboxEvent.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: OutboxEvent.AggregateId (long) Required, 1], [Property: OutboxEvent.CreatedDate (DateTime) Required, 2], [Property: OutboxEvent.ErrorMsg (string), 3], [Property: OutboxEvent.EventType (string) Required MaxLength(300), 4], [Property: OutboxEvent.Payload (string), 5], [Property: OutboxEvent.Processed (bool) Required, 6], [Property: OutboxEvent.ProcessingStatus (string), 7] }
        SELECT b.Id, b.Aggregate_id, b.CreatedDate, b.ErrorMsg, b.Event_type, b.Payload, b.Processed, b.ProcessingStatus
        FROM EXECUTE dbo.GetNextPendingRowsForProcessing {0}, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    columnNames: [LIFTABLE Constant: string[] { "Id", "Aggregate_id", "CreatedDate", "ErrorMsg", "Event_type", "Payload", "Processed", "ProcessingStatus" } | Resolver: _ => new string[]
    { 
        "Id", 
        "Aggregate_id", 
        "CreatedDate", 
        "ErrorMsg", 
        "Event_type", 
        "Payload", 
        "Processed", 
        "ProcessingStatus" 
    }], 
    shaper: (queryContext, dataReader, indexMap) => 
    {
        OutboxEvent entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            OutboxEvent instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(OutboxEvent);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: OutboxEvent.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("BillingSystem.Domain.Entities.OutboxEvent").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt64(indexMap[0]) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (OutboxEvent)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: OutboxEvent | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("BillingSystem.Domain.Entities.OutboxEvent")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: OutboxEvent | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("BillingSystem.Domain.Entities.OutboxEvent")]: 
                        {
                            return 
                            {
                                OutboxEvent instance;
                                instance = new OutboxEvent();
                                instance.<Id>k__BackingField = dataReader.GetInt64(indexMap[0]);
                                instance.<AggregateId>k__BackingField = dataReader.GetInt64(indexMap[1]);
                                instance.<CreatedDate>k__BackingField = dataReader.GetDateTime(indexMap[2]);
                                instance.<ErrorMsg>k__BackingField = dataReader.IsDBNull(indexMap[3]) ? default(string) : dataReader.GetString(indexMap[3]);
                                instance.<EventType>k__BackingField = dataReader.GetString(indexMap[4]);
                                instance.<Payload>k__BackingField = dataReader.IsDBNull(indexMap[5]) ? default(string) : dataReader.GetString(indexMap[5]);
                                instance.<Processed>k__BackingField = dataReader.GetBoolean(indexMap[6]);
                                instance.<ProcessingStatus>k__BackingField = dataReader.IsDBNull(indexMap[7]) ? default(string) : dataReader.GetString(indexMap[7]);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: OutboxEvent | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("BillingSystem.Domain.Entities.OutboxEvent")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(OutboxEvent)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: BillingSystem.Infrastructure.EF.BillingServiceDBContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-10-20 15:53:15.302 +03:00 [DBG] Creating DbConnection.
2025-10-20 15:53:15.323 +03:00 [DBG] Created DbConnection. (19ms).
2025-10-20 15:53:15.330 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:53:15.503 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-20 15:53:15.505 +03:00 [INF] Hosting environment: Development
2025-10-20 15:53:15.516 +03:00 [INF] Content root path: C:\Repositories\Gac-BillingSystem\src\BillingSystem.OutboxProcessor
2025-10-20 15:53:15.518 +03:00 [DBG] Hosting started
2025-10-20 15:53:15.633 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:53:15.641 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:53:15.650 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-10-20 15:53:15.663 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (22ms).
2025-10-20 15:53:15.675 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 15:53:15.789 +03:00 [INF] Executed DbCommand (113ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 15:53:15.839 +03:00 [DBG] Context 'BillingServiceDBContext' started tracking 'OutboxEvent' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 15:53:15.880 +03:00 [DBG] Context 'BillingServiceDBContext' started tracking 'OutboxEvent' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 15:53:15.889 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 15:53:15.904 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 101ms reading results.
2025-10-20 15:53:15.911 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:53:15.924 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (12ms).
2025-10-20 15:53:15.981 +03:00 [DBG] Compiling query expression: 
'DbSet<OutboxEvent>()
    .SingleOrDefault(p => p.Id == __entity_Id_0)'
2025-10-20 15:53:16.069 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<OutboxEvent>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: OutboxEvent.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: OutboxEvent.AggregateId (long) Required, 1], [Property: OutboxEvent.CreatedDate (DateTime) Required, 2], [Property: OutboxEvent.ErrorMsg (string), 3], [Property: OutboxEvent.EventType (string) Required MaxLength(300), 4], [Property: OutboxEvent.Payload (string), 5], [Property: OutboxEvent.Processed (bool) Required, 6], [Property: OutboxEvent.ProcessingStatus (string), 7] }
        SELECT TOP(2) o.Id, o.Aggregate_id, o.CreatedDate, o.ErrorMsg, o.Event_type, o.Payload, o.Processed, o.ProcessingStatus
        FROM Outbox_events AS o
        WHERE o.Id == @__entity_Id_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: OutboxEvent.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: OutboxEvent.AggregateId (long) Required, 1], [Property: OutboxEvent.CreatedDate (DateTime) Required, 2], [Property: OutboxEvent.ErrorMsg (string), 3], [Property: OutboxEvent.EventType (string) Required MaxLength(300), 4], [Property: OutboxEvent.Payload (string), 5], [Property: OutboxEvent.Processed (bool) Required, 6], [Property: OutboxEvent.ProcessingStatus (string), 7] }
        SELECT TOP(2) o.Id, o.Aggregate_id, o.CreatedDate, o.ErrorMsg, o.Event_type, o.Payload, o.Processed, o.ProcessingStatus
        FROM Outbox_events AS o
        WHERE o.Id == @__entity_Id_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        OutboxEvent entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            OutboxEvent instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(OutboxEvent);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: OutboxEvent.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("BillingSystem.Domain.Entities.OutboxEvent").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt64(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (OutboxEvent)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: OutboxEvent | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("BillingSystem.Domain.Entities.OutboxEvent")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: OutboxEvent | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("BillingSystem.Domain.Entities.OutboxEvent")]: 
                        {
                            return 
                            {
                                OutboxEvent instance;
                                instance = new OutboxEvent();
                                instance.<Id>k__BackingField = dataReader.GetInt64(0);
                                instance.<AggregateId>k__BackingField = dataReader.GetInt64(1);
                                instance.<CreatedDate>k__BackingField = dataReader.GetDateTime(2);
                                instance.<ErrorMsg>k__BackingField = dataReader.IsDBNull(3) ? default(string) : dataReader.GetString(3);
                                instance.<EventType>k__BackingField = dataReader.GetString(4);
                                instance.<Payload>k__BackingField = dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5);
                                instance.<Processed>k__BackingField = dataReader.GetBoolean(6);
                                instance.<ProcessingStatus>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: OutboxEvent | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("BillingSystem.Domain.Entities.OutboxEvent")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(OutboxEvent)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: BillingSystem.Infrastructure.EF.BillingServiceDBContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)
    .SingleOrDefault()'
2025-10-20 15:53:16.090 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:53:16.095 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:53:16.099 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:53:16.102 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-10-20 15:53:16.104 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-10-20 15:53:16.107 +03:00 [DBG] Executing DbCommand [Parameters=[@__entity_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [o].[Id], [o].[Aggregate_id], [o].[CreatedDate], [o].[ErrorMsg], [o].[Event_type], [o].[Payload], [o].[Processed], [o].[ProcessingStatus]
FROM [Outbox_events] AS [o]
WHERE [o].[Id] = @__entity_Id_0
2025-10-20 15:53:16.118 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__entity_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [o].[Id], [o].[Aggregate_id], [o].[CreatedDate], [o].[ErrorMsg], [o].[Event_type], [o].[Payload], [o].[Processed], [o].[ProcessingStatus]
FROM [Outbox_events] AS [o]
WHERE [o].[Id] = @__entity_Id_0
2025-10-20 15:53:16.127 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 15:53:16.131 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 7ms reading results.
2025-10-20 15:53:16.134 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:53:16.138 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (4ms).
2025-10-20 15:53:16.163 +03:00 [DBG] The unchanged property 'OutboxEvent.Processed' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-10-20 15:53:16.175 +03:00 [DBG] An entity of type 'OutboxEvent' tracked by 'BillingServiceDBContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 15:53:16.187 +03:00 [DBG] SaveChanges starting for 'BillingServiceDBContext'.
2025-10-20 15:53:16.192 +03:00 [DBG] DetectChanges starting for 'BillingServiceDBContext'.
2025-10-20 15:53:16.199 +03:00 [DBG] DetectChanges completed for 'BillingServiceDBContext'.
2025-10-20 15:53:16.245 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:53:16.253 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:53:16.259 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:53:16.261 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 15:53:16.264 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-10-20 15:53:16.267 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int64), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Outbox_events] SET [Processed] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-10-20 15:53:16.280 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@p1='?' (DbType = Int64), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Outbox_events] SET [Processed] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-10-20 15:53:16.291 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 15:53:16.295 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 10ms reading results.
2025-10-20 15:53:16.300 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:53:16.303 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (2ms).
2025-10-20 15:53:16.310 +03:00 [DBG] An entity of type 'OutboxEvent' tracked by 'BillingServiceDBContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 15:53:16.316 +03:00 [DBG] SaveChanges completed for 'BillingServiceDBContext' with 1 entities written to the database.
2025-10-20 15:53:16.328 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:53:16.331 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:53:16.333 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:53:16.335 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 15:53:16.337 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-10-20 15:53:16.341 +03:00 [DBG] Executing DbCommand [Parameters=[@__entity_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [o].[Id], [o].[Aggregate_id], [o].[CreatedDate], [o].[ErrorMsg], [o].[Event_type], [o].[Payload], [o].[Processed], [o].[ProcessingStatus]
FROM [Outbox_events] AS [o]
WHERE [o].[Id] = @__entity_Id_0
2025-10-20 15:53:16.347 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__entity_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [o].[Id], [o].[Aggregate_id], [o].[CreatedDate], [o].[ErrorMsg], [o].[Event_type], [o].[Payload], [o].[Processed], [o].[ProcessingStatus]
FROM [Outbox_events] AS [o]
WHERE [o].[Id] = @__entity_Id_0
2025-10-20 15:53:16.351 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 15:53:16.354 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 3ms reading results.
2025-10-20 15:53:16.357 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:53:16.360 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (2ms).
2025-10-20 15:53:16.364 +03:00 [DBG] The unchanged property 'OutboxEvent.Processed' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-10-20 15:53:16.367 +03:00 [DBG] An entity of type 'OutboxEvent' tracked by 'BillingServiceDBContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 15:53:16.369 +03:00 [DBG] SaveChanges starting for 'BillingServiceDBContext'.
2025-10-20 15:53:16.371 +03:00 [DBG] DetectChanges starting for 'BillingServiceDBContext'.
2025-10-20 15:53:16.374 +03:00 [DBG] DetectChanges completed for 'BillingServiceDBContext'.
2025-10-20 15:53:16.377 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:53:16.379 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:53:16.381 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:53:16.383 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 15:53:16.385 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-10-20 15:53:16.388 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int64), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Outbox_events] SET [Processed] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-10-20 15:53:16.402 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@p1='?' (DbType = Int64), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Outbox_events] SET [Processed] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-10-20 15:53:16.407 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 15:53:16.408 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 2ms reading results.
2025-10-20 15:53:16.411 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:53:16.413 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (2ms).
2025-10-20 15:53:16.417 +03:00 [DBG] An entity of type 'OutboxEvent' tracked by 'BillingServiceDBContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 15:53:16.420 +03:00 [DBG] SaveChanges completed for 'BillingServiceDBContext' with 1 entities written to the database.
2025-10-20 15:53:16.424 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 15:53:16.428 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:53:16.432 +03:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-10-20 15:53:46.434 +03:00 [INF] Worker running at: "2025-10-20T15:53:46.4348437+03:00"
2025-10-20 15:53:46.460 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 15:53:46.470 +03:00 [DBG] Creating DbConnection.
2025-10-20 15:53:46.472 +03:00 [DBG] Created DbConnection. (1ms).
2025-10-20 15:53:46.473 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:53:46.476 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:53:46.478 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:53:46.480 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-10-20 15:53:46.484 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-10-20 15:53:46.486 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 15:53:46.492 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 15:53:46.497 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 15:53:46.500 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 3ms reading results.
2025-10-20 15:53:46.503 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:53:46.506 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (2ms).
2025-10-20 15:53:46.509 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 15:53:46.512 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:53:46.515 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-10-20 15:54:16.520 +03:00 [INF] Worker running at: "2025-10-20T15:54:16.5207645+03:00"
2025-10-20 15:54:16.601 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 15:54:16.607 +03:00 [DBG] Creating DbConnection.
2025-10-20 15:54:16.609 +03:00 [DBG] Created DbConnection. (2ms).
2025-10-20 15:54:16.611 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:54:16.613 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:54:16.615 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:54:16.616 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 15:54:16.618 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-10-20 15:54:16.620 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 15:54:16.626 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 15:54:16.630 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 15:54:16.632 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 2ms reading results.
2025-10-20 15:54:16.635 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:54:16.637 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (2ms).
2025-10-20 15:54:16.640 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 15:54:16.641 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:54:16.644 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-10-20 15:54:44.364 +03:00 [DBG] Hosting starting
2025-10-20 15:54:44.777 +03:00 [DBG] Starting bus instances: IBus
2025-10-20 15:54:44.784 +03:00 [DBG] Starting bus: "rabbitmq://localhost/"
2025-10-20 15:54:44.806 +03:00 [INF] Worker running at: "2025-10-20T15:54:44.8055684+03:00"
2025-10-20 15:54:44.829 +03:00 [DBG] Connect: guest@localhost:5672/
2025-10-20 15:54:44.852 +03:00 [DBG] Connected: guest@localhost:5672/ (address: amqp://localhost:5672, local: 54055)
2025-10-20 15:54:44.932 +03:00 [DBG] Endpoint Ready: "rabbitmq://localhost/ECHGHANNAMLP1_BillingSystemO_bus_11ooyyyh3bcsbqy1bdxy9i6zge?temporary=true"
2025-10-20 15:54:44.936 +03:00 [INF] Bus started: "rabbitmq://localhost/"
2025-10-20 15:54:45.005 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-10-20 15:54:50.506 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 15:54:50.547 +03:00 [DBG] Compiling query expression: 
'DbSet<OutboxEvent>().FromSql(EXECUTE dbo.GetNextPendingRowsForProcessing {0}, __p_0)
'
2025-10-20 15:54:50.720 +03:00 [DBG] Generated query execution expression: 
'queryContext => FromSqlQueryingEnumerable.Create<OutboxEvent>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: OutboxEvent.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: OutboxEvent.AggregateId (long) Required, 1], [Property: OutboxEvent.CreatedDate (DateTime) Required, 2], [Property: OutboxEvent.ErrorMsg (string), 3], [Property: OutboxEvent.EventType (string) Required MaxLength(300), 4], [Property: OutboxEvent.Payload (string), 5], [Property: OutboxEvent.Processed (bool) Required, 6], [Property: OutboxEvent.ProcessingStatus (string), 7] }
        SELECT b.Id, b.Aggregate_id, b.CreatedDate, b.ErrorMsg, b.Event_type, b.Payload, b.Processed, b.ProcessingStatus
        FROM EXECUTE dbo.GetNextPendingRowsForProcessing {0}) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: OutboxEvent.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: OutboxEvent.AggregateId (long) Required, 1], [Property: OutboxEvent.CreatedDate (DateTime) Required, 2], [Property: OutboxEvent.ErrorMsg (string), 3], [Property: OutboxEvent.EventType (string) Required MaxLength(300), 4], [Property: OutboxEvent.Payload (string), 5], [Property: OutboxEvent.Processed (bool) Required, 6], [Property: OutboxEvent.ProcessingStatus (string), 7] }
        SELECT b.Id, b.Aggregate_id, b.CreatedDate, b.ErrorMsg, b.Event_type, b.Payload, b.Processed, b.ProcessingStatus
        FROM EXECUTE dbo.GetNextPendingRowsForProcessing {0}, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    columnNames: [LIFTABLE Constant: string[] { "Id", "Aggregate_id", "CreatedDate", "ErrorMsg", "Event_type", "Payload", "Processed", "ProcessingStatus" } | Resolver: _ => new string[]
    { 
        "Id", 
        "Aggregate_id", 
        "CreatedDate", 
        "ErrorMsg", 
        "Event_type", 
        "Payload", 
        "Processed", 
        "ProcessingStatus" 
    }], 
    shaper: (queryContext, dataReader, indexMap) => 
    {
        OutboxEvent entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            OutboxEvent instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(OutboxEvent);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: OutboxEvent.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("BillingSystem.Domain.Entities.OutboxEvent").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt64(indexMap[0]) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (OutboxEvent)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: OutboxEvent | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("BillingSystem.Domain.Entities.OutboxEvent")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: OutboxEvent | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("BillingSystem.Domain.Entities.OutboxEvent")]: 
                        {
                            return 
                            {
                                OutboxEvent instance;
                                instance = new OutboxEvent();
                                instance.<Id>k__BackingField = dataReader.GetInt64(indexMap[0]);
                                instance.<AggregateId>k__BackingField = dataReader.GetInt64(indexMap[1]);
                                instance.<CreatedDate>k__BackingField = dataReader.GetDateTime(indexMap[2]);
                                instance.<ErrorMsg>k__BackingField = dataReader.IsDBNull(indexMap[3]) ? default(string) : dataReader.GetString(indexMap[3]);
                                instance.<EventType>k__BackingField = dataReader.GetString(indexMap[4]);
                                instance.<Payload>k__BackingField = dataReader.IsDBNull(indexMap[5]) ? default(string) : dataReader.GetString(indexMap[5]);
                                instance.<Processed>k__BackingField = dataReader.GetBoolean(indexMap[6]);
                                instance.<ProcessingStatus>k__BackingField = dataReader.IsDBNull(indexMap[7]) ? default(string) : dataReader.GetString(indexMap[7]);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: OutboxEvent | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("BillingSystem.Domain.Entities.OutboxEvent")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(OutboxEvent)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: BillingSystem.Infrastructure.EF.BillingServiceDBContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-10-20 15:54:50.779 +03:00 [DBG] Creating DbConnection.
2025-10-20 15:54:50.798 +03:00 [DBG] Created DbConnection. (16ms).
2025-10-20 15:54:50.804 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:54:50.951 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-20 15:54:50.953 +03:00 [INF] Hosting environment: Development
2025-10-20 15:54:50.966 +03:00 [INF] Content root path: C:\Repositories\Gac-BillingSystem\src\BillingSystem.OutboxProcessor
2025-10-20 15:54:50.969 +03:00 [DBG] Hosting started
2025-10-20 15:54:51.065 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:54:51.071 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:54:51.078 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-10-20 15:54:51.086 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (15ms).
2025-10-20 15:54:51.094 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 15:54:51.163 +03:00 [INF] Executed DbCommand (70ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 15:54:51.203 +03:00 [DBG] Context 'BillingServiceDBContext' started tracking 'OutboxEvent' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 15:54:51.226 +03:00 [DBG] Context 'BillingServiceDBContext' started tracking 'OutboxEvent' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 15:54:51.231 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 15:54:51.239 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 68ms reading results.
2025-10-20 15:54:51.244 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:54:51.256 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (11ms).
2025-10-20 15:55:28.178 +03:00 [DBG] Compiling query expression: 
'DbSet<OutboxEvent>()
    .SingleOrDefault(p => p.Id == __entity_Id_0)'
2025-10-20 15:55:28.274 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<OutboxEvent>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: OutboxEvent.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: OutboxEvent.AggregateId (long) Required, 1], [Property: OutboxEvent.CreatedDate (DateTime) Required, 2], [Property: OutboxEvent.ErrorMsg (string), 3], [Property: OutboxEvent.EventType (string) Required MaxLength(300), 4], [Property: OutboxEvent.Payload (string), 5], [Property: OutboxEvent.Processed (bool) Required, 6], [Property: OutboxEvent.ProcessingStatus (string), 7] }
        SELECT TOP(2) o.Id, o.Aggregate_id, o.CreatedDate, o.ErrorMsg, o.Event_type, o.Payload, o.Processed, o.ProcessingStatus
        FROM Outbox_events AS o
        WHERE o.Id == @__entity_Id_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: OutboxEvent.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: OutboxEvent.AggregateId (long) Required, 1], [Property: OutboxEvent.CreatedDate (DateTime) Required, 2], [Property: OutboxEvent.ErrorMsg (string), 3], [Property: OutboxEvent.EventType (string) Required MaxLength(300), 4], [Property: OutboxEvent.Payload (string), 5], [Property: OutboxEvent.Processed (bool) Required, 6], [Property: OutboxEvent.ProcessingStatus (string), 7] }
        SELECT TOP(2) o.Id, o.Aggregate_id, o.CreatedDate, o.ErrorMsg, o.Event_type, o.Payload, o.Processed, o.ProcessingStatus
        FROM Outbox_events AS o
        WHERE o.Id == @__entity_Id_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        OutboxEvent entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            OutboxEvent instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(OutboxEvent);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: OutboxEvent.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("BillingSystem.Domain.Entities.OutboxEvent").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt64(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (OutboxEvent)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: OutboxEvent | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("BillingSystem.Domain.Entities.OutboxEvent")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: OutboxEvent | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("BillingSystem.Domain.Entities.OutboxEvent")]: 
                        {
                            return 
                            {
                                OutboxEvent instance;
                                instance = new OutboxEvent();
                                instance.<Id>k__BackingField = dataReader.GetInt64(0);
                                instance.<AggregateId>k__BackingField = dataReader.GetInt64(1);
                                instance.<CreatedDate>k__BackingField = dataReader.GetDateTime(2);
                                instance.<ErrorMsg>k__BackingField = dataReader.IsDBNull(3) ? default(string) : dataReader.GetString(3);
                                instance.<EventType>k__BackingField = dataReader.GetString(4);
                                instance.<Payload>k__BackingField = dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5);
                                instance.<Processed>k__BackingField = dataReader.GetBoolean(6);
                                instance.<ProcessingStatus>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: OutboxEvent | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("BillingSystem.Domain.Entities.OutboxEvent")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(OutboxEvent)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: BillingSystem.Infrastructure.EF.BillingServiceDBContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)
    .SingleOrDefault()'
2025-10-20 15:55:28.298 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:55:28.305 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:55:28.309 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:55:28.313 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-10-20 15:55:28.317 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-10-20 15:55:28.321 +03:00 [DBG] Executing DbCommand [Parameters=[@__entity_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [o].[Id], [o].[Aggregate_id], [o].[CreatedDate], [o].[ErrorMsg], [o].[Event_type], [o].[Payload], [o].[Processed], [o].[ProcessingStatus]
FROM [Outbox_events] AS [o]
WHERE [o].[Id] = @__entity_Id_0
2025-10-20 15:55:28.334 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__entity_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [o].[Id], [o].[Aggregate_id], [o].[CreatedDate], [o].[ErrorMsg], [o].[Event_type], [o].[Payload], [o].[Processed], [o].[ProcessingStatus]
FROM [Outbox_events] AS [o]
WHERE [o].[Id] = @__entity_Id_0
2025-10-20 15:55:28.342 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 15:55:28.346 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 7ms reading results.
2025-10-20 15:55:28.349 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:55:28.352 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (2ms).
2025-10-20 15:55:28.373 +03:00 [DBG] The unchanged property 'OutboxEvent.Processed' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-10-20 15:55:28.385 +03:00 [DBG] An entity of type 'OutboxEvent' tracked by 'BillingServiceDBContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 15:55:28.397 +03:00 [DBG] SaveChanges starting for 'BillingServiceDBContext'.
2025-10-20 15:55:28.401 +03:00 [DBG] DetectChanges starting for 'BillingServiceDBContext'.
2025-10-20 15:55:28.408 +03:00 [DBG] DetectChanges completed for 'BillingServiceDBContext'.
2025-10-20 15:55:28.470 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:55:28.473 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:55:28.477 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:55:28.480 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-10-20 15:55:28.483 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-10-20 15:55:28.486 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int64), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Outbox_events] SET [Processed] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-10-20 15:55:28.516 +03:00 [INF] Executed DbCommand (31ms) [Parameters=[@p1='?' (DbType = Int64), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Outbox_events] SET [Processed] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-10-20 15:55:28.525 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 15:55:28.528 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 8ms reading results.
2025-10-20 15:55:28.533 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:55:28.535 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (1ms).
2025-10-20 15:55:28.542 +03:00 [DBG] An entity of type 'OutboxEvent' tracked by 'BillingServiceDBContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 15:55:28.548 +03:00 [DBG] SaveChanges completed for 'BillingServiceDBContext' with 1 entities written to the database.
2025-10-20 15:55:42.064 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:55:42.069 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:55:42.074 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:55:42.077 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-10-20 15:55:42.081 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-10-20 15:55:42.085 +03:00 [DBG] Executing DbCommand [Parameters=[@__entity_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [o].[Id], [o].[Aggregate_id], [o].[CreatedDate], [o].[ErrorMsg], [o].[Event_type], [o].[Payload], [o].[Processed], [o].[ProcessingStatus]
FROM [Outbox_events] AS [o]
WHERE [o].[Id] = @__entity_Id_0
2025-10-20 15:55:42.092 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__entity_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [o].[Id], [o].[Aggregate_id], [o].[CreatedDate], [o].[ErrorMsg], [o].[Event_type], [o].[Payload], [o].[Processed], [o].[ProcessingStatus]
FROM [Outbox_events] AS [o]
WHERE [o].[Id] = @__entity_Id_0
2025-10-20 15:55:42.099 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 15:55:42.101 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 3ms reading results.
2025-10-20 15:55:42.105 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:55:42.110 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (4ms).
2025-10-20 15:55:42.115 +03:00 [DBG] The unchanged property 'OutboxEvent.Processed' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-10-20 15:55:42.118 +03:00 [DBG] An entity of type 'OutboxEvent' tracked by 'BillingServiceDBContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 15:55:42.122 +03:00 [DBG] SaveChanges starting for 'BillingServiceDBContext'.
2025-10-20 15:55:42.124 +03:00 [DBG] DetectChanges starting for 'BillingServiceDBContext'.
2025-10-20 15:55:42.127 +03:00 [DBG] DetectChanges completed for 'BillingServiceDBContext'.
2025-10-20 15:55:42.130 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:55:42.133 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:55:42.136 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:55:42.139 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-10-20 15:55:42.141 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-10-20 15:55:42.144 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int64), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Outbox_events] SET [Processed] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-10-20 15:55:42.165 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@p1='?' (DbType = Int64), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Outbox_events] SET [Processed] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-10-20 15:55:42.172 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 15:55:42.175 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 3ms reading results.
2025-10-20 15:55:42.180 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:55:42.183 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (2ms).
2025-10-20 15:55:42.186 +03:00 [DBG] An entity of type 'OutboxEvent' tracked by 'BillingServiceDBContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 15:55:42.190 +03:00 [DBG] SaveChanges completed for 'BillingServiceDBContext' with 1 entities written to the database.
2025-10-20 15:55:44.736 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 15:55:44.740 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:55:44.743 +03:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-10-20 15:56:16.156 +03:00 [INF] Worker running at: "2025-10-20T15:56:16.1562210+03:00"
2025-10-20 15:56:16.179 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 15:56:16.185 +03:00 [DBG] Creating DbConnection.
2025-10-20 15:56:16.188 +03:00 [DBG] Created DbConnection. (2ms).
2025-10-20 15:56:16.191 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:56:16.194 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:56:16.196 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:56:16.198 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 15:56:16.200 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-10-20 15:56:16.202 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 15:56:16.209 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 15:56:16.214 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 15:56:16.216 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 2ms reading results.
2025-10-20 15:56:16.219 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:56:16.221 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (2ms).
2025-10-20 15:56:16.224 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 15:56:16.227 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:56:16.229 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-10-20 15:56:46.244 +03:00 [INF] Worker running at: "2025-10-20T15:56:46.2442662+03:00"
2025-10-20 15:56:46.353 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 15:56:46.361 +03:00 [DBG] Creating DbConnection.
2025-10-20 15:56:46.365 +03:00 [DBG] Created DbConnection. (4ms).
2025-10-20 15:56:46.369 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:56:46.375 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:56:46.377 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:56:46.380 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-10-20 15:56:46.383 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-10-20 15:56:46.387 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 15:56:46.396 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 15:56:46.401 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 15:56:46.405 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 3ms reading results.
2025-10-20 15:56:46.409 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:56:46.413 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (4ms).
2025-10-20 15:56:46.417 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 15:56:46.419 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:56:46.422 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-10-20 15:57:16.439 +03:00 [INF] Worker running at: "2025-10-20T15:57:16.4391074+03:00"
2025-10-20 15:57:16.446 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 15:57:16.454 +03:00 [DBG] Creating DbConnection.
2025-10-20 15:57:16.457 +03:00 [DBG] Created DbConnection. (3ms).
2025-10-20 15:57:16.460 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:57:16.464 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:57:16.468 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:57:16.472 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-10-20 15:57:16.474 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-10-20 15:57:16.476 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 15:57:16.482 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 15:57:16.487 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 15:57:16.489 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 3ms reading results.
2025-10-20 15:57:16.491 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:57:16.493 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (1ms).
2025-10-20 15:57:16.496 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 15:57:16.497 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:57:16.498 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-20 15:57:46.507 +03:00 [INF] Worker running at: "2025-10-20T15:57:46.5075485+03:00"
2025-10-20 15:57:46.514 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 15:57:46.518 +03:00 [DBG] Creating DbConnection.
2025-10-20 15:57:46.519 +03:00 [DBG] Created DbConnection. (1ms).
2025-10-20 15:57:46.521 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:57:46.524 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:57:46.526 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:57:46.527 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 15:57:46.530 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-10-20 15:57:46.531 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 15:57:46.544 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 15:57:46.548 +03:00 [DBG] Context 'BillingServiceDBContext' started tracking 'OutboxEvent' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 15:57:46.551 +03:00 [DBG] Context 'BillingServiceDBContext' started tracking 'OutboxEvent' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 15:57:46.553 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 15:57:46.555 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 6ms reading results.
2025-10-20 15:57:46.557 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:57:46.559 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (1ms).
2025-10-20 15:58:04.456 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:58:04.461 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:58:04.465 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:58:04.468 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-10-20 15:58:04.471 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-10-20 15:58:04.473 +03:00 [DBG] Executing DbCommand [Parameters=[@__entity_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [o].[Id], [o].[Aggregate_id], [o].[CreatedDate], [o].[ErrorMsg], [o].[Event_type], [o].[Payload], [o].[Processed], [o].[ProcessingStatus]
FROM [Outbox_events] AS [o]
WHERE [o].[Id] = @__entity_Id_0
2025-10-20 15:58:04.478 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__entity_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [o].[Id], [o].[Aggregate_id], [o].[CreatedDate], [o].[ErrorMsg], [o].[Event_type], [o].[Payload], [o].[Processed], [o].[ProcessingStatus]
FROM [Outbox_events] AS [o]
WHERE [o].[Id] = @__entity_Id_0
2025-10-20 15:58:04.481 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 15:58:04.485 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 3ms reading results.
2025-10-20 15:58:04.489 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:58:04.492 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (3ms).
2025-10-20 15:58:04.499 +03:00 [DBG] The unchanged property 'OutboxEvent.Processed' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-10-20 15:58:04.504 +03:00 [DBG] An entity of type 'OutboxEvent' tracked by 'BillingServiceDBContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 15:58:04.509 +03:00 [DBG] SaveChanges starting for 'BillingServiceDBContext'.
2025-10-20 15:58:04.512 +03:00 [DBG] DetectChanges starting for 'BillingServiceDBContext'.
2025-10-20 15:58:04.516 +03:00 [DBG] DetectChanges completed for 'BillingServiceDBContext'.
2025-10-20 15:58:04.520 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:58:04.522 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:58:04.525 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:58:04.528 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-10-20 15:58:04.531 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-10-20 15:58:04.533 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int64), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Outbox_events] SET [Processed] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-10-20 15:58:04.544 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@p1='?' (DbType = Int64), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Outbox_events] SET [Processed] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-10-20 15:58:04.551 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 15:58:04.553 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 2ms reading results.
2025-10-20 15:58:04.555 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:58:04.558 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (2ms).
2025-10-20 15:58:04.562 +03:00 [DBG] An entity of type 'OutboxEvent' tracked by 'BillingServiceDBContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 15:58:04.565 +03:00 [DBG] SaveChanges completed for 'BillingServiceDBContext' with 1 entities written to the database.
2025-10-20 15:58:05.926 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:58:05.929 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:58:05.932 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:58:05.936 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-10-20 15:58:05.938 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-10-20 15:58:05.939 +03:00 [DBG] Executing DbCommand [Parameters=[@__entity_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [o].[Id], [o].[Aggregate_id], [o].[CreatedDate], [o].[ErrorMsg], [o].[Event_type], [o].[Payload], [o].[Processed], [o].[ProcessingStatus]
FROM [Outbox_events] AS [o]
WHERE [o].[Id] = @__entity_Id_0
2025-10-20 15:58:05.945 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__entity_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [o].[Id], [o].[Aggregate_id], [o].[CreatedDate], [o].[ErrorMsg], [o].[Event_type], [o].[Payload], [o].[Processed], [o].[ProcessingStatus]
FROM [Outbox_events] AS [o]
WHERE [o].[Id] = @__entity_Id_0
2025-10-20 15:58:05.950 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 15:58:05.952 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 1ms reading results.
2025-10-20 15:58:05.954 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:58:05.958 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (4ms).
2025-10-20 15:58:05.963 +03:00 [DBG] The unchanged property 'OutboxEvent.Processed' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-10-20 15:58:05.967 +03:00 [DBG] An entity of type 'OutboxEvent' tracked by 'BillingServiceDBContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 15:58:05.970 +03:00 [DBG] SaveChanges starting for 'BillingServiceDBContext'.
2025-10-20 15:58:05.972 +03:00 [DBG] DetectChanges starting for 'BillingServiceDBContext'.
2025-10-20 15:58:05.973 +03:00 [DBG] DetectChanges completed for 'BillingServiceDBContext'.
2025-10-20 15:58:05.975 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:58:05.978 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:58:05.981 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:58:05.984 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-10-20 15:58:05.986 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-10-20 15:58:05.989 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int64), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Outbox_events] SET [Processed] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-10-20 15:58:06.003 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@p1='?' (DbType = Int64), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Outbox_events] SET [Processed] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-10-20 15:58:06.006 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 15:58:06.008 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 2ms reading results.
2025-10-20 15:58:06.011 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:58:06.013 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (2ms).
2025-10-20 15:58:06.016 +03:00 [DBG] An entity of type 'OutboxEvent' tracked by 'BillingServiceDBContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 15:58:06.018 +03:00 [DBG] SaveChanges completed for 'BillingServiceDBContext' with 1 entities written to the database.
2025-10-20 15:58:06.020 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 15:58:06.021 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:58:06.023 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-20 15:58:36.038 +03:00 [INF] Worker running at: "2025-10-20T15:58:36.0388236+03:00"
2025-10-20 15:58:36.045 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 15:58:36.051 +03:00 [DBG] Creating DbConnection.
2025-10-20 15:58:36.052 +03:00 [DBG] Created DbConnection. (1ms).
2025-10-20 15:58:36.054 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:58:36.056 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:58:36.058 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:58:36.059 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 15:58:36.061 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-10-20 15:58:36.062 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 15:58:36.068 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 15:58:36.071 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 15:58:36.073 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 1ms reading results.
2025-10-20 15:58:36.074 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:58:36.076 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (1ms).
2025-10-20 15:58:36.078 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 15:58:36.079 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:58:36.080 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-20 15:59:06.089 +03:00 [INF] Worker running at: "2025-10-20T15:59:06.0894411+03:00"
2025-10-20 15:59:06.097 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 15:59:06.102 +03:00 [DBG] Creating DbConnection.
2025-10-20 15:59:06.103 +03:00 [DBG] Created DbConnection. (1ms).
2025-10-20 15:59:06.104 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:59:06.106 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:59:06.108 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:59:06.110 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 15:59:06.111 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-10-20 15:59:06.113 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 15:59:06.117 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 15:59:06.120 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 15:59:06.121 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 1ms reading results.
2025-10-20 15:59:06.123 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:59:06.124 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (1ms).
2025-10-20 15:59:06.126 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 15:59:06.127 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:59:06.129 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-20 15:59:36.135 +03:00 [INF] Worker running at: "2025-10-20T15:59:36.1359773+03:00"
2025-10-20 15:59:36.138 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 15:59:36.141 +03:00 [DBG] Creating DbConnection.
2025-10-20 15:59:36.142 +03:00 [DBG] Created DbConnection. (0ms).
2025-10-20 15:59:36.144 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:59:36.145 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:59:36.148 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:59:36.149 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 15:59:36.151 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-10-20 15:59:36.153 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 15:59:36.166 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 15:59:36.170 +03:00 [DBG] Context 'BillingServiceDBContext' started tracking 'OutboxEvent' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 15:59:36.171 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 15:59:36.173 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 3ms reading results.
2025-10-20 15:59:36.175 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:59:36.177 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (1ms).
2025-10-20 15:59:36.184 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:59:36.187 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 15:59:36.188 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:59:36.191 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-10-20 15:59:36.192 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-10-20 15:59:59.492 +03:00 [DBG] Executing DbCommand [Parameters=[@__entity_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [o].[Id], [o].[Aggregate_id], [o].[CreatedDate], [o].[ErrorMsg], [o].[Event_type], [o].[Payload], [o].[Processed], [o].[ProcessingStatus]
FROM [Outbox_events] AS [o]
WHERE [o].[Id] = @__entity_Id_0
2025-10-20 15:59:59.520 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[@__entity_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [o].[Id], [o].[Aggregate_id], [o].[CreatedDate], [o].[ErrorMsg], [o].[Event_type], [o].[Payload], [o].[Processed], [o].[ProcessingStatus]
FROM [Outbox_events] AS [o]
WHERE [o].[Id] = @__entity_Id_0
2025-10-20 16:00:00.241 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 16:00:00.248 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 6ms reading results.
2025-10-20 16:00:01.320 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:00:01.322 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (1ms).
2025-10-20 16:00:01.325 +03:00 [DBG] The unchanged property 'OutboxEvent.Processed' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-10-20 16:00:01.327 +03:00 [DBG] An entity of type 'OutboxEvent' tracked by 'BillingServiceDBContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 16:00:01.329 +03:00 [DBG] SaveChanges starting for 'BillingServiceDBContext'.
2025-10-20 16:00:01.332 +03:00 [DBG] DetectChanges starting for 'BillingServiceDBContext'.
2025-10-20 16:00:01.333 +03:00 [DBG] DetectChanges completed for 'BillingServiceDBContext'.
2025-10-20 16:00:01.335 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:00:02.420 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:00:02.422 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 16:00:02.425 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-10-20 16:00:02.428 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-10-20 16:00:02.431 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int64), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Outbox_events] SET [Processed] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-10-20 16:00:03.019 +03:00 [INF] Executed DbCommand (588ms) [Parameters=[@p1='?' (DbType = Int64), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Outbox_events] SET [Processed] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-10-20 16:00:03.023 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 16:00:03.025 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 1ms reading results.
2025-10-20 16:00:03.026 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:00:03.028 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (1ms).
2025-10-20 16:00:03.030 +03:00 [DBG] An entity of type 'OutboxEvent' tracked by 'BillingServiceDBContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 16:00:03.817 +03:00 [DBG] SaveChanges completed for 'BillingServiceDBContext' with 1 entities written to the database.
2025-10-20 16:00:03.820 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 16:00:03.821 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:00:03.823 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-20 16:00:33.858 +03:00 [INF] Worker running at: "2025-10-20T16:00:33.8581674+03:00"
2025-10-20 16:00:33.863 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 16:00:33.867 +03:00 [DBG] Creating DbConnection.
2025-10-20 16:00:33.869 +03:00 [DBG] Created DbConnection. (2ms).
2025-10-20 16:00:33.871 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:00:33.873 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:00:33.875 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 16:00:33.876 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 16:00:33.877 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-10-20 16:00:33.879 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:00:33.884 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:00:33.886 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 16:00:33.888 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 1ms reading results.
2025-10-20 16:00:33.889 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:00:33.891 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (1ms).
2025-10-20 16:00:33.893 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 16:00:33.894 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:00:33.896 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-20 16:01:03.910 +03:00 [INF] Worker running at: "2025-10-20T16:01:03.9103098+03:00"
2025-10-20 16:01:03.914 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 16:01:03.919 +03:00 [DBG] Creating DbConnection.
2025-10-20 16:01:03.920 +03:00 [DBG] Created DbConnection. (1ms).
2025-10-20 16:01:03.922 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:01:03.924 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:01:03.926 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 16:01:03.930 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-10-20 16:01:03.934 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-10-20 16:01:03.937 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:01:03.942 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:01:03.945 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 16:01:03.949 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 3ms reading results.
2025-10-20 16:01:03.952 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:01:03.953 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (1ms).
2025-10-20 16:01:03.955 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 16:01:03.957 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:01:03.958 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-20 16:01:33.972 +03:00 [INF] Worker running at: "2025-10-20T16:01:33.9720718+03:00"
2025-10-20 16:01:33.979 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 16:01:33.983 +03:00 [DBG] Creating DbConnection.
2025-10-20 16:01:33.986 +03:00 [DBG] Created DbConnection. (2ms).
2025-10-20 16:01:33.989 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:01:33.993 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:01:33.995 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 16:01:33.997 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 16:01:33.999 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-10-20 16:01:34.001 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:01:34.006 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:01:34.010 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 16:01:34.012 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 2ms reading results.
2025-10-20 16:01:34.018 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:01:34.023 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (4ms).
2025-10-20 16:01:34.026 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 16:01:34.027 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:01:34.029 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-20 16:02:04.038 +03:00 [INF] Worker running at: "2025-10-20T16:02:04.0381783+03:00"
2025-10-20 16:02:04.042 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 16:02:04.046 +03:00 [DBG] Creating DbConnection.
2025-10-20 16:02:04.047 +03:00 [DBG] Created DbConnection. (1ms).
2025-10-20 16:02:04.049 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:02:04.051 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:02:04.052 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 16:02:04.053 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 16:02:04.055 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-10-20 16:02:04.057 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:02:04.062 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:02:04.064 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 16:02:04.066 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 2ms reading results.
2025-10-20 16:02:04.068 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:02:04.070 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (1ms).
2025-10-20 16:02:04.072 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 16:02:04.073 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:02:04.075 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-20 16:02:34.079 +03:00 [INF] Worker running at: "2025-10-20T16:02:34.0797631+03:00"
2025-10-20 16:02:34.088 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 16:02:34.093 +03:00 [DBG] Creating DbConnection.
2025-10-20 16:02:34.094 +03:00 [DBG] Created DbConnection. (1ms).
2025-10-20 16:02:34.097 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:02:34.099 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:02:34.101 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 16:02:34.102 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 16:02:34.103 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-10-20 16:02:34.106 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:02:34.110 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:02:34.113 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 16:02:34.115 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 1ms reading results.
2025-10-20 16:02:34.117 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:02:34.118 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (1ms).
2025-10-20 16:02:34.120 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 16:02:34.121 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:02:34.123 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-20 16:03:04.133 +03:00 [INF] Worker running at: "2025-10-20T16:03:04.1332185+03:00"
2025-10-20 16:03:04.139 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 16:03:04.143 +03:00 [DBG] Creating DbConnection.
2025-10-20 16:03:04.145 +03:00 [DBG] Created DbConnection. (2ms).
2025-10-20 16:03:04.147 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:03:04.149 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:03:04.152 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 16:03:04.153 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 16:03:04.155 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-10-20 16:03:04.157 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:03:04.161 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:03:04.164 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 16:03:04.166 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 1ms reading results.
2025-10-20 16:03:04.168 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:03:04.170 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (1ms).
2025-10-20 16:03:04.172 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 16:03:04.173 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:03:04.175 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-20 16:03:34.190 +03:00 [INF] Worker running at: "2025-10-20T16:03:34.1908541+03:00"
2025-10-20 16:03:34.196 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 16:03:34.201 +03:00 [DBG] Creating DbConnection.
2025-10-20 16:03:34.202 +03:00 [DBG] Created DbConnection. (0ms).
2025-10-20 16:03:34.204 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:03:34.206 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:03:34.208 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 16:03:34.211 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-10-20 16:03:34.213 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-10-20 16:03:34.215 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:03:34.220 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:03:34.223 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 16:03:34.225 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 1ms reading results.
2025-10-20 16:03:34.226 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:03:34.228 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (1ms).
2025-10-20 16:03:34.230 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 16:03:34.231 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:03:34.234 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-10-20 16:04:04.238 +03:00 [INF] Worker running at: "2025-10-20T16:04:04.2386635+03:00"
2025-10-20 16:04:04.242 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 16:04:04.245 +03:00 [DBG] Creating DbConnection.
2025-10-20 16:04:04.248 +03:00 [DBG] Created DbConnection. (2ms).
2025-10-20 16:04:04.250 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:04:04.252 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:04:04.254 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 16:04:04.256 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 16:04:04.258 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-10-20 16:04:04.259 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:04:04.265 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:04:04.268 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 16:04:04.269 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 1ms reading results.
2025-10-20 16:04:04.272 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:04:04.274 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (2ms).
2025-10-20 16:04:04.276 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 16:04:04.278 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:04:04.279 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-20 16:04:34.284 +03:00 [INF] Worker running at: "2025-10-20T16:04:34.2848524+03:00"
2025-10-20 16:04:34.287 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 16:04:34.291 +03:00 [DBG] Creating DbConnection.
2025-10-20 16:04:34.293 +03:00 [DBG] Created DbConnection. (2ms).
2025-10-20 16:04:34.294 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:04:34.296 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:04:34.298 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 16:04:34.299 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 16:04:34.301 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-10-20 16:04:34.303 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:04:34.308 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:04:34.312 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 16:04:34.314 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 1ms reading results.
2025-10-20 16:04:34.317 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:04:34.318 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (1ms).
2025-10-20 16:04:34.321 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 16:04:34.322 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:04:34.324 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-20 16:05:04.327 +03:00 [INF] Worker running at: "2025-10-20T16:05:04.3274453+03:00"
2025-10-20 16:05:04.330 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 16:05:04.333 +03:00 [DBG] Creating DbConnection.
2025-10-20 16:05:04.334 +03:00 [DBG] Created DbConnection. (1ms).
2025-10-20 16:05:04.336 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:05:04.337 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:05:04.339 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 16:05:04.340 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 16:05:04.342 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-10-20 16:05:04.343 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:05:04.348 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:05:04.350 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 16:05:04.352 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 1ms reading results.
2025-10-20 16:05:04.354 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:05:04.355 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (1ms).
2025-10-20 16:05:04.357 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 16:05:04.358 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:05:04.360 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-20 16:05:34.364 +03:00 [INF] Worker running at: "2025-10-20T16:05:34.3640449+03:00"
2025-10-20 16:05:34.373 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 16:05:34.380 +03:00 [DBG] Creating DbConnection.
2025-10-20 16:05:34.384 +03:00 [DBG] Created DbConnection. (3ms).
2025-10-20 16:05:34.386 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:05:34.390 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:05:34.394 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 16:05:34.396 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-10-20 16:05:34.399 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-10-20 16:05:34.404 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:05:34.409 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:05:34.413 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 16:05:34.416 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 3ms reading results.
2025-10-20 16:05:34.419 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:05:34.420 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (1ms).
2025-10-20 16:05:34.422 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 16:05:34.424 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:05:34.425 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-20 16:06:04.432 +03:00 [INF] Worker running at: "2025-10-20T16:06:04.4328282+03:00"
2025-10-20 16:06:04.438 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 16:06:04.442 +03:00 [DBG] Creating DbConnection.
2025-10-20 16:06:04.444 +03:00 [DBG] Created DbConnection. (1ms).
2025-10-20 16:06:04.445 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:06:04.446 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:06:04.450 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 16:06:04.451 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 16:06:04.453 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-10-20 16:06:04.455 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:06:04.460 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:06:04.463 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 16:06:04.465 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 2ms reading results.
2025-10-20 16:06:04.467 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:06:04.468 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (1ms).
2025-10-20 16:06:04.470 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 16:06:04.471 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:06:04.473 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-20 16:06:34.486 +03:00 [INF] Worker running at: "2025-10-20T16:06:34.4868887+03:00"
2025-10-20 16:06:34.491 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 16:06:34.495 +03:00 [DBG] Creating DbConnection.
2025-10-20 16:06:34.496 +03:00 [DBG] Created DbConnection. (1ms).
2025-10-20 16:06:34.498 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:06:34.500 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:06:34.502 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 16:06:34.504 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-10-20 16:06:34.506 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-10-20 16:06:34.508 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:06:34.513 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:06:34.518 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 16:06:34.520 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 2ms reading results.
2025-10-20 16:06:34.522 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:06:34.525 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (2ms).
2025-10-20 16:06:34.527 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 16:06:34.528 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:06:34.530 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-20 16:07:04.543 +03:00 [INF] Worker running at: "2025-10-20T16:07:04.5431100+03:00"
2025-10-20 16:07:04.548 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 16:07:04.551 +03:00 [DBG] Creating DbConnection.
2025-10-20 16:07:04.552 +03:00 [DBG] Created DbConnection. (0ms).
2025-10-20 16:07:04.553 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:07:04.555 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:07:04.557 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 16:07:04.558 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 16:07:04.560 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-10-20 16:07:04.562 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:07:04.567 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:07:04.571 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 16:07:04.572 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 1ms reading results.
2025-10-20 16:07:04.574 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:07:04.576 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (1ms).
2025-10-20 16:07:04.577 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 16:07:04.579 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:07:04.580 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-20 16:07:34.597 +03:00 [INF] Worker running at: "2025-10-20T16:07:34.5978624+03:00"
2025-10-20 16:07:34.601 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 16:07:34.604 +03:00 [DBG] Creating DbConnection.
2025-10-20 16:07:34.605 +03:00 [DBG] Created DbConnection. (1ms).
2025-10-20 16:07:34.606 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:07:34.609 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:07:34.610 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 16:07:34.611 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 16:07:34.613 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-10-20 16:07:34.616 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:07:34.621 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:07:34.624 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 16:07:34.625 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 1ms reading results.
2025-10-20 16:07:34.627 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:07:34.629 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (2ms).
2025-10-20 16:07:34.631 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 16:07:34.632 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:07:34.634 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-20 16:08:04.647 +03:00 [INF] Worker running at: "2025-10-20T16:08:04.6470740+03:00"
2025-10-20 16:08:04.651 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 16:08:04.655 +03:00 [DBG] Creating DbConnection.
2025-10-20 16:08:04.657 +03:00 [DBG] Created DbConnection. (1ms).
2025-10-20 16:08:04.658 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:08:04.661 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:08:04.665 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 16:08:04.668 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-10-20 16:08:04.670 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-10-20 16:08:04.672 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:08:04.677 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:08:04.681 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 16:08:04.683 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 2ms reading results.
2025-10-20 16:08:04.686 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:08:04.687 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (1ms).
2025-10-20 16:08:04.690 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 16:08:04.691 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:08:04.693 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-20 16:08:34.696 +03:00 [INF] Worker running at: "2025-10-20T16:08:34.6965752+03:00"
2025-10-20 16:08:34.702 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 16:08:34.708 +03:00 [DBG] Creating DbConnection.
2025-10-20 16:08:34.710 +03:00 [DBG] Created DbConnection. (1ms).
2025-10-20 16:08:34.712 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:08:34.714 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:08:34.717 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 16:08:34.718 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 16:08:34.720 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-10-20 16:08:34.722 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:08:34.726 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:08:34.730 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 16:08:34.731 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 1ms reading results.
2025-10-20 16:08:34.734 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:08:34.736 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (2ms).
2025-10-20 16:08:34.738 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 16:08:34.739 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:08:34.741 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-20 16:09:04.752 +03:00 [INF] Worker running at: "2025-10-20T16:09:04.7528666+03:00"
2025-10-20 16:09:04.757 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 16:09:04.761 +03:00 [DBG] Creating DbConnection.
2025-10-20 16:09:04.762 +03:00 [DBG] Created DbConnection. (1ms).
2025-10-20 16:09:04.765 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:09:04.767 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:09:04.769 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 16:09:04.770 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 16:09:04.772 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-10-20 16:09:04.774 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:09:04.778 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:09:04.782 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 16:09:04.784 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 2ms reading results.
2025-10-20 16:09:04.787 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:09:04.789 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (1ms).
2025-10-20 16:09:04.791 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 16:09:04.792 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:09:04.794 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-20 16:09:34.793 +03:00 [INF] Worker running at: "2025-10-20T16:09:34.7930607+03:00"
2025-10-20 16:09:34.798 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 16:09:34.803 +03:00 [DBG] Creating DbConnection.
2025-10-20 16:09:34.804 +03:00 [DBG] Created DbConnection. (1ms).
2025-10-20 16:09:34.806 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:09:34.808 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:09:34.809 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 16:09:34.811 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 16:09:34.812 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-10-20 16:09:34.815 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:09:34.819 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:09:34.821 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 16:09:34.823 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 1ms reading results.
2025-10-20 16:09:34.824 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:09:34.826 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (1ms).
2025-10-20 16:09:34.828 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 16:09:34.829 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:09:34.831 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-20 16:10:04.836 +03:00 [INF] Worker running at: "2025-10-20T16:10:04.8364577+03:00"
2025-10-20 16:10:04.839 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 16:10:04.842 +03:00 [DBG] Creating DbConnection.
2025-10-20 16:10:04.844 +03:00 [DBG] Created DbConnection. (1ms).
2025-10-20 16:10:04.845 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:10:04.847 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:10:04.849 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 16:10:04.851 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 16:10:04.852 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-10-20 16:10:04.854 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:10:04.860 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:10:04.863 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 16:10:04.865 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 1ms reading results.
2025-10-20 16:10:04.867 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:10:04.869 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (2ms).
2025-10-20 16:10:04.871 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 16:10:04.872 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:10:04.874 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-20 16:10:34.883 +03:00 [INF] Worker running at: "2025-10-20T16:10:34.8830267+03:00"
2025-10-20 16:10:34.890 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 16:10:34.893 +03:00 [DBG] Creating DbConnection.
2025-10-20 16:10:34.895 +03:00 [DBG] Created DbConnection. (1ms).
2025-10-20 16:10:34.896 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:10:34.898 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:10:34.901 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 16:10:34.902 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 16:10:34.904 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-10-20 16:10:34.906 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:10:34.910 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:10:34.913 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 16:10:34.914 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 1ms reading results.
2025-10-20 16:10:34.916 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:10:34.918 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (1ms).
2025-10-20 16:10:34.920 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 16:10:34.921 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:10:34.923 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-20 16:11:04.929 +03:00 [INF] Worker running at: "2025-10-20T16:11:04.9290587+03:00"
2025-10-20 16:11:04.934 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 16:11:04.938 +03:00 [DBG] Creating DbConnection.
2025-10-20 16:11:04.939 +03:00 [DBG] Created DbConnection. (1ms).
2025-10-20 16:11:04.941 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:11:04.946 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:11:04.950 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 16:11:04.953 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-10-20 16:11:04.956 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-10-20 16:11:04.958 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:11:04.966 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:11:04.969 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 16:11:04.971 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 1ms reading results.
2025-10-20 16:11:04.973 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:11:04.975 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (1ms).
2025-10-20 16:11:04.977 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 16:11:04.978 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:11:04.980 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-10-20 16:11:34.983 +03:00 [INF] Worker running at: "2025-10-20T16:11:34.9828816+03:00"
2025-10-20 16:11:34.988 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 16:11:34.992 +03:00 [DBG] Creating DbConnection.
2025-10-20 16:11:34.993 +03:00 [DBG] Created DbConnection. (0ms).
2025-10-20 16:11:34.995 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:11:34.997 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:11:34.998 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 16:11:35.000 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 16:11:35.002 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-10-20 16:11:35.005 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:11:35.010 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:11:35.013 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 16:11:35.015 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 2ms reading results.
2025-10-20 16:11:35.018 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:11:35.020 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (1ms).
2025-10-20 16:11:35.022 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 16:11:35.024 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:11:35.025 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-20 16:12:05.035 +03:00 [INF] Worker running at: "2025-10-20T16:12:05.0358350+03:00"
2025-10-20 16:12:05.040 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 16:12:05.045 +03:00 [DBG] Creating DbConnection.
2025-10-20 16:12:05.048 +03:00 [DBG] Created DbConnection. (2ms).
2025-10-20 16:12:05.051 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:12:05.053 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:12:05.055 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 16:12:05.057 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 16:12:05.058 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-10-20 16:12:05.060 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:12:05.064 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:12:05.067 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 16:12:05.069 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 2ms reading results.
2025-10-20 16:12:05.071 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:12:05.073 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (2ms).
2025-10-20 16:12:05.076 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 16:12:05.077 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:12:05.079 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-20 16:12:35.088 +03:00 [INF] Worker running at: "2025-10-20T16:12:35.0888940+03:00"
2025-10-20 16:12:35.096 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 16:12:35.101 +03:00 [DBG] Creating DbConnection.
2025-10-20 16:12:35.103 +03:00 [DBG] Created DbConnection. (1ms).
2025-10-20 16:12:35.106 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:12:35.109 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:12:35.110 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 16:12:35.112 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 16:12:35.113 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-10-20 16:12:35.115 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:12:35.119 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:12:35.121 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 16:12:35.123 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 1ms reading results.
2025-10-20 16:12:35.125 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:12:35.126 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (1ms).
2025-10-20 16:12:35.128 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 16:12:35.130 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:12:35.131 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-20 16:13:05.145 +03:00 [INF] Worker running at: "2025-10-20T16:13:05.1452421+03:00"
2025-10-20 16:13:05.150 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 16:13:05.158 +03:00 [DBG] Creating DbConnection.
2025-10-20 16:13:05.159 +03:00 [DBG] Created DbConnection. (1ms).
2025-10-20 16:13:05.161 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:13:05.162 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:13:05.164 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 16:13:05.165 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 16:13:05.166 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-10-20 16:13:05.168 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:13:05.172 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:13:05.175 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 16:13:05.176 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 1ms reading results.
2025-10-20 16:13:05.178 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:13:05.180 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (1ms).
2025-10-20 16:13:05.182 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 16:13:05.183 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:13:05.185 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-20 16:13:35.190 +03:00 [INF] Worker running at: "2025-10-20T16:13:35.1907550+03:00"
2025-10-20 16:13:35.195 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 16:13:35.197 +03:00 [DBG] Creating DbConnection.
2025-10-20 16:13:35.198 +03:00 [DBG] Created DbConnection. (0ms).
2025-10-20 16:13:35.199 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:13:35.200 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:13:35.202 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 16:13:35.203 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-20 16:13:35.204 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-10-20 16:13:35.205 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:13:35.210 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:13:35.213 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 16:13:35.214 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 1ms reading results.
2025-10-20 16:13:35.216 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:13:35.217 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (1ms).
2025-10-20 16:13:35.219 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 16:13:35.220 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:13:35.221 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-20 16:14:05.227 +03:00 [INF] Worker running at: "2025-10-20T16:14:05.2278689+03:00"
2025-10-20 16:14:05.233 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 16:14:05.237 +03:00 [DBG] Creating DbConnection.
2025-10-20 16:14:05.238 +03:00 [DBG] Created DbConnection. (1ms).
2025-10-20 16:14:05.239 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:14:05.241 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:14:05.242 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 16:14:05.244 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-10-20 16:14:05.247 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-10-20 16:14:05.249 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:14:05.254 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:14:05.256 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 16:14:05.257 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 1ms reading results.
2025-10-20 16:14:05.259 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:14:05.260 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (1ms).
2025-10-20 16:14:05.263 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 16:14:05.264 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:14:05.266 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-20 16:14:35.270 +03:00 [INF] Worker running at: "2025-10-20T16:14:35.2705927+03:00"
2025-10-20 16:14:35.273 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 16:14:35.276 +03:00 [DBG] Creating DbConnection.
2025-10-20 16:14:35.277 +03:00 [DBG] Created DbConnection. (0ms).
2025-10-20 16:14:35.279 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:14:35.280 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:14:35.282 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 16:14:35.283 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 16:14:35.285 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-10-20 16:14:35.286 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:14:35.290 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:14:35.293 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 16:14:35.294 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 1ms reading results.
2025-10-20 16:14:35.296 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:14:35.297 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (1ms).
2025-10-20 16:14:35.299 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 16:14:35.300 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:14:35.302 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-10-20 16:15:05.303 +03:00 [INF] Worker running at: "2025-10-20T16:15:05.3038632+03:00"
2025-10-20 16:15:05.307 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 16:15:05.310 +03:00 [DBG] Creating DbConnection.
2025-10-20 16:15:05.311 +03:00 [DBG] Created DbConnection. (0ms).
2025-10-20 16:15:05.312 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:15:05.314 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:15:05.315 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 16:15:05.316 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 16:15:05.318 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-10-20 16:15:05.320 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:15:05.324 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:15:05.326 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 16:15:05.328 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 1ms reading results.
2025-10-20 16:15:05.329 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:15:05.331 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (1ms).
2025-10-20 16:15:05.333 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 16:15:05.334 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:15:05.336 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-20 16:15:35.345 +03:00 [INF] Worker running at: "2025-10-20T16:15:35.3456571+03:00"
2025-10-20 16:15:35.348 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 16:15:35.350 +03:00 [DBG] Creating DbConnection.
2025-10-20 16:15:35.351 +03:00 [DBG] Created DbConnection. (0ms).
2025-10-20 16:15:35.352 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:15:35.353 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:15:35.354 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 16:15:35.355 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 16:15:35.357 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-10-20 16:15:35.358 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:15:35.362 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:15:35.366 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 16:15:35.367 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 1ms reading results.
2025-10-20 16:15:35.369 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:15:35.371 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (1ms).
2025-10-20 16:15:35.373 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 16:15:35.374 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:15:35.375 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-20 16:16:05.379 +03:00 [INF] Worker running at: "2025-10-20T16:16:05.3793994+03:00"
2025-10-20 16:16:05.383 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 16:16:05.385 +03:00 [DBG] Creating DbConnection.
2025-10-20 16:16:05.385 +03:00 [DBG] Created DbConnection. (0ms).
2025-10-20 16:16:05.387 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:16:05.388 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:16:05.389 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 16:16:05.390 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 16:16:05.391 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-10-20 16:16:05.393 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:16:05.397 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:16:05.399 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 16:16:05.401 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 1ms reading results.
2025-10-20 16:16:05.403 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:16:05.404 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (1ms).
2025-10-20 16:16:05.406 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 16:16:05.408 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:16:05.409 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-20 16:16:35.421 +03:00 [INF] Worker running at: "2025-10-20T16:16:35.4216250+03:00"
2025-10-20 16:16:35.426 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 16:16:35.428 +03:00 [DBG] Creating DbConnection.
2025-10-20 16:16:35.429 +03:00 [DBG] Created DbConnection. (0ms).
2025-10-20 16:16:35.430 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:16:35.432 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:16:35.433 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 16:16:35.434 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 16:16:35.436 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-10-20 16:16:35.438 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:16:35.443 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:16:35.447 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 16:16:35.448 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 1ms reading results.
2025-10-20 16:16:35.450 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:16:35.451 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (1ms).
2025-10-20 16:16:35.453 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 16:16:35.454 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:16:35.456 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-20 16:17:05.459 +03:00 [INF] Worker running at: "2025-10-20T16:17:05.4597976+03:00"
2025-10-20 16:17:05.463 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 16:17:05.465 +03:00 [DBG] Creating DbConnection.
2025-10-20 16:17:05.466 +03:00 [DBG] Created DbConnection. (1ms).
2025-10-20 16:17:05.467 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:17:05.469 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:17:05.470 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 16:17:05.471 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 16:17:05.472 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-10-20 16:17:05.474 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:17:05.479 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:17:05.480 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 16:17:05.482 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 1ms reading results.
2025-10-20 16:17:05.483 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:17:05.485 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (1ms).
2025-10-20 16:17:05.486 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 16:17:05.488 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:17:05.489 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-20 16:17:35.489 +03:00 [INF] Worker running at: "2025-10-20T16:17:35.4892051+03:00"
2025-10-20 16:17:35.495 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 16:17:35.498 +03:00 [DBG] Creating DbConnection.
2025-10-20 16:17:35.499 +03:00 [DBG] Created DbConnection. (1ms).
2025-10-20 16:17:35.501 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:17:35.504 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:17:35.507 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 16:17:35.508 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 16:17:35.510 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-10-20 16:17:35.512 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:17:35.517 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:17:35.520 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 16:17:35.523 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 3ms reading results.
2025-10-20 16:17:35.526 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:17:35.529 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (2ms).
2025-10-20 16:17:35.531 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 16:17:35.532 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:17:35.534 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-20 16:18:05.547 +03:00 [INF] Worker running at: "2025-10-20T16:18:05.5470281+03:00"
2025-10-20 16:18:05.554 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 16:18:05.558 +03:00 [DBG] Creating DbConnection.
2025-10-20 16:18:05.560 +03:00 [DBG] Created DbConnection. (1ms).
2025-10-20 16:18:05.563 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:18:05.566 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:18:05.568 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 16:18:05.570 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-10-20 16:18:05.572 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-10-20 16:18:05.574 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:18:05.580 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:18:05.583 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 16:18:05.585 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 2ms reading results.
2025-10-20 16:18:05.586 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:18:05.588 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (1ms).
2025-10-20 16:18:05.590 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 16:18:05.591 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:18:05.593 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-20 16:18:35.604 +03:00 [INF] Worker running at: "2025-10-20T16:18:35.6047737+03:00"
2025-10-20 16:18:35.608 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 16:18:35.611 +03:00 [DBG] Creating DbConnection.
2025-10-20 16:18:35.612 +03:00 [DBG] Created DbConnection. (1ms).
2025-10-20 16:18:35.613 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:18:35.614 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:18:35.616 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 16:18:35.618 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 16:18:35.619 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-10-20 16:18:35.621 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:18:35.626 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:18:35.628 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 16:18:35.630 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 1ms reading results.
2025-10-20 16:18:35.632 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:18:35.633 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (1ms).
2025-10-20 16:18:35.635 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 16:18:35.636 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:18:35.637 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-20 16:19:05.636 +03:00 [INF] Worker running at: "2025-10-20T16:19:05.6368298+03:00"
2025-10-20 16:19:05.643 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 16:19:05.648 +03:00 [DBG] Creating DbConnection.
2025-10-20 16:19:05.649 +03:00 [DBG] Created DbConnection. (1ms).
2025-10-20 16:19:05.651 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:19:05.653 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:19:05.654 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 16:19:05.656 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 16:19:05.658 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-10-20 16:19:05.659 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:19:05.664 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:19:05.667 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 16:19:05.669 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 1ms reading results.
2025-10-20 16:19:05.671 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:19:05.672 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (1ms).
2025-10-20 16:19:05.674 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 16:19:05.675 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:19:05.677 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-20 16:19:35.683 +03:00 [INF] Worker running at: "2025-10-20T16:19:35.6838608+03:00"
2025-10-20 16:19:35.690 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 16:19:35.694 +03:00 [DBG] Creating DbConnection.
2025-10-20 16:19:35.695 +03:00 [DBG] Created DbConnection. (1ms).
2025-10-20 16:19:35.697 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:19:35.699 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:19:35.701 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 16:19:35.703 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-10-20 16:19:35.706 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-10-20 16:19:35.709 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:19:35.715 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:19:35.718 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 16:19:35.720 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 1ms reading results.
2025-10-20 16:19:35.722 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:19:35.724 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (2ms).
2025-10-20 16:19:35.727 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 16:19:35.730 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:19:35.732 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-10-20 16:20:05.734 +03:00 [INF] Worker running at: "2025-10-20T16:20:05.7348159+03:00"
2025-10-20 16:20:05.738 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 16:20:05.744 +03:00 [DBG] Creating DbConnection.
2025-10-20 16:20:05.746 +03:00 [DBG] Created DbConnection. (2ms).
2025-10-20 16:20:05.752 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:20:05.758 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:20:05.761 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 16:20:05.764 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-10-20 16:20:05.765 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-10-20 16:20:05.767 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:20:05.772 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:20:05.777 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 16:20:05.778 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 1ms reading results.
2025-10-20 16:20:05.780 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:20:05.782 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (1ms).
2025-10-20 16:20:05.784 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 16:20:05.786 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:20:05.787 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-20 16:20:35.798 +03:00 [INF] Worker running at: "2025-10-20T16:20:35.7981786+03:00"
2025-10-20 16:20:35.802 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 16:20:35.806 +03:00 [DBG] Creating DbConnection.
2025-10-20 16:20:35.808 +03:00 [DBG] Created DbConnection. (1ms).
2025-10-20 16:20:35.809 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:20:35.811 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:20:35.812 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 16:20:35.813 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 16:20:35.815 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-10-20 16:20:35.816 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:20:35.821 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:20:35.824 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 16:20:35.826 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 1ms reading results.
2025-10-20 16:20:35.827 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:20:35.829 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (1ms).
2025-10-20 16:20:35.831 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 16:20:35.832 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:20:35.834 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-20 16:21:05.841 +03:00 [INF] Worker running at: "2025-10-20T16:21:05.8414104+03:00"
2025-10-20 16:21:05.850 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 16:21:05.855 +03:00 [DBG] Creating DbConnection.
2025-10-20 16:21:05.857 +03:00 [DBG] Created DbConnection. (2ms).
2025-10-20 16:21:05.860 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:21:05.861 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:21:05.863 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 16:21:05.864 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 16:21:05.865 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-10-20 16:21:05.867 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:21:05.871 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:21:05.874 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 16:21:05.875 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 1ms reading results.
2025-10-20 16:21:05.877 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:21:05.879 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (1ms).
2025-10-20 16:21:05.881 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 16:21:05.882 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:21:05.884 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-20 16:21:35.894 +03:00 [INF] Worker running at: "2025-10-20T16:21:35.8941433+03:00"
2025-10-20 16:21:35.901 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 16:21:35.904 +03:00 [DBG] Creating DbConnection.
2025-10-20 16:21:35.905 +03:00 [DBG] Created DbConnection. (0ms).
2025-10-20 16:21:35.907 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:21:35.909 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:21:35.912 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 16:21:35.914 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 16:21:35.916 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-10-20 16:21:35.917 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:21:35.923 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:21:35.926 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 16:21:35.928 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 2ms reading results.
2025-10-20 16:21:35.931 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:21:35.933 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (2ms).
2025-10-20 16:21:35.935 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 16:21:35.937 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:21:35.938 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-20 16:22:05.938 +03:00 [INF] Worker running at: "2025-10-20T16:22:05.9383224+03:00"
2025-10-20 16:22:05.942 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 16:22:05.947 +03:00 [DBG] Creating DbConnection.
2025-10-20 16:22:05.948 +03:00 [DBG] Created DbConnection. (1ms).
2025-10-20 16:22:05.950 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:22:05.952 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:22:05.954 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 16:22:05.955 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 16:22:05.957 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-10-20 16:22:05.959 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:22:05.963 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:22:05.966 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 16:22:05.967 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 1ms reading results.
2025-10-20 16:22:05.969 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:22:05.971 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (1ms).
2025-10-20 16:22:05.973 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 16:22:05.974 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:22:05.976 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-20 16:22:35.988 +03:00 [INF] Worker running at: "2025-10-20T16:22:35.9889717+03:00"
2025-10-20 16:22:35.992 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 16:22:35.994 +03:00 [DBG] Creating DbConnection.
2025-10-20 16:22:35.995 +03:00 [DBG] Created DbConnection. (0ms).
2025-10-20 16:22:35.997 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:22:35.999 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:22:36.000 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 16:22:36.001 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 16:22:36.003 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-10-20 16:22:36.005 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:22:36.010 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:22:36.013 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 16:22:36.014 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 1ms reading results.
2025-10-20 16:22:36.016 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:22:36.018 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (1ms).
2025-10-20 16:22:36.020 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 16:22:36.022 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:22:36.023 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-20 16:23:06.030 +03:00 [INF] Worker running at: "2025-10-20T16:23:06.0301074+03:00"
2025-10-20 16:23:06.033 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 16:23:06.036 +03:00 [DBG] Creating DbConnection.
2025-10-20 16:23:06.037 +03:00 [DBG] Created DbConnection. (0ms).
2025-10-20 16:23:06.039 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:23:06.041 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:23:06.044 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 16:23:06.047 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-10-20 16:23:06.049 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-10-20 16:23:06.050 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:23:06.055 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 16:23:06.058 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 16:23:06.060 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 1ms reading results.
2025-10-20 16:23:06.062 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:23:06.064 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (1ms).
2025-10-20 16:23:06.066 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 16:23:06.067 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 16:23:06.069 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-20 17:27:16.510 +03:00 [DBG] Hosting starting
2025-10-20 17:27:17.240 +03:00 [DBG] Starting bus instances: IBus
2025-10-20 17:27:17.252 +03:00 [DBG] Starting bus: "rabbitmq://localhost/"
2025-10-20 17:27:17.282 +03:00 [INF] Worker running at: "2025-10-20T17:27:17.2815329+03:00"
2025-10-20 17:27:17.309 +03:00 [DBG] Connect: guest@localhost:5672/
2025-10-20 17:27:17.328 +03:00 [DBG] Connected: guest@localhost:5672/ (address: amqp://localhost:5672, local: 59130)
2025-10-20 17:27:17.410 +03:00 [DBG] Endpoint Ready: "rabbitmq://localhost/ECHGHANNAMLP1_BillingSystemO_bus_tn8yyyyh3bcsykkwbdxy93gfb6?temporary=true"
2025-10-20 17:27:17.414 +03:00 [INF] Bus started: "rabbitmq://localhost/"
2025-10-20 17:27:17.484 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-10-20 17:27:23.050 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 17:27:23.099 +03:00 [DBG] Compiling query expression: 
'DbSet<OutboxEvent>().FromSql(EXECUTE dbo.GetNextPendingRowsForProcessing {0}, __p_0)
'
2025-10-20 17:27:23.255 +03:00 [DBG] Generated query execution expression: 
'queryContext => FromSqlQueryingEnumerable.Create<OutboxEvent>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: OutboxEvent.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: OutboxEvent.AggregateId (long) Required, 1], [Property: OutboxEvent.CreatedDate (DateTime) Required, 2], [Property: OutboxEvent.ErrorMsg (string), 3], [Property: OutboxEvent.EventType (string) Required MaxLength(300), 4], [Property: OutboxEvent.Payload (string), 5], [Property: OutboxEvent.Processed (bool) Required, 6], [Property: OutboxEvent.ProcessingStatus (string), 7] }
        SELECT b.Id, b.Aggregate_id, b.CreatedDate, b.ErrorMsg, b.Event_type, b.Payload, b.Processed, b.ProcessingStatus
        FROM EXECUTE dbo.GetNextPendingRowsForProcessing {0}) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: OutboxEvent.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: OutboxEvent.AggregateId (long) Required, 1], [Property: OutboxEvent.CreatedDate (DateTime) Required, 2], [Property: OutboxEvent.ErrorMsg (string), 3], [Property: OutboxEvent.EventType (string) Required MaxLength(300), 4], [Property: OutboxEvent.Payload (string), 5], [Property: OutboxEvent.Processed (bool) Required, 6], [Property: OutboxEvent.ProcessingStatus (string), 7] }
        SELECT b.Id, b.Aggregate_id, b.CreatedDate, b.ErrorMsg, b.Event_type, b.Payload, b.Processed, b.ProcessingStatus
        FROM EXECUTE dbo.GetNextPendingRowsForProcessing {0}, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    columnNames: [LIFTABLE Constant: string[] { "Id", "Aggregate_id", "CreatedDate", "ErrorMsg", "Event_type", "Payload", "Processed", "ProcessingStatus" } | Resolver: _ => new string[]
    { 
        "Id", 
        "Aggregate_id", 
        "CreatedDate", 
        "ErrorMsg", 
        "Event_type", 
        "Payload", 
        "Processed", 
        "ProcessingStatus" 
    }], 
    shaper: (queryContext, dataReader, indexMap) => 
    {
        OutboxEvent entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            OutboxEvent instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(OutboxEvent);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: OutboxEvent.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("BillingSystem.Domain.Entities.OutboxEvent").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt64(indexMap[0]) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (OutboxEvent)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: OutboxEvent | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("BillingSystem.Domain.Entities.OutboxEvent")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: OutboxEvent | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("BillingSystem.Domain.Entities.OutboxEvent")]: 
                        {
                            return 
                            {
                                OutboxEvent instance;
                                instance = new OutboxEvent();
                                instance.<Id>k__BackingField = dataReader.GetInt64(indexMap[0]);
                                instance.<AggregateId>k__BackingField = dataReader.GetInt64(indexMap[1]);
                                instance.<CreatedDate>k__BackingField = dataReader.GetDateTime(indexMap[2]);
                                instance.<ErrorMsg>k__BackingField = dataReader.IsDBNull(indexMap[3]) ? default(string) : dataReader.GetString(indexMap[3]);
                                instance.<EventType>k__BackingField = dataReader.GetString(indexMap[4]);
                                instance.<Payload>k__BackingField = dataReader.IsDBNull(indexMap[5]) ? default(string) : dataReader.GetString(indexMap[5]);
                                instance.<Processed>k__BackingField = dataReader.GetBoolean(indexMap[6]);
                                instance.<ProcessingStatus>k__BackingField = dataReader.IsDBNull(indexMap[7]) ? default(string) : dataReader.GetString(indexMap[7]);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: OutboxEvent | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("BillingSystem.Domain.Entities.OutboxEvent")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(OutboxEvent)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: BillingSystem.Infrastructure.EF.BillingServiceDBContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-10-20 17:27:23.279 +03:00 [DBG] Creating DbConnection.
2025-10-20 17:27:23.294 +03:00 [DBG] Created DbConnection. (13ms).
2025-10-20 17:27:23.299 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 17:27:23.406 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-20 17:27:23.408 +03:00 [INF] Hosting environment: Development
2025-10-20 17:27:23.416 +03:00 [INF] Content root path: C:\Repositories\Gac-BillingSystem\src\BillingSystem.OutboxProcessor
2025-10-20 17:27:23.417 +03:00 [DBG] Hosting started
2025-10-20 17:27:23.492 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 17:27:23.498 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 17:27:23.505 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-10-20 17:27:23.513 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (15ms).
2025-10-20 17:27:23.520 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 17:27:23.586 +03:00 [INF] Executed DbCommand (66ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 17:27:23.617 +03:00 [DBG] Context 'BillingServiceDBContext' started tracking 'OutboxEvent' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 17:27:23.638 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 17:27:23.648 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 52ms reading results.
2025-10-20 17:27:23.654 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 17:27:23.660 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (5ms).
2025-10-20 17:27:23.697 +03:00 [DBG] Compiling query expression: 
'DbSet<OutboxEvent>()
    .SingleOrDefault(p => p.Id == __entity_Id_0)'
2025-10-20 17:27:23.749 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<OutboxEvent>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: OutboxEvent.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: OutboxEvent.AggregateId (long) Required, 1], [Property: OutboxEvent.CreatedDate (DateTime) Required, 2], [Property: OutboxEvent.ErrorMsg (string), 3], [Property: OutboxEvent.EventType (string) Required MaxLength(300), 4], [Property: OutboxEvent.Payload (string), 5], [Property: OutboxEvent.Processed (bool) Required, 6], [Property: OutboxEvent.ProcessingStatus (string), 7] }
        SELECT TOP(2) o.Id, o.Aggregate_id, o.CreatedDate, o.ErrorMsg, o.Event_type, o.Payload, o.Processed, o.ProcessingStatus
        FROM Outbox_events AS o
        WHERE o.Id == @__entity_Id_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: OutboxEvent.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: OutboxEvent.AggregateId (long) Required, 1], [Property: OutboxEvent.CreatedDate (DateTime) Required, 2], [Property: OutboxEvent.ErrorMsg (string), 3], [Property: OutboxEvent.EventType (string) Required MaxLength(300), 4], [Property: OutboxEvent.Payload (string), 5], [Property: OutboxEvent.Processed (bool) Required, 6], [Property: OutboxEvent.ProcessingStatus (string), 7] }
        SELECT TOP(2) o.Id, o.Aggregate_id, o.CreatedDate, o.ErrorMsg, o.Event_type, o.Payload, o.Processed, o.ProcessingStatus
        FROM Outbox_events AS o
        WHERE o.Id == @__entity_Id_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        OutboxEvent entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            OutboxEvent instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(OutboxEvent);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: OutboxEvent.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("BillingSystem.Domain.Entities.OutboxEvent").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt64(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (OutboxEvent)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: OutboxEvent | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("BillingSystem.Domain.Entities.OutboxEvent")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: OutboxEvent | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("BillingSystem.Domain.Entities.OutboxEvent")]: 
                        {
                            return 
                            {
                                OutboxEvent instance;
                                instance = new OutboxEvent();
                                instance.<Id>k__BackingField = dataReader.GetInt64(0);
                                instance.<AggregateId>k__BackingField = dataReader.GetInt64(1);
                                instance.<CreatedDate>k__BackingField = dataReader.GetDateTime(2);
                                instance.<ErrorMsg>k__BackingField = dataReader.IsDBNull(3) ? default(string) : dataReader.GetString(3);
                                instance.<EventType>k__BackingField = dataReader.GetString(4);
                                instance.<Payload>k__BackingField = dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5);
                                instance.<Processed>k__BackingField = dataReader.GetBoolean(6);
                                instance.<ProcessingStatus>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: OutboxEvent | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("BillingSystem.Domain.Entities.OutboxEvent")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(OutboxEvent)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: BillingSystem.Infrastructure.EF.BillingServiceDBContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)
    .SingleOrDefault()'
2025-10-20 17:27:23.764 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 17:27:23.771 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 17:27:23.774 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 17:27:23.776 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-10-20 17:27:23.779 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-10-20 17:27:23.782 +03:00 [DBG] Executing DbCommand [Parameters=[@__entity_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [o].[Id], [o].[Aggregate_id], [o].[CreatedDate], [o].[ErrorMsg], [o].[Event_type], [o].[Payload], [o].[Processed], [o].[ProcessingStatus]
FROM [Outbox_events] AS [o]
WHERE [o].[Id] = @__entity_Id_0
2025-10-20 17:27:23.791 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__entity_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [o].[Id], [o].[Aggregate_id], [o].[CreatedDate], [o].[ErrorMsg], [o].[Event_type], [o].[Payload], [o].[Processed], [o].[ProcessingStatus]
FROM [Outbox_events] AS [o]
WHERE [o].[Id] = @__entity_Id_0
2025-10-20 17:27:23.800 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 17:27:23.803 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 6ms reading results.
2025-10-20 17:27:23.807 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 17:27:23.810 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (3ms).
2025-10-20 17:27:23.827 +03:00 [DBG] The unchanged property 'OutboxEvent.Processed' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-10-20 17:27:23.835 +03:00 [DBG] An entity of type 'OutboxEvent' tracked by 'BillingServiceDBContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 17:27:23.842 +03:00 [DBG] SaveChanges starting for 'BillingServiceDBContext'.
2025-10-20 17:27:23.845 +03:00 [DBG] DetectChanges starting for 'BillingServiceDBContext'.
2025-10-20 17:27:23.849 +03:00 [DBG] DetectChanges completed for 'BillingServiceDBContext'.
2025-10-20 17:27:23.875 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 17:27:23.881 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 17:27:23.886 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 17:27:23.888 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-10-20 17:27:23.891 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-10-20 17:27:23.894 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int64), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Outbox_events] SET [Processed] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-10-20 17:27:23.915 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@p1='?' (DbType = Int64), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Outbox_events] SET [Processed] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-10-20 17:27:23.924 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 17:27:23.926 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 7ms reading results.
2025-10-20 17:27:23.930 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 17:27:23.932 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (2ms).
2025-10-20 17:27:23.938 +03:00 [DBG] An entity of type 'OutboxEvent' tracked by 'BillingServiceDBContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 17:27:23.943 +03:00 [DBG] SaveChanges completed for 'BillingServiceDBContext' with 1 entities written to the database.
2025-10-20 17:27:23.946 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 17:27:23.950 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 17:27:23.954 +03:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-10-20 17:27:53.959 +03:00 [INF] Worker running at: "2025-10-20T17:27:53.9597826+03:00"
2025-10-20 17:27:53.974 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 17:27:53.981 +03:00 [DBG] Creating DbConnection.
2025-10-20 17:27:53.983 +03:00 [DBG] Created DbConnection. (1ms).
2025-10-20 17:27:53.985 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 17:27:53.987 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 17:27:53.988 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 17:27:53.990 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 17:27:53.992 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-10-20 17:27:53.994 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 17:27:53.998 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 17:27:54.001 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 17:27:54.003 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 2ms reading results.
2025-10-20 17:27:54.006 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 17:27:54.008 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (1ms).
2025-10-20 17:27:54.010 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 17:27:54.011 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 17:27:54.012 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-20 17:28:24.025 +03:00 [INF] Worker running at: "2025-10-20T17:28:24.0254788+03:00"
2025-10-20 17:28:24.096 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 17:28:24.103 +03:00 [DBG] Creating DbConnection.
2025-10-20 17:28:24.105 +03:00 [DBG] Created DbConnection. (2ms).
2025-10-20 17:28:24.108 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 17:28:24.111 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 17:28:24.113 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 17:28:24.116 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-10-20 17:28:24.119 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-10-20 17:28:24.123 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 17:28:24.131 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 17:28:24.135 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 17:28:24.139 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 4ms reading results.
2025-10-20 17:28:24.141 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 17:28:24.144 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (2ms).
2025-10-20 17:28:24.147 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 17:28:24.149 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 17:28:24.153 +03:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-10-20 17:28:41.338 +03:00 [DBG] Hosting starting
2025-10-20 17:28:41.861 +03:00 [DBG] Starting bus instances: IBus
2025-10-20 17:28:41.871 +03:00 [DBG] Starting bus: "rabbitmq://localhost/"
2025-10-20 17:28:41.899 +03:00 [INF] Worker running at: "2025-10-20T17:28:41.8990742+03:00"
2025-10-20 17:28:41.933 +03:00 [DBG] Connect: guest@localhost:5672/
2025-10-20 17:28:41.988 +03:00 [DBG] Connected: guest@localhost:5672/ (address: amqp://localhost:5672, local: 53408)
2025-10-20 17:28:42.057 +03:00 [DBG] Endpoint Ready: "rabbitmq://localhost/ECHGHANNAMLP1_BillingSystemO_bus_jt7yyyyh3bcsbdoxbdxy938zfw?temporary=true"
2025-10-20 17:28:42.060 +03:00 [INF] Bus started: "rabbitmq://localhost/"
2025-10-20 17:28:42.154 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-10-20 17:28:47.775 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 17:28:47.817 +03:00 [DBG] Compiling query expression: 
'DbSet<OutboxEvent>().FromSql(EXECUTE dbo.GetNextPendingRowsForProcessing {0}, __p_0)
'
2025-10-20 17:28:47.976 +03:00 [DBG] Generated query execution expression: 
'queryContext => FromSqlQueryingEnumerable.Create<OutboxEvent>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: OutboxEvent.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: OutboxEvent.AggregateId (long) Required, 1], [Property: OutboxEvent.CreatedDate (DateTime) Required, 2], [Property: OutboxEvent.ErrorMsg (string), 3], [Property: OutboxEvent.EventType (string) Required MaxLength(300), 4], [Property: OutboxEvent.Payload (string), 5], [Property: OutboxEvent.Processed (bool) Required, 6], [Property: OutboxEvent.ProcessingStatus (string), 7] }
        SELECT b.Id, b.Aggregate_id, b.CreatedDate, b.ErrorMsg, b.Event_type, b.Payload, b.Processed, b.ProcessingStatus
        FROM EXECUTE dbo.GetNextPendingRowsForProcessing {0}) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: OutboxEvent.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: OutboxEvent.AggregateId (long) Required, 1], [Property: OutboxEvent.CreatedDate (DateTime) Required, 2], [Property: OutboxEvent.ErrorMsg (string), 3], [Property: OutboxEvent.EventType (string) Required MaxLength(300), 4], [Property: OutboxEvent.Payload (string), 5], [Property: OutboxEvent.Processed (bool) Required, 6], [Property: OutboxEvent.ProcessingStatus (string), 7] }
        SELECT b.Id, b.Aggregate_id, b.CreatedDate, b.ErrorMsg, b.Event_type, b.Payload, b.Processed, b.ProcessingStatus
        FROM EXECUTE dbo.GetNextPendingRowsForProcessing {0}, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    columnNames: [LIFTABLE Constant: string[] { "Id", "Aggregate_id", "CreatedDate", "ErrorMsg", "Event_type", "Payload", "Processed", "ProcessingStatus" } | Resolver: _ => new string[]
    { 
        "Id", 
        "Aggregate_id", 
        "CreatedDate", 
        "ErrorMsg", 
        "Event_type", 
        "Payload", 
        "Processed", 
        "ProcessingStatus" 
    }], 
    shaper: (queryContext, dataReader, indexMap) => 
    {
        OutboxEvent entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            OutboxEvent instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(OutboxEvent);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: OutboxEvent.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("BillingSystem.Domain.Entities.OutboxEvent").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt64(indexMap[0]) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (OutboxEvent)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: OutboxEvent | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("BillingSystem.Domain.Entities.OutboxEvent")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: OutboxEvent | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("BillingSystem.Domain.Entities.OutboxEvent")]: 
                        {
                            return 
                            {
                                OutboxEvent instance;
                                instance = new OutboxEvent();
                                instance.<Id>k__BackingField = dataReader.GetInt64(indexMap[0]);
                                instance.<AggregateId>k__BackingField = dataReader.GetInt64(indexMap[1]);
                                instance.<CreatedDate>k__BackingField = dataReader.GetDateTime(indexMap[2]);
                                instance.<ErrorMsg>k__BackingField = dataReader.IsDBNull(indexMap[3]) ? default(string) : dataReader.GetString(indexMap[3]);
                                instance.<EventType>k__BackingField = dataReader.GetString(indexMap[4]);
                                instance.<Payload>k__BackingField = dataReader.IsDBNull(indexMap[5]) ? default(string) : dataReader.GetString(indexMap[5]);
                                instance.<Processed>k__BackingField = dataReader.GetBoolean(indexMap[6]);
                                instance.<ProcessingStatus>k__BackingField = dataReader.IsDBNull(indexMap[7]) ? default(string) : dataReader.GetString(indexMap[7]);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: OutboxEvent | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("BillingSystem.Domain.Entities.OutboxEvent")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(OutboxEvent)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: BillingSystem.Infrastructure.EF.BillingServiceDBContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-10-20 17:28:48.000 +03:00 [DBG] Creating DbConnection.
2025-10-20 17:28:48.018 +03:00 [DBG] Created DbConnection. (15ms).
2025-10-20 17:28:48.022 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 17:28:48.126 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-20 17:28:48.128 +03:00 [INF] Hosting environment: Development
2025-10-20 17:28:48.137 +03:00 [INF] Content root path: C:\Repositories\Gac-BillingSystem\src\BillingSystem.OutboxProcessor
2025-10-20 17:28:48.139 +03:00 [DBG] Hosting started
2025-10-20 17:28:48.209 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 17:28:48.215 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 17:28:48.220 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-10-20 17:28:48.227 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2025-10-20 17:28:48.234 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 17:28:48.289 +03:00 [INF] Executed DbCommand (56ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 17:28:48.301 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 17:28:48.308 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 11ms reading results.
2025-10-20 17:28:48.312 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 17:28:48.318 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (6ms).
2025-10-20 17:28:48.322 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 17:28:48.325 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 17:28:48.328 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-10-20 17:29:18.344 +03:00 [INF] Worker running at: "2025-10-20T17:29:18.3448045+03:00"
2025-10-20 17:29:18.374 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 17:29:18.384 +03:00 [DBG] Creating DbConnection.
2025-10-20 17:29:18.387 +03:00 [DBG] Created DbConnection. (3ms).
2025-10-20 17:29:18.391 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 17:29:18.395 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 17:29:18.398 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 17:29:18.401 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-10-20 17:29:18.405 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-10-20 17:29:18.409 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 17:29:18.424 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 17:29:18.427 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 17:29:18.430 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 2ms reading results.
2025-10-20 17:29:18.435 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 17:29:18.439 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (4ms).
2025-10-20 17:29:18.441 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 17:29:18.443 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 17:29:18.446 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-10-20 17:29:48.455 +03:00 [INF] Worker running at: "2025-10-20T17:29:48.4555312+03:00"
2025-10-20 17:29:48.537 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 17:29:48.544 +03:00 [DBG] Creating DbConnection.
2025-10-20 17:29:48.546 +03:00 [DBG] Created DbConnection. (1ms).
2025-10-20 17:29:48.550 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 17:29:48.554 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 17:29:48.559 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 17:29:48.562 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-10-20 17:29:48.567 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-10-20 17:29:48.570 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 17:29:48.592 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 17:29:48.644 +03:00 [DBG] Context 'BillingServiceDBContext' started tracking 'OutboxEvent' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 17:29:48.693 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 17:29:48.699 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 104ms reading results.
2025-10-20 17:29:48.702 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 17:29:48.706 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (4ms).
2025-10-20 17:29:48.804 +03:00 [DBG] Compiling query expression: 
'DbSet<OutboxEvent>()
    .SingleOrDefault(p => p.Id == __entity_Id_0)'
2025-10-20 17:29:48.907 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<OutboxEvent>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: OutboxEvent.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: OutboxEvent.AggregateId (long) Required, 1], [Property: OutboxEvent.CreatedDate (DateTime) Required, 2], [Property: OutboxEvent.ErrorMsg (string), 3], [Property: OutboxEvent.EventType (string) Required MaxLength(300), 4], [Property: OutboxEvent.Payload (string), 5], [Property: OutboxEvent.Processed (bool) Required, 6], [Property: OutboxEvent.ProcessingStatus (string), 7] }
        SELECT TOP(2) o.Id, o.Aggregate_id, o.CreatedDate, o.ErrorMsg, o.Event_type, o.Payload, o.Processed, o.ProcessingStatus
        FROM Outbox_events AS o
        WHERE o.Id == @__entity_Id_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: OutboxEvent.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: OutboxEvent.AggregateId (long) Required, 1], [Property: OutboxEvent.CreatedDate (DateTime) Required, 2], [Property: OutboxEvent.ErrorMsg (string), 3], [Property: OutboxEvent.EventType (string) Required MaxLength(300), 4], [Property: OutboxEvent.Payload (string), 5], [Property: OutboxEvent.Processed (bool) Required, 6], [Property: OutboxEvent.ProcessingStatus (string), 7] }
        SELECT TOP(2) o.Id, o.Aggregate_id, o.CreatedDate, o.ErrorMsg, o.Event_type, o.Payload, o.Processed, o.ProcessingStatus
        FROM Outbox_events AS o
        WHERE o.Id == @__entity_Id_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        OutboxEvent entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            OutboxEvent instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(OutboxEvent);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: OutboxEvent.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("BillingSystem.Domain.Entities.OutboxEvent").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt64(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (OutboxEvent)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: OutboxEvent | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("BillingSystem.Domain.Entities.OutboxEvent")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: OutboxEvent | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("BillingSystem.Domain.Entities.OutboxEvent")]: 
                        {
                            return 
                            {
                                OutboxEvent instance;
                                instance = new OutboxEvent();
                                instance.<Id>k__BackingField = dataReader.GetInt64(0);
                                instance.<AggregateId>k__BackingField = dataReader.GetInt64(1);
                                instance.<CreatedDate>k__BackingField = dataReader.GetDateTime(2);
                                instance.<ErrorMsg>k__BackingField = dataReader.IsDBNull(3) ? default(string) : dataReader.GetString(3);
                                instance.<EventType>k__BackingField = dataReader.GetString(4);
                                instance.<Payload>k__BackingField = dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5);
                                instance.<Processed>k__BackingField = dataReader.GetBoolean(6);
                                instance.<ProcessingStatus>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: OutboxEvent | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("BillingSystem.Domain.Entities.OutboxEvent")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(OutboxEvent)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: BillingSystem.Infrastructure.EF.BillingServiceDBContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)
    .SingleOrDefault()'
2025-10-20 17:29:48.928 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 17:29:48.933 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 17:29:48.935 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 17:29:48.937 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 17:29:48.941 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-10-20 17:29:48.945 +03:00 [DBG] Executing DbCommand [Parameters=[@__entity_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [o].[Id], [o].[Aggregate_id], [o].[CreatedDate], [o].[ErrorMsg], [o].[Event_type], [o].[Payload], [o].[Processed], [o].[ProcessingStatus]
FROM [Outbox_events] AS [o]
WHERE [o].[Id] = @__entity_Id_0
2025-10-20 17:29:48.951 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__entity_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [o].[Id], [o].[Aggregate_id], [o].[CreatedDate], [o].[ErrorMsg], [o].[Event_type], [o].[Payload], [o].[Processed], [o].[ProcessingStatus]
FROM [Outbox_events] AS [o]
WHERE [o].[Id] = @__entity_Id_0
2025-10-20 17:29:48.957 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 17:29:48.961 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 7ms reading results.
2025-10-20 17:29:48.965 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 17:29:48.968 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (2ms).
2025-10-20 17:29:48.991 +03:00 [DBG] The unchanged property 'OutboxEvent.Processed' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-10-20 17:29:49.008 +03:00 [DBG] An entity of type 'OutboxEvent' tracked by 'BillingServiceDBContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 17:29:49.021 +03:00 [DBG] SaveChanges starting for 'BillingServiceDBContext'.
2025-10-20 17:29:49.029 +03:00 [DBG] DetectChanges starting for 'BillingServiceDBContext'.
2025-10-20 17:29:55.476 +03:00 [DBG] DetectChanges completed for 'BillingServiceDBContext'.
2025-10-20 17:29:58.121 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 17:29:58.126 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 17:29:58.137 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 17:29:58.141 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-10-20 17:29:58.145 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-10-20 17:29:58.149 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int64), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Outbox_events] SET [Processed] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-10-20 17:29:58.162 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@p1='?' (DbType = Int64), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Outbox_events] SET [Processed] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-10-20 17:29:58.182 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 17:29:58.185 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 11ms reading results.
2025-10-20 17:29:58.192 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 17:29:58.195 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (3ms).
2025-10-20 17:29:58.204 +03:00 [DBG] An entity of type 'OutboxEvent' tracked by 'BillingServiceDBContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 17:29:58.209 +03:00 [DBG] SaveChanges completed for 'BillingServiceDBContext' with 1 entities written to the database.
2025-10-20 17:29:58.213 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 17:29:58.216 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 17:29:58.219 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-10-20 17:30:28.229 +03:00 [INF] Worker running at: "2025-10-20T17:30:28.2296731+03:00"
2025-10-20 17:30:28.234 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 17:30:28.238 +03:00 [DBG] Creating DbConnection.
2025-10-20 17:30:28.240 +03:00 [DBG] Created DbConnection. (1ms).
2025-10-20 17:30:28.241 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 17:30:28.243 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 17:30:28.245 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 17:30:28.247 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-10-20 17:30:28.249 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-10-20 17:30:28.251 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 17:30:28.256 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 17:30:28.259 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 17:30:28.262 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 2ms reading results.
2025-10-20 17:30:28.264 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 17:30:28.266 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (1ms).
2025-10-20 17:30:28.268 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 17:30:28.269 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 17:30:28.271 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-20 17:30:58.287 +03:00 [INF] Worker running at: "2025-10-20T17:30:58.2870361+03:00"
2025-10-20 17:30:58.293 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 17:30:58.296 +03:00 [DBG] Creating DbConnection.
2025-10-20 17:30:58.298 +03:00 [DBG] Created DbConnection. (1ms).
2025-10-20 17:30:58.299 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 17:30:58.301 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 17:30:58.303 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 17:30:58.305 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-10-20 17:30:58.308 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-10-20 17:30:58.310 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 17:30:58.333 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 17:30:58.338 +03:00 [DBG] Context 'BillingServiceDBContext' started tracking 'OutboxEvent' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 17:30:58.340 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 17:30:58.343 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 5ms reading results.
2025-10-20 17:30:58.345 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 17:30:58.348 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (2ms).
2025-10-20 17:30:58.361 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 17:31:01.107 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 17:31:01.516 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 17:31:01.526 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (10ms).
2025-10-20 17:31:02.019 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (503ms).
2025-10-20 17:31:02.022 +03:00 [DBG] Executing DbCommand [Parameters=[@__entity_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [o].[Id], [o].[Aggregate_id], [o].[CreatedDate], [o].[ErrorMsg], [o].[Event_type], [o].[Payload], [o].[Processed], [o].[ProcessingStatus]
FROM [Outbox_events] AS [o]
WHERE [o].[Id] = @__entity_Id_0
2025-10-20 17:31:02.029 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__entity_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [o].[Id], [o].[Aggregate_id], [o].[CreatedDate], [o].[ErrorMsg], [o].[Event_type], [o].[Payload], [o].[Processed], [o].[ProcessingStatus]
FROM [Outbox_events] AS [o]
WHERE [o].[Id] = @__entity_Id_0
2025-10-20 17:31:02.033 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 17:31:02.737 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 704ms reading results.
2025-10-20 17:31:02.740 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 17:31:02.745 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (5ms).
2025-10-20 17:31:02.748 +03:00 [DBG] The unchanged property 'OutboxEvent.Processed' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-10-20 17:31:02.751 +03:00 [DBG] An entity of type 'OutboxEvent' tracked by 'BillingServiceDBContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 17:31:02.758 +03:00 [DBG] SaveChanges starting for 'BillingServiceDBContext'.
2025-10-20 17:31:02.762 +03:00 [DBG] DetectChanges starting for 'BillingServiceDBContext'.
2025-10-20 17:31:10.977 +03:00 [DBG] DetectChanges completed for 'BillingServiceDBContext'.
2025-10-20 17:31:10.983 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 17:31:11.579 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 17:31:11.583 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 17:31:11.587 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-10-20 17:31:11.589 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-10-20 17:31:13.073 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int64), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Outbox_events] SET [Processed] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-10-20 17:31:14.820 +03:00 [INF] Executed DbCommand (1,747ms) [Parameters=[@p1='?' (DbType = Int64), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Outbox_events] SET [Processed] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-10-20 17:31:14.829 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 17:31:14.832 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 2ms reading results.
2025-10-20 17:31:14.836 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 17:31:20.052 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (5215ms).
2025-10-20 17:31:20.062 +03:00 [DBG] An entity of type 'OutboxEvent' tracked by 'BillingServiceDBContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 17:31:20.067 +03:00 [DBG] SaveChanges completed for 'BillingServiceDBContext' with 1 entities written to the database.
2025-10-20 17:31:20.070 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 17:31:20.072 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 17:31:20.075 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-10-20 17:36:14.265 +03:00 [INF] Worker running at: "2025-10-20T17:36:14.2659759+03:00"
2025-10-20 17:36:14.280 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'BillingServiceDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-10-20 17:36:14.306 +03:00 [DBG] Creating DbConnection.
2025-10-20 17:36:14.820 +03:00 [DBG] Created DbConnection. (513ms).
2025-10-20 17:36:14.825 +03:00 [DBG] Opening connection to database 'GAC-BillingService' on server '.'.
2025-10-20 17:36:15.343 +03:00 [DBG] Disconnect: guest@localhost:5672/
2025-10-20 17:36:15.372 +03:00 [DBG] Opened connection to database 'GAC-BillingService' on server '.'.
2025-10-20 17:36:15.382 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 17:36:15.384 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-10-20 17:36:15.390 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-10-20 17:36:15.393 +03:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 17:36:15.398 +03:00 [DBG] Disconnected: guest@localhost:5672/
2025-10-20 17:36:15.403 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXECUTE dbo.GetNextPendingRowsForProcessing @p0
2025-10-20 17:36:15.406 +03:00 [DBG] Closing data reader to 'GAC-BillingService' on server '.'.
2025-10-20 17:36:15.408 +03:00 [DBG] A data reader for 'GAC-BillingService' on server '.' is being disposed after spending 2ms reading results.
2025-10-20 17:36:15.411 +03:00 [DBG] Closing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 17:36:15.414 +03:00 [DBG] Closed connection to database 'GAC-BillingService' on server '.' (3ms).
2025-10-20 17:36:15.419 +03:00 [DBG] 'BillingServiceDBContext' disposed.
2025-10-20 17:36:15.421 +03:00 [DBG] Disposing connection to database 'GAC-BillingService' on server '.'.
2025-10-20 17:36:15.424 +03:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-10-20 17:36:46.861 +03:00 [DBG] Hosting starting
2025-10-20 17:36:47.334 +03:00 [DBG] Starting bus instances: IBus
2025-10-20 17:36:47.343 +03:00 [DBG] Starting bus: "rabbitmq://localhost/"
2025-10-20 17:36:47.375 +03:00 [INF] Worker running at: "2025-10-20T17:36:47.3749787+03:00"
2025-10-20 17:36:47.432 +03:00 [DBG] Connect: guest@localhost:5672/
2025-10-20 17:36:47.516 +03:00 [DBG] Connected: guest@localhost:5672/ (address: amqp://localhost:5672, local: 56139)
2025-10-20 17:36:47.578 +03:00 [DBG] Endpoint Ready: "rabbitmq://localhost/ECHGHANNAMLP1_BillingSystemO_bus_3ouyyyyh3bcsb4gjbdxy93o3y5?temporary=true"
2025-10-20 17:36:47.582 +03:00 [INF] Bus started: "rabbitmq://localhost/"
2025-10-20 17:36:47.649 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
